<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>指针与结构体 | 花瓶的博客</title><meta name="author" content="花瓶"><meta name="copyright" content="花瓶"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言 学习指的目的，有一点来头了且有一点绕。 我本是在做数值分析中矩阵行列式的MATLAB代码，但是之前C程序设计的课程报告里面已经把矩阵运算的各种代码编写的十分的完善。但是我在复现之中，想把动态开辟内存的C++方法new替换成C中的malloc进行动态开辟。但是自己搞了很久也没有搞懂如何动态开辟空间，所以就跟指针干上了。 下面是B站的课程：C指针视频教程   以及CSDN上面的博客总结了这个视频">
<meta property="og:type" content="article">
<meta property="og:title" content="指针与结构体">
<meta property="og:url" content="http://example.com/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/index.html">
<meta property="og:site_name" content="花瓶的博客">
<meta property="og:description" content="前言 学习指的目的，有一点来头了且有一点绕。 我本是在做数值分析中矩阵行列式的MATLAB代码，但是之前C程序设计的课程报告里面已经把矩阵运算的各种代码编写的十分的完善。但是我在复现之中，想把动态开辟内存的C++方法new替换成C中的malloc进行动态开辟。但是自己搞了很久也没有搞懂如何动态开辟空间，所以就跟指针干上了。 下面是B站的课程：C指针视频教程   以及CSDN上面的博客总结了这个视频">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/Starry_Night.jpg">
<meta property="article:published_time" content="2022-08-25T10:26:37.000Z">
<meta property="article:modified_time" content="2022-09-12T13:44:00.000Z">
<meta property="article:author" content="花瓶">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="数据结构">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/Starry_Night.jpg"><link rel="shortcut icon" href="/img/kele.png"><link rel="canonical" href="http://example.com/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":1500,"position":"top","messagePrev":"这篇文章已经有","messageNext":"未更新，花瓶里没有保鲜剂"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":250},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '指针与结构体',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-12 21:44:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/font_3352050_9mkey47daxf.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/John_King.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-ziliaoku"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijian"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-shouye-copy"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-icon"></i><span> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-youqinglianjie"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/daily/"><span> 日常说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/knowme/"><i class="fa-fw iconfont icon-mingpian"></i><span> 认识我</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyanban"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/Starry_Night.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="花瓶的博客"><span class="site-name">花瓶的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-ziliaoku"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijian"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-shouye-copy"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-icon"></i><span> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-youqinglianjie"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/daily/"><span> 日常说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/knowme/"><i class="fa-fw iconfont icon-mingpian"></i><span> 认识我</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw iconfont icon-liuyanban"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">指针与结构体</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-25T10:26:37.000Z" title="发表于 2022-08-25 18:26:37">2022-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-12T13:44:00.000Z" title="更新于 2022-09-12 21:44:00">2022-09-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">16.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>74分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="指针与结构体"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>前言</h1>
<p>学习指的目的，有一点来头了且有一点绕。</p>
<p>我本是在做数值分析中矩阵行列式的<code>MATLAB</code>代码，但是之前C程序设计的课程报告里面已经把矩阵运算的各种代码编写的十分的完善。但是我在复现之中，想把动态开辟内存的C++方法<code>new</code>替换成C中的<code>malloc</code>进行动态开辟。但是自己搞了很久也没有搞懂如何动态开辟空间，所以就跟指针干上了。</p>
<p>下面是B站的课程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1bo4y1Z7xf/">C指针视频教程</a></p>
<iframe src="//player.bilibili.com/player.html?aid=373361848&bvid=BV1bo4y1Z7xf&cid=281666296&page=18" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<p>以及CSDN上面的博客总结了这个视频：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44966641/article/details/120456141">视频知识点总结</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV18z4y1S7SD?spm_id_from=333.337.search-card.all.click&amp;vd_source=1ac4ed3431ace407e8a6385f767df1b9">C结构体视频教程</a></p>
<iframe src="//player.bilibili.com/player.html?aid=586305470&bvid=BV18z4y1S7SD&cid=286894450&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<p>下面开始总结复习~</p>
<h1>指针的基本概念</h1>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span>* p;<span class="comment">//指针的声明</span></span><br><span class="line">p = &amp;a;<span class="comment">//取地址</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d \n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的值为%d \n&quot;</span>, *p);<span class="comment">//解引用</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a的地址为%d \n&quot;</span>, &amp;a);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a的值为%d \n&quot;</span>, a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p指向的地址为5700172</span><br><span class="line">p所指向的值为4</span><br><span class="line">a的地址为5700172</span><br><span class="line">a的值为4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：p指向的地址与a的地址在每一次编译时都不一样</p>
<h2 id="值的修改">值的修改</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">	</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a的值为%d \n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">*p = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a的值为%d \n&quot;</span>, a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a的值为10</span><br><span class="line">a的值为12</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d \n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的值为%d \n&quot;</span>, *p);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> b = <span class="number">20</span>;</span><br><span class="line">*p = b;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d \n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的值为%d \n&quot;</span>, *p);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p指向的地址为10353004</span><br><span class="line">p所指向的值为10</span><br><span class="line">p指向的地址为10353004</span><br><span class="line">p所指向的值为20</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：地址未发生变化，只有值进行了改变</p>
<h2 id="指针的-1">指针的+1</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">p = &amp;a;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d \n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的值为%d \n&quot;</span>, *p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;int的大小为%d 个字节\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+1指向的地址为%d \n&quot;</span>, p + <span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+1所指向的值为%d \n&quot;</span>, *(p + <span class="number">1</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+2指向的地址为%d \n&quot;</span>, p + <span class="number">2</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+2所指向的值为%d \n&quot;</span>, *(p + <span class="number">2</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p指向的地址为11728720</span><br><span class="line">p所指向的值为10</span><br><span class="line">int的大小为4 个字节</span><br><span class="line">p+1指向的地址为11728724</span><br><span class="line">p+1所指向的值为-858993460</span><br><span class="line">p+2指向的地址为11728728</span><br><span class="line">p+2所指向的值为-1790077520</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：指针 <code>p</code> 是一个指向整型变量的指针，而一个整型变量在内存中占4个字节， 对 <code>p</code> 执行加1，应该得到的是下一个整型数据的地址，即在地址的数值上面应该加4</p>
<h2 id="指针的类型">指针的类型</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1025</span>;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;int的大小为%d 个字节\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p\t 指向的地址为%d, p所指向的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+1\t 指向的地址为%d, p所指向的值为%d\n&quot;</span>, p + <span class="number">1</span>, *(p + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* p0;</span><br><span class="line">p0 = (<span class="type">char</span>*)p;  <span class="comment">//  强制类型转换</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;char的大小为%d 个字节\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p0\t 指向的地址为%d, p0所指向的值为%d\n&quot;</span>, p0, *p0);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p0+1\t 指向的地址为%d, p0所指向的值为%d\n&quot;</span>, p0 + <span class="number">1</span>, *(p0 + <span class="number">1</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">int的大小为4 个字节</span><br><span class="line">p        指向的地址为15989384, p所指向的值为1025</span><br><span class="line">p+1      指向的地址为15989388, p所指向的值为-858993460</span><br><span class="line">char的大小为1 个字节</span><br><span class="line">p0       指向的地址为15989384, p0所指向的值为1</span><br><span class="line">p0+1     指向的地址为15989385, p0所指向的值为4</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：二进制<code>1025</code> == <code>00000000</code> <code>00000000</code> <code>00000100</code> <code>00000001</code></p>
<p>在字符中只有一个字节，机器看见<code>00000001</code>认为是1，看见第二个字节<code>00000100</code>认为是4</p>
<h2 id="void指针">void指针</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>void*</code>时通用指针类型，它不针对某个特定的指针类型。在使用时将其赋值为指向某种特定的数据类型的指针时不需要做强制类型转换。</p>
</li>
<li class="lvl-2">
<p>由于不知道它指向的类型，因此不能直接对其进行解引用<code>*p</code>，也不能对其进行算数运算<code>p+1</code>。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">1025</span>;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">p = &amp;a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;int的大小为%d个字节\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d, p所指向的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"></span><br><span class="line"><span class="type">void</span>* p0;</span><br><span class="line">p0 = p;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p0指向的地址为%d \n&quot;</span>, p0);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int的大小为4个字节</span><br><span class="line">p指向的地址为14613824, p所指向的值为1025</span><br><span class="line">p0指向的地址为14613824</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="指针的指针">指针的指针</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line">p = &amp;x;</span><br><span class="line">*p = <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span>** q = &amp;p;</span><br><span class="line"><span class="type">int</span>*** r = &amp;q;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p指向的地址为%d, p所指向的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q指向的地址为%d, q所指向的值为%d\n&quot;</span>, q, *q);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, **q);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;r指向的地址为%d, r所指向的值为%d\n&quot;</span>, r, *r);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, **r);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ***r);</span><br><span class="line"></span><br><span class="line">***r = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n修改过后，x的值为%d\n&quot;</span>, x);</span><br><span class="line"></span><br><span class="line">**q = *p + <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n修改过后，x的值为%d\n&quot;</span>, x);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">p指向的地址为6487408, p所指向的值为6</span><br><span class="line">q指向的地址为6487396, q所指向的值为6487408</span><br><span class="line">6</span><br><span class="line">r指向的地址为6487384, r所指向的值为6487396</span><br><span class="line">6487408</span><br><span class="line">6</span><br><span class="line"></span><br><span class="line">修改过后，x的值为10</span><br><span class="line"></span><br><span class="line">修改过后，x的值为12</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：<code>x</code>是整型变量，<code>p</code>指向<code>x</code>，<code>q</code>指向<code>p</code>，<code>r</code>指向<code>q</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/55f1ba2e4d5a42a68754738c9470eb67.png" alt="指针的指针描述"></p>
<h2 id="内存四区">内存四区</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>堆区（heap）：一般由程序员手动分配释放（动态内存申请与释放），若程序员不释放，程序结束时可能由操作系统回收。</p>
</li>
<li class="lvl-2">
<p>栈区（stack）：由编译器自动分配释放，存放函数的形参、局部变量等。当函数执行完毕时自动释放。</p>
</li>
<li class="lvl-2">
<p>全局区（global / stack）：用于存放全局变量和静态变量， 里面细分有一个常量区，一些常量存放在此。该区域是在程序结束后由操作系统释放。</p>
</li>
<li class="lvl-2">
<p>代码区（code / text）：用于存放程序代码，字符串常量也存放于此。</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/909c743396bd41f59686a3c76b05f2be.png" alt="内存四区"></p>
<h2 id="函数传值">函数传值</h2>
<h3 id="值传递call-by-value">值传递call by value</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Increment</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">&#123;</span><br><span class="line">	a = a + <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a在Increment子函数中的地址为%d\n&quot;</span>, &amp;a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	a = <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;经过Increment子函数前，a = %d\n&quot;</span>, a);</span><br><span class="line">	Increment(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;经过Increment子函数后，a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a在main函数中的地址为%d\n&quot;</span>, &amp;a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">经过Increment子函数前，a = 10</span><br><span class="line">a在Increment子函数中的地址为12252908</span><br><span class="line">经过Increment子函数后，a = 10</span><br><span class="line">a在main函数中的地址为12253120</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：在两个函数中操作的<code>a</code>变量并不是同一个，所以程序输出的是没有加1过的<code>a</code>的值。</p>
<p>在<code>Increment()</code>函数中，<strong>临时变量local variable</strong> <code>a</code>，会在该函数结束后立刻释放掉。也就是说<code>Increment()</code>函数中的<code>a</code> ，和<code>main()</code> 函数中的 <code>a</code> 并不是同一个变量。</p>
<h3 id="传引用-call-by-reference">传引用 call by reference</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Increment</span><span class="params">(<span class="type">int</span>* p)</span></span><br><span class="line">&#123;</span><br><span class="line">	*p = *p + <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a在Increment子函数中的地址为%d\n&quot;</span>, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> a;</span><br><span class="line">	a = <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;经过Increment子函数前，a = %d\n&quot;</span>, a);</span><br><span class="line">	Increment(&amp;a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;经过Increment子函数后，a = %d\n&quot;</span>, a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a在main函数中的地址为%d\n&quot;</span>, &amp;a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">经过Increment子函数前，a = 10</span><br><span class="line">a在Increment子函数中的地址为16645096</span><br><span class="line">经过Increment子函数后，a = 11</span><br><span class="line">a在main函数中的地址为16645096</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>数组与指针</h1>
<h2 id="数组运算">数组运算</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> A[] = &#123; <span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A的地址为%d\n&quot;</span>, A);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A[0]的地址为%d\n&quot;</span>, &amp;A[<span class="number">0</span>]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A[0]的值为%d\n&quot;</span>, A[<span class="number">0</span>]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A地址的值为为%d\n&quot;</span>, *A);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A的地址为10221948</span><br><span class="line">A[0]的地址为10221948</span><br><span class="line">A[0]的值为2</span><br><span class="line">A地址的值为为2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> A[] = &#123; <span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span> &#125;;</span><br><span class="line"><span class="type">int</span>* p = A;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p的地址为%d，p所指向的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;A+%d的地址为%d，A+%d地址的值为为%d\n&quot;</span>, i, A + i, i, *(A + i));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;A[i]的地址为%d，A[i]的值为%d\n&quot;</span>, &amp;A[i], A[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p+%d地址的值为为%d，p+%d所指向的值为%d\n\n&quot;</span>, i, p + i, i, *(p + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">p的地址为15726436，p所指向的值为2</span><br><span class="line">A+0的地址为15726436，A+0地址的值为为2</span><br><span class="line">A[i]的地址为15726436，A[i]的值为2</span><br><span class="line">p+0地址的值为为15726436，p+0所指向的值为2</span><br><span class="line"></span><br><span class="line">A+1的地址为15726440，A+1地址的值为为4</span><br><span class="line">A[i]的地址为15726440，A[i]的值为4</span><br><span class="line">p+1地址的值为为15726440，p+1所指向的值为4</span><br><span class="line"></span><br><span class="line">A+2的地址为15726444，A+2地址的值为为6</span><br><span class="line">A[i]的地址为15726444，A[i]的值为6</span><br><span class="line">p+2地址的值为为15726444，p+2所指向的值为6</span><br><span class="line"></span><br><span class="line">A+3的地址为15726448，A+3地址的值为为8</span><br><span class="line">A[i]的地址为15726448，A[i]的值为8</span><br><span class="line">p+3地址的值为为15726448，p+3所指向的值为8</span><br><span class="line"></span><br><span class="line">A+4的地址为15726452，A+4地址的值为为1</span><br><span class="line">A[i]的地址为15726452，A[i]的值为1</span><br><span class="line">p+4地址的值为为15726452，p+4所指向的值为1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对于第<code>i</code>个元素：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p>取地址：<code>&amp;A[i]</code> or <code>(A+i)</code></p>
</li>
<li class="lvl-2">
<p>取值： <code>A[i]</code> or <code>*(A+i)</code></p>
</li>
</ul>
<p>注：数组名不能直接自加，即不可~~<code>A++</code>~~，但是可以将其赋值给一个指针，指针可以自加：<code>p++</code>。</p>
<p>常量不能被赋值，即若有数组名 <code>A</code>，指针 <code>p</code>，则~~<code>A = p</code>~~是非法的</p>
<h2 id="数组参数">数组参数</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">SumOfElements</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		sum += A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span> A[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">	<span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line">	<span class="type">int</span> total = SumOfElements(A, size);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;数组元素之和为%d\n&quot;</span>, total);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组元素之和为15</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>进一步的封装，将数组元素个数的计算也放到调用函数内来进行</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">SumOfElements</span><span class="params">(<span class="type">int</span> A[])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;SOE函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		sum += A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> A[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="type">int</span> total = SumOfElements(A);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;数组元素之和为%d\n&quot;</span>, total);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Main函数 - A的大小为20, A[0]的大小为4</span><br><span class="line">SOE函数 - A的大小为4, A[0]的大小为4</span><br><span class="line">数组元素之和为1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>实际上，编译器只把数组<code>A</code>的首地址赋值给一个指针，作为<code>SOE()</code>的形参。</p>
<p>子函数<code>SumOfElements(int A[])</code>其实是相当于<code>SumOfElements(int* A)</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">SumOfElements</span><span class="params">(<span class="type">int</span>* A)</span><span class="comment">//这里有改动</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;SOE函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		sum += A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> A[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="type">int</span> total = SumOfElements(A);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;数组元素之和为%d\n&quot;</span>, total);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>数组作为函数参数时是<strong>传引用(call by reference)</strong>，而非我们预期的值传递。传引用的指针<code>A</code>可以改为<code>&amp;A[0]</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">SumOfElements</span><span class="params">(<span class="type">int</span>* A, <span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, sum = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;SOE函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		sum += A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> A[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">	<span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - A的大小为%d, A[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));</span><br><span class="line">	<span class="type">int</span> total = SumOfElements(&amp;A[<span class="number">0</span>], size);<span class="comment">//这里有改动</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;数组元素之和为%d\n&quot;</span>, total);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>通常来讲，数组会是一个很长，占内存空间很大的变量，如果每次传参都按照值传递完整地拷贝一份的话，效率极其低下。而如果采用传引用的方式，需要传递的只有一个指针的大小。</p>
<h2 id="字符数组">字符数组</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/fcfe9077b4e445d2801df37a235872b6.png" alt="字符数组"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[<span class="number">4</span>];</span><br><span class="line">C[<span class="number">0</span>] = <span class="string">&#x27;J&#x27;</span>;</span><br><span class="line">C[<span class="number">1</span>] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">C[<span class="number">2</span>] = <span class="string">&#x27;H&#x27;</span>;</span><br><span class="line">C[<span class="number">3</span>] = <span class="string">&#x27;N&#x27;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, C);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JOHN烫烫槴瘌?</span><br></pre></td></tr></table></figure>
<p>测试得到的输出结果是<code>JOHN</code>+几个乱码，因为没有设置 <code>\0</code> 来标识字符串的结束。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[<span class="number">4</span>];</span><br><span class="line">C[<span class="number">0</span>] = <span class="string">&#x27;J&#x27;</span>;</span><br><span class="line">C[<span class="number">1</span>] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">C[<span class="number">2</span>] = <span class="string">&#x27;H&#x27;</span>;</span><br><span class="line">C[<span class="number">3</span>] = <span class="string">&#x27;N&#x27;</span>;</span><br><span class="line">C[<span class="number">4</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, C);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JOHN</span><br></pre></td></tr></table></figure>
<p>通过在字符数组的最后添加一个 <code>\0</code> 来标志字符串的结束，所以字符数组的长度要比字符串中字符的个数至少多一个</p>
<p>通过引入头文件<code>string.h</code>，可以使用<code>strlen()</code>函数获取到字符串的长度，无论我们声明的字符数组有多长（比如20），该函数会找到第一个 <code>\0</code>，并返回之前的元素个数，也就是我们实际的字符串长度。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[<span class="number">20</span>];</span><br><span class="line">C[<span class="number">0</span>] = <span class="string">&#x27;J&#x27;</span>;</span><br><span class="line">C[<span class="number">1</span>] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">C[<span class="number">2</span>] = <span class="string">&#x27;H&#x27;</span>;</span><br><span class="line">C[<span class="number">3</span>] = <span class="string">&#x27;N&#x27;</span>;</span><br><span class="line">C[<span class="number">4</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len = <span class="built_in">strlen</span>(C);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度为%d&quot;</span>, C, len);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数组JOHN的长度为4</span><br></pre></td></tr></table></figure>
<p>通过 <code>char C[20] = &quot;JOHN&quot;</code> 这种方式定义的字符串，**编译器一定会在其末尾添加一个 **<code>\0</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[<span class="number">20</span>] = <span class="string">&quot;JOHN&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len = <span class="built_in">strlen</span>(C);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度为%d&quot;</span>, C, len);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度字节数为%d&quot;</span>, C, <span class="keyword">sizeof</span>(C));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组JOHN的长度为4</span><br><span class="line">数组JOHN的长度字节数为20</span><br></pre></td></tr></table></figure>
<p>也可以不指定数组的大小，把<code>char C[20] = &quot;JOHN&quot;</code>改成<code>char C[] = &quot;JOHN&quot;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[] = <span class="string">&quot;JOHN&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len = <span class="built_in">strlen</span>(C);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度为%d&quot;</span>, C, len);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度字节数为%d&quot;</span>, C, <span class="keyword">sizeof</span>(C));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组JOHN的长度为4</span><br><span class="line">数组JOHN的长度字节数为5</span><br></pre></td></tr></table></figure>
<p>显示指定数组，把<code>char C[20] = &quot;JOHN&quot;</code>改成<code>char C[5] = &#123;'J','O','H','N','\0'&#125;;&quot;</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> C[<span class="number">5</span>] = &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;N&#x27;</span>,<span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> len = <span class="built_in">strlen</span>(C);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度为%d&quot;</span>, C, len);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;数组%s的长度字节数为%d&quot;</span>, C, <span class="keyword">sizeof</span>(C));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组JOHN的长度为4</span><br><span class="line">数组JOHN的长度字节数为5</span><br></pre></td></tr></table></figure>
<p>编写输出子函数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printString</span><span class="params">(<span class="type">char</span>* C)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (C[i] != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, C[i]);</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> C[<span class="number">20</span>] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">	printString(C);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></table></figure>
<p>可以将<code>C[i]</code>替换成<code>*(C + i)</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printString</span><span class="params">(<span class="type">char</span>* C)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (*(C + i) != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, *(C + i));</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> C[<span class="number">20</span>] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">	printString(C);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></table></figure>
<p>在子函数<code>printString</code>中，这里<code>C</code>代表指向字符型的指针，<code>C++</code>等于<code>C = C + 1</code>，即地址的值+1</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printString</span><span class="params">(<span class="type">char</span>* C)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (*C != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, *C);</span><br><span class="line">		C++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> C[<span class="number">20</span>] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">	printString(C);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></table></figure>
<p>字符串常量<code>const char* C = &quot;Hello&quot;;</code>，存放在代码区，其值不能被修改。~~<code>C[0] = ‘A’</code>~~是非法操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printString</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* C)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">while</span> (*C != <span class="string">&#x27;\0&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, *C);</span><br><span class="line">		C++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">const</span> <span class="type">char</span>* C = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">	printString(C);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br></pre></td></tr></table></figure>
<h2 id="二维数组">二维数组</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/0160a63403a64ab7a7fee89a9393f014.png" alt="二维数组"></p>
<p>二维数组：<code>int B[2][3]</code></p>
<p><code>B[0], B[1]</code> 都是包含3个整型数据的一维数组</p>
<p><code>B</code>返回的不是一个整型变量，而是一个包含3个整型变量的一维数组。~~<code>int* p = B</code>~~是非法的，应该写<code>int (*p)[3] = B</code></p>
<p><code>*B</code>返回一个指向整型的指针，<code>int* q = *B</code>是合法的</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>B</code>是二维数组的数组名，亦为二维数组的首地址</p>
</li>
<li class="lvl-2">
<p><code>*B</code>是一维数组的首地址</p>
</li>
<li class="lvl-2">
<p><code>B[0]</code>是一维数组名，亦为一维数组首地址</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> B[<span class="number">2</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>&#125; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;B的大小为%d，*B的大小为%d，B[0]的大小为%d，**B的大小为%d\n\n&quot;</span>, <span class="keyword">sizeof</span>(B), <span class="keyword">sizeof</span>(*B), <span class="keyword">sizeof</span>(B[<span class="number">0</span>]), <span class="keyword">sizeof</span>(**B));</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;B的地址为%d，&amp;B[0]的地址为%d\n&quot;</span>, B, &amp;B[<span class="number">0</span>]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;B+1的地址为%d，&amp;B[1]的地址为%d\n\n&quot;</span>, B + <span class="number">1</span>, &amp;B[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>(*p)[<span class="number">3</span>] = B;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p的地址为%d，p+1的地址为%d\n\n&quot;</span>, p, p + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* q = *B;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;q+%d的地址为%d，q+%d指向的值为%d\n&quot;</span>, i, q + i, i, *(q + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;*(B+%d)+%d地址的值为%d，&quot;</span>, i, j, *(B + i) + j);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;B[%d]+%d的值为%d，&quot;</span>, i, j, B[i] + j);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;B[%d][%d]的地址为%d\n&quot;</span>, i, j, &amp;B[i][j]);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;*(*(B+%d)+%d)的值为%d，&quot;</span>, i, j, *(*(B + i) + j));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;*(B[%d]+%d)的值为%d，&quot;</span>, i, j, *(B[i] + j));</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;B[%d][%d]的值为%d\n&quot;</span>, i, j, B[i][j]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">B的大小为24，*B的大小为12，B[0]的大小为12，**B的大小为4</span><br><span class="line"></span><br><span class="line">B的地址为2096816，&amp;B[0]的地址为2096816</span><br><span class="line">B+1的地址为2096828，&amp;B[1]的地址为2096828</span><br><span class="line"></span><br><span class="line">p的地址为2096816，p+1的地址为2096828</span><br><span class="line"></span><br><span class="line">q+0的地址为2096816，q+0指向的值为2</span><br><span class="line">q+1的地址为2096820，q+1指向的值为3</span><br><span class="line">q+2的地址为2096824，q+2指向的值为6</span><br><span class="line">*(B+0)+0地址的值为2096816，B[0]+0的值为2096816，B[0][0]的地址为2096816</span><br><span class="line">*(*(B+0)+0)的值为2，*(B[0]+0)的值为2，B[0][0]的值为2</span><br><span class="line">*(B+0)+1地址的值为2096820，B[0]+1的值为2096820，B[0][1]的地址为2096820</span><br><span class="line">*(*(B+0)+1)的值为3，*(B[0]+1)的值为3，B[0][1]的值为3</span><br><span class="line">*(B+0)+2地址的值为2096824，B[0]+2的值为2096824，B[0][2]的地址为2096824</span><br><span class="line">*(*(B+0)+2)的值为6，*(B[0]+2)的值为6，B[0][2]的值为6</span><br><span class="line">*(B+1)+0地址的值为2096828，B[1]+0的值为2096828，B[1][0]的地址为2096828</span><br><span class="line">*(*(B+1)+0)的值为4，*(B[1]+0)的值为4，B[1][0]的值为4</span><br><span class="line">*(B+1)+1地址的值为2096832，B[1]+1的值为2096832，B[1][1]的地址为2096832</span><br><span class="line">*(*(B+1)+1)的值为5，*(B[1]+1)的值为5，B[1][1]的值为5</span><br><span class="line">*(B+1)+2地址的值为2096836，B[1]+2的值为2096836，B[1][2]的地址为2096836</span><br><span class="line">*(*(B+1)+2)的值为8，*(B[1]+2)的值为8，B[1][2]的值为8</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>转换公式：<code>B[i][j]</code> == <code>*(B[i]+j)</code> == <code>*(*(B+i)+j)</code></p>
<h2 id="多维数组-2">多维数组</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/46eea97083424ee28b00f461c66465b4.png" alt="三维数组"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> C[<span class="number">3</span>][<span class="number">2</span>][<span class="number">2</span>] = &#123; &#123; &#123;<span class="number">2</span>,<span class="number">5</span>&#125;,&#123;<span class="number">7</span>,<span class="number">9</span>&#125; &#125;,&#123; &#123;<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">6</span>,<span class="number">1</span>&#125; &#125;,&#123; &#123;<span class="number">0</span>,<span class="number">8</span>&#125;,&#123;<span class="number">11</span>,<span class="number">13</span>&#125; &#125; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;C的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(C));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;*C的大小为%d，C[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(*C), <span class="keyword">sizeof</span>(C[<span class="number">0</span>]));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;**C的大小为%d，C[0][0]的大小为%d，*C[0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(**C), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(*C[<span class="number">0</span>]));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;***C的大小为%d，*C[0][0]的大小为%d，**C[0]的大小为%d，C[0][0][0]的大小为%d\n\n&quot;</span>, <span class="keyword">sizeof</span>(***C), <span class="keyword">sizeof</span>(*C[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(**C[<span class="number">0</span>]), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;C的地址为%d，*C地址的值为%d，C[0]地址的值为%d，C[0][0]地址为%d\n\n&quot;</span>, C, *C, C[<span class="number">0</span>], &amp;C[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>(*p)[<span class="number">2</span>][<span class="number">2</span>] = C;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p+%d的地址为%d\n&quot;</span>, i, *(p + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>(*q)[<span class="number">2</span>] = *C;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;q+%d的地址为%d\n&quot;</span>, i, *(q + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* r = **C;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;r+%d的地址为%d，r+%d指向的值为%d\n&quot;</span>, i, r + i, i, *(r + i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;*(*(C+%d)+%d)+%d地址的值为%d，&quot;</span>, i, j, k, *(*(C + i) + j) + k);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;*(C[%d]+%d)+%d的值为%d，&quot;</span>, i, j, k, *(C[i] + j)) + k;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;C[%d][%d]+%d的值为%d，&quot;</span>, i, j, k, C[i][j] + k);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;C[%d][%d][%d]的地址为%d\n&quot;</span>, i, j, k, &amp;C[i][j][k]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;*(*(*(C+%d)+%d)+%d)的值为%d，&quot;</span>, i, j, k, *(*(*(C + i) + j) + k));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;*(*(C[%d]+%d)+%d)的值为%d，&quot;</span>, i, j, k, *(*(C[i] + j) + k));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;*(C[%d][%d]+%d)的值为%d&quot;</span>, i, j, k, *(C[i][j] + k));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;C[%d][%d][%d]的值为%d\n&quot;</span>, i, j, k, C[i][j][k]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">C的大小为48</span><br><span class="line">*C的大小为16，C[0]的大小为16</span><br><span class="line">**C的大小为8，C[0][0]的大小为8，*C[0]的大小为8</span><br><span class="line">***C的大小为4，*C[0][0]的大小为4，**C[0]的大小为4，C[0][0][0]的大小为4</span><br><span class="line"></span><br><span class="line">C的地址为7797352，*C地址的值为7797352，C[0]地址的值为7797352，C[0][0]地址为7797352</span><br><span class="line"></span><br><span class="line">p+0的地址为7797352</span><br><span class="line">p+1的地址为7797368</span><br><span class="line">p+2的地址为7797384</span><br><span class="line">q+0的地址为7797352</span><br><span class="line">q+1的地址为7797360</span><br><span class="line">r+0的地址为7797352，r+0指向的值为2</span><br><span class="line">r+1的地址为7797356，r+1指向的值为5</span><br><span class="line">*(*(C+0)+0)+0地址的值为7797352，*(C[0]+0)+0的值为7797352，C[0][0]+0的值为7797352，C[0][0][0]的地址为7797352</span><br><span class="line">*(*(*(C+0)+0)+0)的值为2，*(*(C[0]+0)+0)的值为2，*(C[0][0]+0)的值为2C[0][0][0]的值为2</span><br><span class="line">*(*(C+0)+0)+1地址的值为7797356，*(C[0]+0)+1的值为7797352，C[0][0]+1的值为7797356，C[0][0][1]的地址为7797356</span><br><span class="line">*(*(*(C+0)+0)+1)的值为5，*(*(C[0]+0)+1)的值为5，*(C[0][0]+1)的值为5C[0][0][1]的值为5</span><br><span class="line">*(*(C+0)+1)+0地址的值为7797360，*(C[0]+1)+0的值为7797360，C[0][1]+0的值为7797360，C[0][1][0]的地址为7797360</span><br><span class="line">*(*(*(C+0)+1)+0)的值为7，*(*(C[0]+1)+0)的值为7，*(C[0][1]+0)的值为7C[0][1][0]的值为7</span><br><span class="line">*(*(C+0)+1)+1地址的值为7797364，*(C[0]+1)+1的值为7797360，C[0][1]+1的值为7797364，C[0][1][1]的地址为7797364</span><br><span class="line">*(*(*(C+0)+1)+1)的值为9，*(*(C[0]+1)+1)的值为9，*(C[0][1]+1)的值为9C[0][1][1]的值为9</span><br><span class="line">*(*(C+1)+0)+0地址的值为7797368，*(C[1]+0)+0的值为7797368，C[1][0]+0的值为7797368，C[1][0][0]的地址为7797368</span><br><span class="line">*(*(*(C+1)+0)+0)的值为3，*(*(C[1]+0)+0)的值为3，*(C[1][0]+0)的值为3C[1][0][0]的值为3</span><br><span class="line">*(*(C+1)+0)+1地址的值为7797372，*(C[1]+0)+1的值为7797368，C[1][0]+1的值为7797372，C[1][0][1]的地址为7797372</span><br><span class="line">*(*(*(C+1)+0)+1)的值为4，*(*(C[1]+0)+1)的值为4，*(C[1][0]+1)的值为4C[1][0][1]的值为4</span><br><span class="line">*(*(C+1)+1)+0地址的值为7797376，*(C[1]+1)+0的值为7797376，C[1][1]+0的值为7797376，C[1][1][0]的地址为7797376</span><br><span class="line">*(*(*(C+1)+1)+0)的值为6，*(*(C[1]+1)+0)的值为6，*(C[1][1]+0)的值为6C[1][1][0]的值为6</span><br><span class="line">*(*(C+1)+1)+1地址的值为7797380，*(C[1]+1)+1的值为7797376，C[1][1]+1的值为7797380，C[1][1][1]的地址为7797380</span><br><span class="line">*(*(*(C+1)+1)+1)的值为1，*(*(C[1]+1)+1)的值为1，*(C[1][1]+1)的值为1C[1][1][1]的值为1</span><br><span class="line">*(*(C+2)+0)+0地址的值为7797384，*(C[2]+0)+0的值为7797384，C[2][0]+0的值为7797384，C[2][0][0]的地址为7797384</span><br><span class="line">*(*(*(C+2)+0)+0)的值为0，*(*(C[2]+0)+0)的值为0，*(C[2][0]+0)的值为0C[2][0][0]的值为0</span><br><span class="line">*(*(C+2)+0)+1地址的值为7797388，*(C[2]+0)+1的值为7797384，C[2][0]+1的值为7797388，C[2][0][1]的地址为7797388</span><br><span class="line">*(*(*(C+2)+0)+1)的值为8，*(*(C[2]+0)+1)的值为8，*(C[2][0]+1)的值为8C[2][0][1]的值为8</span><br><span class="line">*(*(C+2)+1)+0地址的值为7797392，*(C[2]+1)+0的值为7797392，C[2][1]+0的值为7797392，C[2][1][0]的地址为7797392</span><br><span class="line">*(*(*(C+2)+1)+0)的值为11，*(*(C[2]+1)+0)的值为11，*(C[2][1]+0)的值为11C[2][1][0]的值为11</span><br><span class="line">*(*(C+2)+1)+1地址的值为7797396，*(C[2]+1)+1的值为7797392，C[2][1]+1的值为7797396，C[2][1][1]的地址为7797396</span><br><span class="line">*(*(*(C+2)+1)+1)的值为13，*(*(C[2]+1)+1)的值为13，*(C[2][1]+1)的值为13C[2][1][1]的值为13</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>转换公式：<code>C[i][j][k]</code> == <code>*(C[i][j]+k)</code> == <code>*(*(C[i]+j)+k)</code> ==<code> *(*(*(C+i)+j)+k)</code></p>
<h2 id="多维数组作为参数">多维数组作为参数</h2>
<p>二维数组做参数：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>void func(int (*Arr)[3])</code></p>
</li>
<li class="lvl-2">
<p><code>void func(int Arr[][3])</code></p>
</li>
<li class="lvl-2">
<p><s><code>void func(int **A)</code></s></p>
</li>
</ul>
<p>三维数组做参数：</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><code>void func(int (*Arr)[2][2])</code></p>
</li>
<li class="lvl-2">
<p><code>void func(int Arr[][2][2])</code></p>
</li>
<li class="lvl-2">
<p><s><code>void func(int ***A)</code></s></p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">func1</span><span class="params">(<span class="type">int</span> Arr[][<span class="number">3</span>])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;func1函数 - Arr的大小为%d, Arr[0]的大小为%d, Arr[0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(Arr), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Arr[%d][%d]的地址为%d，Arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;Arr[i][j], i, j,Arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">func2</span><span class="params">(<span class="type">int</span> Arr[][<span class="number">2</span>][<span class="number">2</span>])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;func2函数 - Arr的大小为%d, Arr[0]的大小为%d, Arr[0][0]的大小为%d, Arr[0][0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(Arr), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;Arr[%d][%d][%d]的地址为%d，Arr[%d][%d][%d]的值为%d\n&quot;</span>, i, j, k, &amp;Arr[i][j][k], i, j, k, Arr[i][j][k]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span> A[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">	<span class="type">int</span> B[<span class="number">2</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>&#125; &#125;;</span><br><span class="line">	<span class="type">int</span> C[<span class="number">3</span>][<span class="number">2</span>][<span class="number">2</span>] = &#123; &#123; &#123;<span class="number">2</span>,<span class="number">5</span>&#125;,&#123;<span class="number">7</span>,<span class="number">9</span>&#125; &#125;,&#123; &#123;<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">6</span>,<span class="number">1</span>&#125; &#125;,&#123; &#123;<span class="number">0</span>,<span class="number">8</span>&#125;,&#123;<span class="number">11</span>,<span class="number">13</span>&#125; &#125; &#125;;</span><br><span class="line">	<span class="type">int</span> D[<span class="number">3</span>][<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - B的大小为%d, B[0]的大小为%d, B[0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(B), <span class="keyword">sizeof</span>(B[<span class="number">0</span>]), <span class="keyword">sizeof</span>(B[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - B的地址为%d\n&quot;</span>, B);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - C的大小为%d, C[0]的大小为%d, C[0][0]的大小为%d, C[0][0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(C), <span class="keyword">sizeof</span>(C[<span class="number">0</span>]), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - C的地址为%d\n&quot;</span>, C);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//func1(A);	// 错误</span></span><br><span class="line">	func1(B); <span class="comment">// 正确</span></span><br><span class="line"></span><br><span class="line">	func2(C); <span class="comment">// 正确</span></span><br><span class="line">	<span class="comment">//func2(D); // 错误</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">func1</span><span class="params">(<span class="type">int</span> (*Arr)[<span class="number">3</span>])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;func1函数 - Arr的大小为%d, Arr[0]的大小为%d, Arr[0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(Arr), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Arr[%d][%d]的地址为%d，Arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;Arr[i][j], i, j,Arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">func2</span><span class="params">(<span class="type">int</span> (*Arr)[<span class="number">2</span>][<span class="number">2</span>])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;func2函数 - Arr的大小为%d, Arr[0]的大小为%d, Arr[0][0]的大小为%d, Arr[0][0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(Arr), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(Arr[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;Arr[%d][%d][%d]的地址为%d，Arr[%d][%d][%d]的值为%d\n&quot;</span>, i, j, k, &amp;Arr[i][j][k], i, j, k, Arr[i][j][k]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span> A[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">	<span class="type">int</span> B[<span class="number">2</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>&#125; &#125;;</span><br><span class="line">	<span class="type">int</span> C[<span class="number">3</span>][<span class="number">2</span>][<span class="number">2</span>] = &#123; &#123; &#123;<span class="number">2</span>,<span class="number">5</span>&#125;,&#123;<span class="number">7</span>,<span class="number">9</span>&#125; &#125;,&#123; &#123;<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">6</span>,<span class="number">1</span>&#125; &#125;,&#123; &#123;<span class="number">0</span>,<span class="number">8</span>&#125;,&#123;<span class="number">11</span>,<span class="number">13</span>&#125; &#125; &#125;;</span><br><span class="line">	<span class="type">int</span> D[<span class="number">3</span>][<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - B的大小为%d, B[0]的大小为%d, B[0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(B), <span class="keyword">sizeof</span>(B[<span class="number">0</span>]), <span class="keyword">sizeof</span>(B[<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - B的地址为%d\n&quot;</span>, B);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - C的大小为%d, C[0]的大小为%d, C[0][0]的大小为%d, C[0][0][0]的大小为%d\n&quot;</span>, <span class="keyword">sizeof</span>(C), <span class="keyword">sizeof</span>(C[<span class="number">0</span>]), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>]), <span class="keyword">sizeof</span>(C[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Main函数 - C的地址为%d\n&quot;</span>, C);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//func1(A);	// 错误</span></span><br><span class="line">	func1(B); <span class="comment">// 正确</span></span><br><span class="line"></span><br><span class="line">	func2(C); <span class="comment">// 正确</span></span><br><span class="line">	<span class="comment">//func2(D); // 错误</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Main函数 - B的大小为24, B[0]的大小为12, B[0][0]的大小为4</span><br><span class="line">Main函数 - B的地址为15727220</span><br><span class="line">Main函数 - C的大小为48, C[0]的大小为16, C[0][0]的大小为8, C[0][0][0]的大小为4</span><br><span class="line">Main函数 - C的地址为15727164</span><br><span class="line">func1函数 - Arr的大小为4, Arr[0]的大小为12, Arr[0][0]的大小为4</span><br><span class="line">Arr[0][0]的地址为15727220，Arr[0][0]的值为2</span><br><span class="line">Arr[0][1]的地址为15727224，Arr[0][1]的值为3</span><br><span class="line">Arr[0][2]的地址为15727228，Arr[0][2]的值为6</span><br><span class="line">Arr[1][0]的地址为15727232，Arr[1][0]的值为4</span><br><span class="line">Arr[1][1]的地址为15727236，Arr[1][1]的值为5</span><br><span class="line">Arr[1][2]的地址为15727240，Arr[1][2]的值为8</span><br><span class="line">func2函数 - Arr的大小为4, Arr[0]的大小为16, Arr[0][0]的大小为8, Arr[0][0][0]的大小为4</span><br><span class="line">Arr[0][0][0]的地址为15727164，Arr[0][0][0]的值为2</span><br><span class="line">Arr[0][0][1]的地址为15727168，Arr[0][0][1]的值为5</span><br><span class="line">Arr[0][1][0]的地址为15727172，Arr[0][1][0]的值为7</span><br><span class="line">Arr[0][1][1]的地址为15727176，Arr[0][1][1]的值为9</span><br><span class="line">Arr[1][0][0]的地址为15727180，Arr[1][0][0]的值为3</span><br><span class="line">Arr[1][0][1]的地址为15727184，Arr[1][0][1]的值为4</span><br><span class="line">Arr[1][1][0]的地址为15727188，Arr[1][1][0]的值为6</span><br><span class="line">Arr[1][1][1]的地址为15727192，Arr[1][1][1]的值为1</span><br><span class="line">Arr[2][0][0]的地址为15727196，Arr[2][0][0]的值为0</span><br><span class="line">Arr[2][0][1]的地址为15727200，Arr[2][0][1]的值为8</span><br><span class="line">Arr[2][1][0]的地址为15727204，Arr[2][1][0]的值为11</span><br><span class="line">Arr[2][1][1]的地址为15727208，Arr[2][1][1]的值为13</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>动态内存</h1>
<h2 id="malloc、calloc、realloc">malloc、calloc、realloc</h2>
<h3 id="malloc">malloc</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p>函数签名：<code>void* malloc(size_t size)</code>。函数接收一个参数<code>size</code>，返回的<code>void*</code>指针指向了分配给我们的内存块中的第一个字节的地址。</p>
</li>
<li class="lvl-2">
<p><code>void*</code>类型的指针<strong>只能指明地址值，但是无法用于解引用</strong>，所以通常我们需要对返回的指针做强制类型转换，转换成我们需要的指针类型。</p>
</li>
<li class="lvl-2">
<p>通常我们不显式地给出参数<code>size</code>的值，而是通过<code>sizeof</code>，再乘上我们需要的元素个数，计算出我们需要的内存空间的大小。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* a = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="number">3</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">*a = <span class="number">10</span>;</span><br><span class="line">*(a + <span class="number">1</span>) = <span class="number">3</span>;</span><br><span class="line">a[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a[%d] = %d\n&quot;</span>, i,a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a[0] = 10</span><br><span class="line">a[1] = 3</span><br><span class="line">a[2] = 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="calloc">calloc</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p>函数签名：<code>void* calloc(size_t num, size_t size)</code>。函数接收两个参数<code>num</code>，<code>size</code>，分别表示特定类型的元素的数量和类型的大小。同样返回一个<code>void*</code>类型的指针。</p>
</li>
<li class="lvl-2">
<p><code>calloc</code>与<code>malloc</code>的另一个区别是：<code>malloc</code>分配完内存后不会对其进行初始化，<code>calloc</code>分配完内存后会将值初始化位0。</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* a = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="number">3</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a[%d] = %d\n&quot;</span>, i,a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* b = (<span class="type">int</span>*)<span class="built_in">calloc</span>(<span class="number">3</span> , <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b[%d] = %d\n&quot;</span>, i, b[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a[0] = -842150451</span><br><span class="line">a[1] = -842150451</span><br><span class="line">a[2] = -842150451</span><br><span class="line">b[0] = 0</span><br><span class="line">b[1] = 0</span><br><span class="line">b[2] = 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="realloc">realloc</h3>
<ul class="lvl-0">
<li class="lvl-2">
<p>函数签名：<code>void* realloc(void* ptr, size_t size)</code>。函数接收两个参数，第一个是指向已经分配的内存的起始地址的指针，第二个是要新分配的内存大小。返回<code>void*</code>指针。可能扩展原来的内存块，也可能另找一块大内存拷贝过去，如果是缩小的话，就会是原地缩小。</p>
</li>
<li class="lvl-2">
<p>如果缩小，或者拷贝到新的内存地址，总之只要是由原来分配的内存地址不会再被用到，<code>realloc</code>函数自己会将这些不被用到的地址释放掉。</p>
</li>
</ul>
<p>放大与缩小</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span>* a = (<span class="type">int</span>*)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	a[i] = i;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a[%d] = %d\n&quot;</span>, i, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* b = (<span class="type">int</span>*)<span class="built_in">realloc</span>(a, <span class="number">2</span> * n * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;原先地址为%d，现在地址为%d\n&quot;</span>, a, b);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;b[%d] = %d\n&quot;</span>, i, b[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* c = (<span class="type">int</span>*)<span class="built_in">realloc</span>(a, (n / <span class="number">2</span>) * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;原先地址为%d，现在地址为%d\n&quot;</span>, a, c);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;c[%d] = %d\n&quot;</span>, i, c[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">a[0] = 0</span><br><span class="line">a[1] = 1</span><br><span class="line">a[2] = 2</span><br><span class="line">a[3] = 3</span><br><span class="line">a[4] = 4</span><br><span class="line">原先地址为9596248，现在地址为9596248</span><br><span class="line">b[0] = 0</span><br><span class="line">b[1] = 1</span><br><span class="line">b[2] = 2</span><br><span class="line">b[3] = 3</span><br><span class="line">b[4] = 4</span><br><span class="line">b[5] = -842150451</span><br><span class="line">b[6] = -842150451</span><br><span class="line">b[7] = -842150451</span><br><span class="line">b[8] = -842150451</span><br><span class="line">b[9] = -842150451</span><br><span class="line">原先地址为9596248，现在地址为9596248</span><br><span class="line">c[0] = 0</span><br><span class="line">c[1] = 1</span><br><span class="line">c[2] = -33686019</span><br><span class="line">c[3] = 3</span><br><span class="line">c[4] = -405584600</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>realloc</code>相当于<code>free</code>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* b = (<span class="type">int</span>*)<span class="built_in">realloc</span>(a, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p><code>realloc</code>相当于<code>malloc</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* a = (<span class="type">int</span>*)<span class="built_in">realloc</span>(<span class="literal">NULL</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br></pre></td></tr></table></figure>
<h2 id="malloc与free">malloc与free</h2>
<h3 id="一维数组">一维数组</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* p;</span><br><span class="line"></span><br><span class="line">p = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">*p = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的地址为%d，p的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line"></span><br><span class="line">p = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="number">3</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">p[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">p[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p[%d]所指向的地址为%d，p[%d]的值为%d\n&quot;</span>, i, p[i], i, &amp;p[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p所指向的地址为11889848，p的值为10</span><br><span class="line">p[0]所指向的地址为1，p[0]的值为11889848</span><br><span class="line">p[1]所指向的地址为2，p[1]的值为11889852</span><br><span class="line">p[2]所指向的地址为3，p[2]的值为11889856</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="二维数组-2">二维数组</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43480094/article/details/83932634?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-83932634-blog-51541003.pc_relevant_multi_platform_featuressortv2dupreplace&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-83932634-blog-51541003.pc_relevant_multi_platform_featuressortv2dupreplace&amp;utm_relevant_index=1">参考博客</a></p>
<h4 id="二级指针">二级指针</h4>
<p><code>sizeof(int*)</code>,不能少<code>*</code>，一个指针的内存大小，每个元素是一个指针。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> row = <span class="number">4</span>, col = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span>** arr = (<span class="type">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>*) * row);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	arr[i] = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * col);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		arr[i][j] = col * i + j;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i][j], i, j, arr[i][j]);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;arr[%d]+%d的值为%d，*(arr[%d]+%d)的值为%d\n&quot;</span>, i, j, arr[i] + j, i, j, *(arr[i] + j));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;地址开始不连续\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;arr+%d的地址为%d,arr[%d]的地址为%d\n&quot;</span>, i, arr + i, i, &amp;arr[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;arr+%d所指向的值为%d，arr[%d]的值为%d\n&quot;</span>, i, *(arr + i), i, arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">free</span>(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(arr);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">arr[0][0]的地址为17001880，arr[0][0]的值为0</span><br><span class="line">arr[0]+0的值为17001880，*(arr[0]+0)的值为0</span><br><span class="line">arr[0][1]的地址为17001884，arr[0][1]的值为1</span><br><span class="line">arr[0]+1的值为17001884，*(arr[0]+1)的值为1</span><br><span class="line">arr[0][2]的地址为17001888，arr[0][2]的值为2</span><br><span class="line">arr[0]+2的值为17001888，*(arr[0]+2)的值为2</span><br><span class="line">arr[0][3]的地址为17001892，arr[0][3]的值为3</span><br><span class="line">arr[0]+3的值为17001892，*(arr[0]+3)的值为3</span><br><span class="line">arr[0][4]的地址为17001896，arr[0][4]的值为4</span><br><span class="line">arr[0]+4的值为17001896，*(arr[0]+4)的值为4</span><br><span class="line">地址开始不连续</span><br><span class="line">arr[1][0]的地址为17001488，arr[1][0]的值为5</span><br><span class="line">arr[1]+0的值为17001488，*(arr[1]+0)的值为5</span><br><span class="line">arr[1][1]的地址为17001492，arr[1][1]的值为6</span><br><span class="line">arr[1]+1的值为17001492，*(arr[1]+1)的值为6</span><br><span class="line">arr[1][2]的地址为17001496，arr[1][2]的值为7</span><br><span class="line">arr[1]+2的值为17001496，*(arr[1]+2)的值为7</span><br><span class="line">arr[1][3]的地址为17001500，arr[1][3]的值为8</span><br><span class="line">arr[1]+3的值为17001500，*(arr[1]+3)的值为8</span><br><span class="line">arr[1][4]的地址为17001504，arr[1][4]的值为9</span><br><span class="line">arr[1]+4的值为17001504，*(arr[1]+4)的值为9</span><br><span class="line">地址开始不连续</span><br><span class="line">arr[2][0]的地址为17001552，arr[2][0]的值为10</span><br><span class="line">arr[2]+0的值为17001552，*(arr[2]+0)的值为10</span><br><span class="line">arr[2][1]的地址为17001556，arr[2][1]的值为11</span><br><span class="line">arr[2]+1的值为17001556，*(arr[2]+1)的值为11</span><br><span class="line">arr[2][2]的地址为17001560，arr[2][2]的值为12</span><br><span class="line">arr[2]+2的值为17001560，*(arr[2]+2)的值为12</span><br><span class="line">arr[2][3]的地址为17001564，arr[2][3]的值为13</span><br><span class="line">arr[2]+3的值为17001564，*(arr[2]+3)的值为13</span><br><span class="line">arr[2][4]的地址为17001568，arr[2][4]的值为14</span><br><span class="line">arr[2]+4的值为17001568，*(arr[2]+4)的值为14</span><br><span class="line">地址开始不连续</span><br><span class="line">arr[3][0]的地址为17027432，arr[3][0]的值为15</span><br><span class="line">arr[3]+0的值为17027432，*(arr[3]+0)的值为15</span><br><span class="line">arr[3][1]的地址为17027436，arr[3][1]的值为16</span><br><span class="line">arr[3]+1的值为17027436，*(arr[3]+1)的值为16</span><br><span class="line">arr[3][2]的地址为17027440，arr[3][2]的值为17</span><br><span class="line">arr[3]+2的值为17027440，*(arr[3]+2)的值为17</span><br><span class="line">arr[3][3]的地址为17027444，arr[3][3]的值为18</span><br><span class="line">arr[3]+3的值为17027444，*(arr[3]+3)的值为18</span><br><span class="line">arr[3][4]的地址为17027448，arr[3][4]的值为19</span><br><span class="line">arr[3]+4的值为17027448，*(arr[3]+4)的值为19</span><br><span class="line">地址开始不连续</span><br><span class="line">arr+0的地址为17001816,arr[0]的地址为17001816</span><br><span class="line">arr+0所指向的值为17001880，arr[0]的值为17001880</span><br><span class="line">arr+1的地址为17001820,arr[1]的地址为17001820</span><br><span class="line">arr+1所指向的值为17001488，arr[1]的值为17001488</span><br><span class="line">arr+2的地址为17001824,arr[2]的地址为17001824</span><br><span class="line">arr+2所指向的值为17001552，arr[2]的值为17001552</span><br><span class="line">arr+3的地址为17001828,arr[3]的地址为17001828</span><br><span class="line">arr+3所指向的值为17027432，arr[3]的值为17027432</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>注：二级指针所指向的数组开辟的地址可能不是连续的</strong></p>
<h4 id="传递参数">传递参数</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printarr</span><span class="params">(<span class="type">int</span>** arr)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;print -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i][j], i, j, arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;地址开始不连续\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> row = <span class="number">4</span>, col = <span class="number">5</span>;</span><br><span class="line">	<span class="type">int</span>** arr = (<span class="type">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>*) * row);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		arr[i] = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * col);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i][j] = col * i + j;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;main -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i][j], i, j, arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;地址开始不连续\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printarr(arr);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(arr);</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">main -- arr[0][0]的地址为12610744，arr[0][0]的值为0</span><br><span class="line">main -- arr[0][1]的地址为12610748，arr[0][1]的值为1</span><br><span class="line">main -- arr[0][2]的地址为12610752，arr[0][2]的值为2</span><br><span class="line">main -- arr[0][3]的地址为12610756，arr[0][3]的值为3</span><br><span class="line">main -- arr[0][4]的地址为12610760，arr[0][4]的值为4</span><br><span class="line">地址开始不连续</span><br><span class="line">main -- arr[1][0]的地址为12610808，arr[1][0]的值为5</span><br><span class="line">main -- arr[1][1]的地址为12610812，arr[1][1]的值为6</span><br><span class="line">main -- arr[1][2]的地址为12610816，arr[1][2]的值为7</span><br><span class="line">main -- arr[1][3]的地址为12610820，arr[1][3]的值为8</span><br><span class="line">main -- arr[1][4]的地址为12610824，arr[1][4]的值为9</span><br><span class="line">地址开始不连续</span><br><span class="line">main -- arr[2][0]的地址为12610416，arr[2][0]的值为10</span><br><span class="line">main -- arr[2][1]的地址为12610420，arr[2][1]的值为11</span><br><span class="line">main -- arr[2][2]的地址为12610424，arr[2][2]的值为12</span><br><span class="line">main -- arr[2][3]的地址为12610428，arr[2][3]的值为13</span><br><span class="line">main -- arr[2][4]的地址为12610432，arr[2][4]的值为14</span><br><span class="line">地址开始不连续</span><br><span class="line">main -- arr[3][0]的地址为12610480，arr[3][0]的值为15</span><br><span class="line">main -- arr[3][1]的地址为12610484，arr[3][1]的值为16</span><br><span class="line">main -- arr[3][2]的地址为12610488，arr[3][2]的值为17</span><br><span class="line">main -- arr[3][3]的地址为12610492，arr[3][3]的值为18</span><br><span class="line">main -- arr[3][4]的地址为12610496，arr[3][4]的值为19</span><br><span class="line">地址开始不连续</span><br><span class="line">print -- arr[0][0]的地址为12610744，arr[0][0]的值为0</span><br><span class="line">print -- arr[0][1]的地址为12610748，arr[0][1]的值为1</span><br><span class="line">print -- arr[0][2]的地址为12610752，arr[0][2]的值为2</span><br><span class="line">print -- arr[0][3]的地址为12610756，arr[0][3]的值为3</span><br><span class="line">print -- arr[0][4]的地址为12610760，arr[0][4]的值为4</span><br><span class="line">地址开始不连续</span><br><span class="line">print -- arr[1][0]的地址为12610808，arr[1][0]的值为5</span><br><span class="line">print -- arr[1][1]的地址为12610812，arr[1][1]的值为6</span><br><span class="line">print -- arr[1][2]的地址为12610816，arr[1][2]的值为7</span><br><span class="line">print -- arr[1][3]的地址为12610820，arr[1][3]的值为8</span><br><span class="line">print -- arr[1][4]的地址为12610824，arr[1][4]的值为9</span><br><span class="line">地址开始不连续</span><br><span class="line">print -- arr[2][0]的地址为12610416，arr[2][0]的值为10</span><br><span class="line">print -- arr[2][1]的地址为12610420，arr[2][1]的值为11</span><br><span class="line">print -- arr[2][2]的地址为12610424，arr[2][2]的值为12</span><br><span class="line">print -- arr[2][3]的地址为12610428，arr[2][3]的值为13</span><br><span class="line">print -- arr[2][4]的地址为12610432，arr[2][4]的值为14</span><br><span class="line">地址开始不连续</span><br><span class="line">print -- arr[3][0]的地址为12610480，arr[3][0]的值为15</span><br><span class="line">print -- arr[3][1]的地址为12610484，arr[3][1]的值为16</span><br><span class="line">print -- arr[3][2]的地址为12610488，arr[3][2]的值为17</span><br><span class="line">print -- arr[3][3]的地址为12610492，arr[3][3]的值为18</span><br><span class="line">print -- arr[3][4]的地址为12610496，arr[3][4]的值为19</span><br><span class="line">地址开始不连续</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="数组指针">数组指针</h4>
<p>申请一个 4行 5列的二维数组,注意，<strong>列数不能用未知参数确定</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>(*arr)[<span class="number">5</span>] = (<span class="type">int</span>(*)[<span class="number">5</span>])<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">4</span> * <span class="number">5</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		arr[i][j] = <span class="number">5</span> * i + j;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;第%d行第%d列数组地址为%d,值为%d\n&quot;</span>, i, j, &amp;arr[i][j], arr[i][j]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">free</span>(arr);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">第0行第0列数组地址为22506680,值为0</span><br><span class="line">第0行第1列数组地址为22506684,值为1</span><br><span class="line">第0行第2列数组地址为22506688,值为2</span><br><span class="line">第0行第3列数组地址为22506692,值为3</span><br><span class="line">第0行第4列数组地址为22506696,值为4</span><br><span class="line">第1行第0列数组地址为22506700,值为5</span><br><span class="line">第1行第1列数组地址为22506704,值为6</span><br><span class="line">第1行第2列数组地址为22506708,值为7</span><br><span class="line">第1行第3列数组地址为22506712,值为8</span><br><span class="line">第1行第4列数组地址为22506716,值为9</span><br><span class="line">第2行第0列数组地址为22506720,值为10</span><br><span class="line">第2行第1列数组地址为22506724,值为11</span><br><span class="line">第2行第2列数组地址为22506728,值为12</span><br><span class="line">第2行第3列数组地址为22506732,值为13</span><br><span class="line">第2行第4列数组地址为22506736,值为14</span><br><span class="line">第3行第0列数组地址为22506740,值为15</span><br><span class="line">第3行第1列数组地址为22506744,值为16</span><br><span class="line">第3行第2列数组地址为22506748,值为17</span><br><span class="line">第3行第3列数组地址为22506752,值为18</span><br><span class="line">第3行第4列数组地址为22506756,值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="参数传递">参数传递</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printarr</span><span class="params">(<span class="type">int</span> arr[][<span class="number">5</span>])</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;print -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i][j], i, j, arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>(*arr)[<span class="number">5</span>] = (<span class="type">int</span>(*)[<span class="number">5</span>])<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">4</span> * <span class="number">5</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i][j] = <span class="number">5</span> * i + j;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;main -- 第%d行第%d列数组地址为%d,值为%d\n&quot;</span>, i, j, &amp;arr[i][j], arr[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printarr(arr);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">free</span>(arr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">main -- 第0行第0列数组地址为21130424,值为0</span><br><span class="line">main -- 第0行第1列数组地址为21130428,值为1</span><br><span class="line">main -- 第0行第2列数组地址为21130432,值为2</span><br><span class="line">main -- 第0行第3列数组地址为21130436,值为3</span><br><span class="line">main -- 第0行第4列数组地址为21130440,值为4</span><br><span class="line">main -- 第1行第0列数组地址为21130444,值为5</span><br><span class="line">main -- 第1行第1列数组地址为21130448,值为6</span><br><span class="line">main -- 第1行第2列数组地址为21130452,值为7</span><br><span class="line">main -- 第1行第3列数组地址为21130456,值为8</span><br><span class="line">main -- 第1行第4列数组地址为21130460,值为9</span><br><span class="line">main -- 第2行第0列数组地址为21130464,值为10</span><br><span class="line">main -- 第2行第1列数组地址为21130468,值为11</span><br><span class="line">main -- 第2行第2列数组地址为21130472,值为12</span><br><span class="line">main -- 第2行第3列数组地址为21130476,值为13</span><br><span class="line">main -- 第2行第4列数组地址为21130480,值为14</span><br><span class="line">main -- 第3行第0列数组地址为21130484,值为15</span><br><span class="line">main -- 第3行第1列数组地址为21130488,值为16</span><br><span class="line">main -- 第3行第2列数组地址为21130492,值为17</span><br><span class="line">main -- 第3行第3列数组地址为21130496,值为18</span><br><span class="line">main -- 第3行第4列数组地址为21130500,值为19</span><br><span class="line">print -- arr[0][0]的地址为21130424，arr[0][0]的值为0</span><br><span class="line">print -- arr[0][1]的地址为21130428，arr[0][1]的值为1</span><br><span class="line">print -- arr[0][2]的地址为21130432，arr[0][2]的值为2</span><br><span class="line">print -- arr[0][3]的地址为21130436，arr[0][3]的值为3</span><br><span class="line">print -- arr[0][4]的地址为21130440，arr[0][4]的值为4</span><br><span class="line">print -- arr[1][0]的地址为21130444，arr[1][0]的值为5</span><br><span class="line">print -- arr[1][1]的地址为21130448，arr[1][1]的值为6</span><br><span class="line">print -- arr[1][2]的地址为21130452，arr[1][2]的值为7</span><br><span class="line">print -- arr[1][3]的地址为21130456，arr[1][3]的值为8</span><br><span class="line">print -- arr[1][4]的地址为21130460，arr[1][4]的值为9</span><br><span class="line">print -- arr[2][0]的地址为21130464，arr[2][0]的值为10</span><br><span class="line">print -- arr[2][1]的地址为21130468，arr[2][1]的值为11</span><br><span class="line">print -- arr[2][2]的地址为21130472，arr[2][2]的值为12</span><br><span class="line">print -- arr[2][3]的地址为21130476，arr[2][3]的值为13</span><br><span class="line">print -- arr[2][4]的地址为21130480，arr[2][4]的值为14</span><br><span class="line">print -- arr[3][0]的地址为21130484，arr[3][0]的值为15</span><br><span class="line">print -- arr[3][1]的地址为21130488，arr[3][1]的值为16</span><br><span class="line">print -- arr[3][2]的地址为21130492，arr[3][2]的值为17</span><br><span class="line">print -- arr[3][3]的地址为21130496，arr[3][3]的值为18</span><br><span class="line">print -- arr[3][4]的地址为21130500，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="一维数组模拟二维数组">一维数组模拟二维数组</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> row = <span class="number">4</span>, col = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* arr = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * row * col);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		arr[i * col + j] = col * i + j;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i * col + j], i, j, arr[i * col + j]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">free</span>(arr);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">arr[0][0]的地址为15895056，arr[0][0]的值为0</span><br><span class="line">arr[0][1]的地址为15895060，arr[0][1]的值为1</span><br><span class="line">arr[0][2]的地址为15895064，arr[0][2]的值为2</span><br><span class="line">arr[0][3]的地址为15895068，arr[0][3]的值为3</span><br><span class="line">arr[0][4]的地址为15895072，arr[0][4]的值为4</span><br><span class="line">arr[1][0]的地址为15895076，arr[1][0]的值为5</span><br><span class="line">arr[1][1]的地址为15895080，arr[1][1]的值为6</span><br><span class="line">arr[1][2]的地址为15895084，arr[1][2]的值为7</span><br><span class="line">arr[1][3]的地址为15895088，arr[1][3]的值为8</span><br><span class="line">arr[1][4]的地址为15895092，arr[1][4]的值为9</span><br><span class="line">arr[2][0]的地址为15895096，arr[2][0]的值为10</span><br><span class="line">arr[2][1]的地址为15895100，arr[2][1]的值为11</span><br><span class="line">arr[2][2]的地址为15895104，arr[2][2]的值为12</span><br><span class="line">arr[2][3]的地址为15895108，arr[2][3]的值为13</span><br><span class="line">arr[2][4]的地址为15895112，arr[2][4]的值为14</span><br><span class="line">arr[3][0]的地址为15895116，arr[3][0]的值为15</span><br><span class="line">arr[3][1]的地址为15895120，arr[3][1]的值为16</span><br><span class="line">arr[3][2]的地址为15895124，arr[3][2]的值为17</span><br><span class="line">arr[3][3]的地址为15895128，arr[3][3]的值为18</span><br><span class="line">arr[3][4]的地址为15895132，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="参数传递-2">参数传递</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printarr</span><span class="params">(<span class="type">int</span>* arr)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;print -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i * <span class="number">5</span> + j], i, j, arr[i * <span class="number">5</span> + j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> row = <span class="number">4</span>, col = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span>* arr = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * row * col);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			arr[i * col + j] = col * i + j;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;main -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i * col + j], i, j, arr[i * col + j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printarr(arr);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">free</span>(arr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">main -- arr[0][0]的地址为19033272，arr[0][0]的值为0</span><br><span class="line">main -- arr[0][1]的地址为19033276，arr[0][1]的值为1</span><br><span class="line">main -- arr[0][2]的地址为19033280，arr[0][2]的值为2</span><br><span class="line">main -- arr[0][3]的地址为19033284，arr[0][3]的值为3</span><br><span class="line">main -- arr[0][4]的地址为19033288，arr[0][4]的值为4</span><br><span class="line">main -- arr[1][0]的地址为19033292，arr[1][0]的值为5</span><br><span class="line">main -- arr[1][1]的地址为19033296，arr[1][1]的值为6</span><br><span class="line">main -- arr[1][2]的地址为19033300，arr[1][2]的值为7</span><br><span class="line">main -- arr[1][3]的地址为19033304，arr[1][3]的值为8</span><br><span class="line">main -- arr[1][4]的地址为19033308，arr[1][4]的值为9</span><br><span class="line">main -- arr[2][0]的地址为19033312，arr[2][0]的值为10</span><br><span class="line">main -- arr[2][1]的地址为19033316，arr[2][1]的值为11</span><br><span class="line">main -- arr[2][2]的地址为19033320，arr[2][2]的值为12</span><br><span class="line">main -- arr[2][3]的地址为19033324，arr[2][3]的值为13</span><br><span class="line">main -- arr[2][4]的地址为19033328，arr[2][4]的值为14</span><br><span class="line">main -- arr[3][0]的地址为19033332，arr[3][0]的值为15</span><br><span class="line">main -- arr[3][1]的地址为19033336，arr[3][1]的值为16</span><br><span class="line">main -- arr[3][2]的地址为19033340，arr[3][2]的值为17</span><br><span class="line">main -- arr[3][3]的地址为19033344，arr[3][3]的值为18</span><br><span class="line">main -- arr[3][4]的地址为19033348，arr[3][4]的值为19</span><br><span class="line">print -- arr[0][0]的地址为19033272，arr[0][0]的值为0</span><br><span class="line">print -- arr[0][1]的地址为19033276，arr[0][1]的值为1</span><br><span class="line">print -- arr[0][2]的地址为19033280，arr[0][2]的值为2</span><br><span class="line">print -- arr[0][3]的地址为19033284，arr[0][3]的值为3</span><br><span class="line">print -- arr[0][4]的地址为19033288，arr[0][4]的值为4</span><br><span class="line">print -- arr[1][0]的地址为19033292，arr[1][0]的值为5</span><br><span class="line">print -- arr[1][1]的地址为19033296，arr[1][1]的值为6</span><br><span class="line">print -- arr[1][2]的地址为19033300，arr[1][2]的值为7</span><br><span class="line">print -- arr[1][3]的地址为19033304，arr[1][3]的值为8</span><br><span class="line">print -- arr[1][4]的地址为19033308，arr[1][4]的值为9</span><br><span class="line">print -- arr[2][0]的地址为19033312，arr[2][0]的值为10</span><br><span class="line">print -- arr[2][1]的地址为19033316，arr[2][1]的值为11</span><br><span class="line">print -- arr[2][2]的地址为19033320，arr[2][2]的值为12</span><br><span class="line">print -- arr[2][3]的地址为19033324，arr[2][3]的值为13</span><br><span class="line">print -- arr[2][4]的地址为19033328，arr[2][4]的值为14</span><br><span class="line">print -- arr[3][0]的地址为19033332，arr[3][0]的值为15</span><br><span class="line">print -- arr[3][1]的地址为19033336，arr[3][1]的值为16</span><br><span class="line">print -- arr[3][2]的地址为19033340，arr[3][2]的值为17</span><br><span class="line">print -- arr[3][3]的地址为19033344，arr[3][3]的值为18</span><br><span class="line">print -- arr[3][4]的地址为19033348，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="结构体定义">结构体定义</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">5</span>];</span><br><span class="line">&#125;item;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	item* arr = (item*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(item) * <span class="number">4</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			(arr + i)-&gt;a[j] = <span class="number">5</span> * i + j;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;((arr + i)-&gt;a[j]), i, j, (arr + i)-&gt;a[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">free</span>(arr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">arr[0][0]的地址为22834360，arr[0][0]的值为0</span><br><span class="line">arr[0][1]的地址为22834364，arr[0][1]的值为1</span><br><span class="line">arr[0][2]的地址为22834368，arr[0][2]的值为2</span><br><span class="line">arr[0][3]的地址为22834372，arr[0][3]的值为3</span><br><span class="line">arr[0][4]的地址为22834376，arr[0][4]的值为4</span><br><span class="line">arr[1][0]的地址为22834380，arr[1][0]的值为5</span><br><span class="line">arr[1][1]的地址为22834384，arr[1][1]的值为6</span><br><span class="line">arr[1][2]的地址为22834388，arr[1][2]的值为7</span><br><span class="line">arr[1][3]的地址为22834392，arr[1][3]的值为8</span><br><span class="line">arr[1][4]的地址为22834396，arr[1][4]的值为9</span><br><span class="line">arr[2][0]的地址为22834400，arr[2][0]的值为10</span><br><span class="line">arr[2][1]的地址为22834404，arr[2][1]的值为11</span><br><span class="line">arr[2][2]的地址为22834408，arr[2][2]的值为12</span><br><span class="line">arr[2][3]的地址为22834412，arr[2][3]的值为13</span><br><span class="line">arr[2][4]的地址为22834416，arr[2][4]的值为14</span><br><span class="line">arr[3][0]的地址为22834420，arr[3][0]的值为15</span><br><span class="line">arr[3][1]的地址为22834424，arr[3][1]的值为16</span><br><span class="line">arr[3][2]的地址为22834428，arr[3][2]的值为17</span><br><span class="line">arr[3][3]的地址为22834432，arr[3][3]的值为18</span><br><span class="line">arr[3][4]的地址为22834436，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="参数传递-3">参数传递</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	<span class="type">int</span> a[<span class="number">5</span>];</span><br><span class="line">&#125;item;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printarr</span><span class="params">(item* arr)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;print -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;((arr + i)-&gt;a[j]), i, j, (arr + i)-&gt;a[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	item* arr = (item*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(item) * <span class="number">4</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			(arr + i)-&gt;a[j] = <span class="number">5</span> * i + j;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;main -- arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;((arr + i)-&gt;a[j]), i, j, (arr + i)-&gt;a[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	printarr(arr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">main -- arr[0][0]的地址为13528248，arr[0][0]的值为0</span><br><span class="line">main -- arr[0][1]的地址为13528252，arr[0][1]的值为1</span><br><span class="line">main -- arr[0][2]的地址为13528256，arr[0][2]的值为2</span><br><span class="line">main -- arr[0][3]的地址为13528260，arr[0][3]的值为3</span><br><span class="line">main -- arr[0][4]的地址为13528264，arr[0][4]的值为4</span><br><span class="line">main -- arr[1][0]的地址为13528268，arr[1][0]的值为5</span><br><span class="line">main -- arr[1][1]的地址为13528272，arr[1][1]的值为6</span><br><span class="line">main -- arr[1][2]的地址为13528276，arr[1][2]的值为7</span><br><span class="line">main -- arr[1][3]的地址为13528280，arr[1][3]的值为8</span><br><span class="line">main -- arr[1][4]的地址为13528284，arr[1][4]的值为9</span><br><span class="line">main -- arr[2][0]的地址为13528288，arr[2][0]的值为10</span><br><span class="line">main -- arr[2][1]的地址为13528292，arr[2][1]的值为11</span><br><span class="line">main -- arr[2][2]的地址为13528296，arr[2][2]的值为12</span><br><span class="line">main -- arr[2][3]的地址为13528300，arr[2][3]的值为13</span><br><span class="line">main -- arr[2][4]的地址为13528304，arr[2][4]的值为14</span><br><span class="line">main -- arr[3][0]的地址为13528308，arr[3][0]的值为15</span><br><span class="line">main -- arr[3][1]的地址为13528312，arr[3][1]的值为16</span><br><span class="line">main -- arr[3][2]的地址为13528316，arr[3][2]的值为17</span><br><span class="line">main -- arr[3][3]的地址为13528320，arr[3][3]的值为18</span><br><span class="line">main -- arr[3][4]的地址为13528324，arr[3][4]的值为19</span><br><span class="line">print -- arr[0][0]的地址为13528248，arr[0][0]的值为0</span><br><span class="line">print -- arr[0][1]的地址为13528252，arr[0][1]的值为1</span><br><span class="line">print -- arr[0][2]的地址为13528256，arr[0][2]的值为2</span><br><span class="line">print -- arr[0][3]的地址为13528260，arr[0][3]的值为3</span><br><span class="line">print -- arr[0][4]的地址为13528264，arr[0][4]的值为4</span><br><span class="line">print -- arr[1][0]的地址为13528268，arr[1][0]的值为5</span><br><span class="line">print -- arr[1][1]的地址为13528272，arr[1][1]的值为6</span><br><span class="line">print -- arr[1][2]的地址为13528276，arr[1][2]的值为7</span><br><span class="line">print -- arr[1][3]的地址为13528280，arr[1][3]的值为8</span><br><span class="line">print -- arr[1][4]的地址为13528284，arr[1][4]的值为9</span><br><span class="line">print -- arr[2][0]的地址为13528288，arr[2][0]的值为10</span><br><span class="line">print -- arr[2][1]的地址为13528292，arr[2][1]的值为11</span><br><span class="line">print -- arr[2][2]的地址为13528296，arr[2][2]的值为12</span><br><span class="line">print -- arr[2][3]的地址为13528300，arr[2][3]的值为13</span><br><span class="line">print -- arr[2][4]的地址为13528304，arr[2][4]的值为14</span><br><span class="line">print -- arr[3][0]的地址为13528308，arr[3][0]的值为15</span><br><span class="line">print -- arr[3][1]的地址为13528312，arr[3][1]的值为16</span><br><span class="line">print -- arr[3][2]的地址为13528316，arr[3][2]的值为17</span><br><span class="line">print -- arr[3][3]的地址为13528320，arr[3][3]的值为18</span><br><span class="line">print -- arr[3][4]的地址为13528324，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="new与delete">new与delete</h2>
<h3 id="一维数组-2">一维数组</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* p;</span><br><span class="line"></span><br><span class="line">p = <span class="keyword">new</span> <span class="type">int</span>;</span><br><span class="line">*p = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p所指向的地址为%d，p的值为%d\n&quot;</span>, p, *p);</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"></span><br><span class="line">p = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">3</span>];</span><br><span class="line">p[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">p[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">p[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p[%d]所指向的地址为%d，p[%d]的值为%d\n&quot;</span>, i, p[i], i, &amp;p[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p所指向的地址为13987000，p的值为10</span><br><span class="line">p[0]所指向的地址为1，p[0]的值为13987000</span><br><span class="line">p[1]所指向的地址为2，p[1]的值为13987004</span><br><span class="line">p[2]所指向的地址为3，p[2]的值为13987008</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="二维数组-3">二维数组</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>** arr;</span><br><span class="line"><span class="type">int</span> row = <span class="number">4</span>, col = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">arr = new <span class="type">int</span>* [row];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++)</span><br><span class="line">&#123;</span><br><span class="line">	arr[i] = new <span class="type">int</span>[col];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		arr[i][j] = <span class="number">5</span> * i + j;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;arr[%d][%d]的地址为%d，arr[%d][%d]的值为%d\n&quot;</span>, i, j, &amp;arr[i][j], i, j, arr[i][j]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">arr[0][0]的地址为16674200，arr[0][0]的值为0</span><br><span class="line">arr[0][1]的地址为16674204，arr[0][1]的值为1</span><br><span class="line">arr[0][2]的地址为16674208，arr[0][2]的值为2</span><br><span class="line">arr[0][3]的地址为16674212，arr[0][3]的值为3</span><br><span class="line">arr[0][4]的地址为16674216，arr[0][4]的值为4</span><br><span class="line">arr[1][0]的地址为16673808，arr[1][0]的值为5</span><br><span class="line">arr[1][1]的地址为16673812，arr[1][1]的值为6</span><br><span class="line">arr[1][2]的地址为16673816，arr[1][2]的值为7</span><br><span class="line">arr[1][3]的地址为16673820，arr[1][3]的值为8</span><br><span class="line">arr[1][4]的地址为16673824，arr[1][4]的值为9</span><br><span class="line">arr[2][0]的地址为16673872，arr[2][0]的值为10</span><br><span class="line">arr[2][1]的地址为16673876，arr[2][1]的值为11</span><br><span class="line">arr[2][2]的地址为16673880，arr[2][2]的值为12</span><br><span class="line">arr[2][3]的地址为16673884，arr[2][3]的值为13</span><br><span class="line">arr[2][4]的地址为16673888，arr[2][4]的值为14</span><br><span class="line">arr[3][0]的地址为16699752，arr[3][0]的值为15</span><br><span class="line">arr[3][1]的地址为16699756，arr[3][1]的值为16</span><br><span class="line">arr[3][2]的地址为16699760，arr[3][2]的值为17</span><br><span class="line">arr[3][3]的地址为16699764，arr[3][3]的值为18</span><br><span class="line">arr[3][4]的地址为16699768，arr[3][4]的值为19</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="内存泄漏">内存泄漏</h2>
<ul class="lvl-0">
<li class="lvl-2">
<p>在<code>allocate_stack</code>函数调用时，每次将数组创建在<strong>栈区</strong>，然后再函数返回时，程序自动将其栈帧释放，数组也被释放掉，不会占用内存。</p>
</li>
<li class="lvl-2">
<p>对于调用<code>allocate_heap</code>的程序：每次调用<code>allocate_heap</code>在<strong>堆区</strong>开辟一个数组<code>Arr</code>，在栈上只创建了一个指针<code>p</code>来指向这个堆区数组，但是堆区数组没有释放，这样在<code>allocate_heap</code>函数返回之后，函数栈帧上的p也被程序释放掉，就再也没有办法去释放堆区的数组<code>Arr</code>。</p>
</li>
</ul>
<p>随着<code>allocate_heap</code>函数调用次数越来越多，堆区的数组都处于已分配但无法引用也无法使用的状态。而堆区大小又是不固定的，可以一直向操作系统申请，终会超过内存上限，造成了内存泄漏。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">allocate_stack</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span> Arr[<span class="number">10000</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">allocate_heap</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">int</span>* Arr = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="number">10000</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> choice;</span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;&#x27;0&#x27; 退出, &#x27;1&#x27; allocate_stack, &#x27;1&#x27; allocate_heap\n&quot;</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;choice);</span><br><span class="line">		<span class="keyword">if</span> (choice == <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				allocate_stack();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(choice == <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				allocate_heap();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="函数返回指针">函数返回指针</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">Add</span><span class="params">(<span class="type">int</span>* a, <span class="type">int</span>* b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> c = (*a) + (*b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Add函数中，c的地址为%d，c = %d\n&quot;</span>, &amp;c, c);</span><br><span class="line">	<span class="keyword">return</span> &amp;c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printHelloWorld</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">2</span>, y = <span class="number">4</span>;</span><br><span class="line">	<span class="type">int</span>* ptr = Add(&amp;x, &amp;y);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;main函数中，ptr的地址为%d\n&quot;</span>, ptr);</span><br><span class="line">	printHelloWorld();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x + y = %d\n&quot;</span>, *ptr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Add函数中，c的地址为7797968，c = 6</span><br><span class="line">main函数中，ptr的地址为7797968</span><br><span class="line">Hello World</span><br><span class="line">x + y = -858993460</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：在<code>Add</code>函数返回之后，它在栈区上的栈帧也被程序自动释放了，这个时候，原来存放整型变量<code>c</code>的内存地址中的值就已经是未知的了，访问未知的内存是极其危险的。</p>
<p>通常，计算机可以安全地返回<strong>堆区</strong>或者<strong>全局区</strong>的内存指针，因为它们不会被程序自动地释放。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">Add</span><span class="params">(<span class="type">int</span>* a, <span class="type">int</span>* b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span>* c = (<span class="type">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	(*c) = (*a) + (*b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Add函数中，c的地址为%d，c = %d\n&quot;</span>, &amp;c, *c);</span><br><span class="line">	<span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printHelloWorld</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">2</span>, y = <span class="number">4</span>;</span><br><span class="line">	<span class="type">int</span>* ptr = Add(&amp;x, &amp;y);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;main函数中，ptr的地址为%d\n&quot;</span>, ptr);</span><br><span class="line">	printHelloWorld();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;x + y = %d\n&quot;</span>, *ptr);</span><br><span class="line">	<span class="built_in">free</span>(ptr);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Add函数中，c的地址为7337652，c = 6</span><br><span class="line">main函数中，ptr的地址为10710200</span><br><span class="line">Hello World</span><br><span class="line">x + y = 6</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>函数指针</h1>
<h2 id="指针函数的定义">指针函数的定义</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">Add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> b * a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintHello</span><span class="params">(<span class="type">char</span>* uni)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello %s ,I am coming!\n&quot;</span>, uni);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line">	<span class="type">int</span> (*p)(<span class="type">int</span>, <span class="type">int</span>);</span><br><span class="line">	p = &amp;Add;</span><br><span class="line">	c = (*p)(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;和为%d\n&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">	p = mul;</span><br><span class="line">	c = p(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;积为%d\n&quot;</span>, c);</span><br><span class="line"></span><br><span class="line">	<span class="type">void</span> (*ptr)(<span class="type">char</span>*);</span><br><span class="line">	ptr = PrintHello;</span><br><span class="line">	ptr(<span class="string">&quot;bnu&quot;</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">和为5</span><br><span class="line">积为6</span><br><span class="line">Hello bnu ,I am coming!</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul class="lvl-0">
<li class="lvl-2">
<p>声明函数指针的语法：<code>int (*p)(int, int)</code>，这条语句声明了一个接收两个整型变量作为参数，并且返回一个整型变量的函数指针。</p>
</li>
<li class="lvl-2">
<p>注意指针要加括号。否则<code>int *p(int, int)</code>，是声明一个函数名为<code>p</code>，接收两个整型，并返回一个整型指针的函数。</p>
</li>
<li class="lvl-2">
<p>注意函数指针可以指向一类函数，指针p指向的类型是输入两整型，输出一整型的这一类函数，即所有满足这个签名的函数，都可以赋值给p这个函数指针。如以下这些函数指针的声明都是<strong>不能</strong>指向<code>Add</code>函数的：</p>
<ul class="lvl-2">
<li class="lvl-4"><code>void (*p)(int, int);</code></li>
<li class="lvl-4"><code>int (*p)(int);</code></li>
<li class="lvl-4"><code>int (*p)(int, char);</code></li>
</ul>
</li>
<li class="lvl-2">
<p>函数指针赋值：<code>p = &amp;Add</code>，将函数名为<code>Add</code>的函数指针赋值给<code>p</code>。同样注意只要满足<code>p</code>声明时的函数签名的函数名都可以赋值给<code>p</code></p>
</li>
<li class="lvl-2">
<p>函数指针的使用：<code>int c = (*p)(2, 3)</code>，先对<code>p</code>解引用得到函数<code>Add</code>，然后正常传参和返回即可。</p>
</li>
<li class="lvl-2">
<p>在为函数指针赋值时，可以不用取地址符号<code>&amp;</code>，仅用函数名同样会返回正确的函数地址。与之匹配的，在调用函数的时候也不需要再解引用。</p>
</li>
</ul>
<h2 id="回调函数">回调函数</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">A</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">B</span><span class="params">(<span class="type">void</span> (*ptr)())</span> &#123;</span><br><span class="line">	ptr();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">void</span> (*p)() = A;</span><br><span class="line">	B(p);</span><br><span class="line"></span><br><span class="line">	B(A);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br><span class="line">Hello World!</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将函数<code>A()</code>的函数指针传给<code>B()</code>，<code>B()</code>在函数体内直接通过传入的函数指针调用函数<code>A()</code>，这个过程成为<strong>回调</strong>。这里函数指针被传入另一个函数，再被用函数指针进行回调的函数<code>A()</code>成为<strong>回调函数</strong>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BubbleSort</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> size, <span class="type">int</span> (*compare)(<span class="type">int</span>, <span class="type">int</span>))</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i, j, temp;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; size - <span class="number">1</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (compare(A[j], A[j + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				temp = A[j];</span><br><span class="line">				A[j] = A[j + <span class="number">1</span>];</span><br><span class="line">				A[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">greater</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (a &gt; b) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">abs_greater</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">abs</span>(a) &gt; <span class="built_in">abs</span>(b)) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> c;</span><br><span class="line">	<span class="type">int</span> A[] = &#123; <span class="number">2</span>, <span class="number">-4</span>, <span class="number">-1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">-5</span>, <span class="number">7</span> &#125;;</span><br><span class="line">	<span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;升序 - 1 ，绝对值升序 - 0	:&quot;</span>);</span><br><span class="line">	scanf_s(<span class="string">&quot;%d&quot;</span>, &amp;c);</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		BubbleSort(A, size, greater);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		BubbleSort(A, size, abs_greater);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;A[%d] = %d &quot;</span>, i, A[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">升序 - 1 ，绝对值升序 - 0 :1</span><br><span class="line">A[0] = -5 A[1] = -4 A[2] = -1 A[3] = 2 A[4] = 3 A[5] = 7 A[6] = 9</span><br><span class="line"></span><br><span class="line">升序 - 1 ，绝对值升序 - 0 :0</span><br><span class="line">A[0] = -1 A[1] = 2 A[2] = 3 A[3] = -4 A[4] = -5 A[5] = 7 A[6] = 9</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>结构体</h1>
<h2 id="结构体定义-2">结构体定义</h2>
<h3 id="结构体成员">结构体成员</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu</span>;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="空结构体">空结构体</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EmptyStruct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="comment">//TODO</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="匿名结构体">匿名结构体</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;stu1, stu2;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="typedef定义数据类型">typedef定义数据类型</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">Student</span>;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	<span class="comment">//......</span></span><br><span class="line">&#125;Student;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Student stu;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="结构体嵌套定义">结构体嵌套定义</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Birthday</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> year;</span><br><span class="line">	<span class="type">int</span> month;</span><br><span class="line">	<span class="type">int</span> day;</span><br><span class="line">&#125;Birthday;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	Birthday birthday;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;Student;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Student stu;</span><br><span class="line">	stu.birthday.day = <span class="number">1</span>;<span class="comment">//多层访问</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="结构体变量">结构体变量</h2>
<h3 id="结构体变量声明">结构体变量声明</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;Student, stu3;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Student stu1, stu2;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="结构体变量赋值">结构体变量赋值</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Student stu1 = &#123; <span class="number">666</span>,<span class="string">&quot;花瓶&quot;</span>,<span class="number">18</span>,<span class="number">100</span>,&#123;<span class="number">2022</span>,<span class="number">8</span>,<span class="number">25</span>&#125; &#125;;</span><br><span class="line">Student stu2 = &#123; <span class="number">555</span>,<span class="string">&quot;鲁花瓶&quot;</span>,<span class="number">20</span>,<span class="number">99</span>,&#123;<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>&#125; &#125;;</span><br></pre></td></tr></table></figure>
<h3 id="访问结构体变量成员">访问结构体变量成员</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>,stu1.id);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, stu1.name);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, stu1.age);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, stu1.score);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, stu1.birthday.year, stu1.birthday.month, stu1.birthday.day);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>, stu2.id);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, stu2.name);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, stu2.age);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, stu2.score);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, stu2.birthday.year, stu2.birthday.month, stu2.birthday.day);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">学号:666        姓名:花瓶       年龄:18 成绩:100.00     生日:2022-8-25</span><br><span class="line">学号:555        姓名:鲁花瓶     年龄:20 成绩:99.00      生日:2000-1-1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="结构体作为函数参数">结构体作为函数参数</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printstudentInfo</span><span class="params">(Student stu)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>, stu.id);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, stu.name);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, stu.age);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, stu.score);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, stu.birthday.year, stu.birthday.month, stu.birthday.day);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printstudentInfo(stu1);</span><br><span class="line">printstudentInfo(stu2);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">学号:666        姓名:花瓶       年龄:18 成绩:100.00     生日:2022-8-25</span><br><span class="line">学号:555        姓名:鲁花瓶     年龄:20 成绩:99.00      生日:2000-1-1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="结构体指针">结构体指针</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Birthday</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> year;</span><br><span class="line">	<span class="type">int</span> month;</span><br><span class="line">	<span class="type">int</span> day;</span><br><span class="line">&#125;Birthday;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	Birthday birthday;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;Student;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printstudentInfo</span><span class="params">(Student* stu)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>, stu-&gt;id);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, stu-&gt;name);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, stu-&gt;age);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, stu-&gt;score);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, stu-&gt;birthday.year, stu-&gt;birthday.month, stu-&gt;birthday.day);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Student stu1 = &#123; <span class="number">666</span>,<span class="string">&quot;花瓶&quot;</span>,<span class="number">18</span>,<span class="number">100</span>,&#123;<span class="number">2022</span>,<span class="number">8</span>,<span class="number">25</span>&#125; &#125;;</span><br><span class="line">	Student stu2 = &#123; <span class="number">555</span>,<span class="string">&quot;鲁花瓶&quot;</span>,<span class="number">20</span>,<span class="number">99</span>,&#123;<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>&#125; &#125;;</span><br><span class="line"></span><br><span class="line">	Student* pstu = &amp;stu1;</span><br><span class="line">	printstudentInfo(pstu);</span><br><span class="line">	pstu = &amp;stu2;</span><br><span class="line">	printstudentInfo(pstu);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">学号:666        姓名:花瓶       年龄:18 成绩:100.00     生日:2022-8-25</span><br><span class="line">学号:555        姓名:鲁花瓶     年龄:20 成绩:99.00      生日:2000-1-1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注：结构体指针在访问成员时，不能使用点<code>.</code>，必须使用箭头<code>-&gt;</code></p>
<h3 id="结构体数组">结构体数组</h3>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printstudentInfo</span><span class="params">(Student* stu, <span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>, (stu + i)-&gt;id);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, (stu + i)-&gt;name);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, (stu + i)-&gt;age);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, (stu + i)-&gt;score);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, (stu + i)-&gt;birthday.year, (stu + i)-&gt;birthday.month, (stu + i)-&gt;birthday.day);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	Student stu[] = &#123; &#123; <span class="number">666</span>,<span class="string">&quot;花瓶&quot;</span>,<span class="number">18</span>,<span class="number">100</span>,&#123;<span class="number">2022</span>,<span class="number">8</span>,<span class="number">25</span>&#125; &#125; , &#123; <span class="number">555</span>,<span class="string">&quot;鲁花瓶&quot;</span>,<span class="number">20</span>,<span class="number">99</span>,&#123;<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>&#125; &#125; &#125;;</span><br><span class="line"></span><br><span class="line">	printstudentInfo(stu, <span class="keyword">sizeof</span>(stu) / <span class="keyword">sizeof</span>(Student));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>等价写法：<code>(stu + i)-&gt;id)</code>等价于<code>stu[i].id</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">printstudentInfo</span><span class="params">(Student* stu, <span class="type">int</span> size)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;学号:%d\t&quot;</span>, stu[i].id);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\t&quot;</span>, stu[i].name);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\t&quot;</span>, stu[i].age);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;成绩:%.2f\t&quot;</span>, stu[i].score);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;生日:%d-%d-%d\n&quot;</span>, stu[i].birthday.year, stu[i].birthday.month, stu[i].birthday.day);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">学号:666        姓名:花瓶       年龄:18 成绩:100.00     生日:2022-8-25</span><br><span class="line">学号:555        姓名:鲁花瓶     年龄:20 成绩:99.00      生日:2000-1-1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="结构体内存的计算">结构体内存的计算</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Birthday</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> year;</span><br><span class="line">	<span class="type">int</span> month;</span><br><span class="line">	<span class="type">int</span> day;</span><br><span class="line">&#125;Birthday;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span>* name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	<span class="type">float</span> score;</span><br><span class="line">	Birthday birthday;</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;Student;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;int所占字节数：%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;double所占字节数：%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">double</span>));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;float所占字节数：%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;生日结构体所占字节数：%d\n&quot;</span>, <span class="keyword">sizeof</span>(Birthday));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;学生结构体所占字节数：%d\n&quot;</span>, <span class="keyword">sizeof</span>(Student));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">int所占字节数：4</span><br><span class="line">double所占字节数：8</span><br><span class="line">float所占字节数：4</span><br><span class="line">生日结构体所占字节数：12</span><br><span class="line">学生结构体所占字节数：28</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">花瓶</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/">http://example.com/2022/08/25/%E6%8C%87%E9%92%88%E4%B8%8E%E7%BB%93%E6%9E%84%E4%BD%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">花瓶的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-C/">C/C++</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></div><div class="post_share"><div class="social-share" data-image="/img/Starry_Night.jpg" data-sites="qq,wechat,weibo"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/08/28/%E5%90%83%E8%B1%86%E4%BA%BA%E5%A4%A7%E9%80%83%E4%BA%A1/" title="吃豆人大逃亡"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/The_Starry_Night.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">吃豆人大逃亡</div></div></a></div><div class="next-post pull-right"><a href="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/" title="贝叶斯滤波"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Sunrise.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">贝叶斯滤波</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/10/19/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Claude_Monet.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-19</div><div class="title">数据结构</div></div></a></div><div><a href="/2022/09/05/%E7%9F%A9%E9%98%B5%E4%B8%8E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/" title="矩阵与线性方程组"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Athens.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-05</div><div class="title">矩阵与线性方程组</div></div></a></div><div><a href="/2022/08/28/%E5%90%83%E8%B1%86%E4%BA%BA%E5%A4%A7%E9%80%83%E4%BA%A1/" title="吃豆人大逃亡"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/The_Starry_Night.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-28</div><div class="title">吃豆人大逃亡</div></div></a></div><div><a href="/2023/01/29/%E6%8E%92%E5%BA%8F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95/" title="排序选择算法"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/The_Nightwatch.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-29</div><div class="title">排序选择算法</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/John_King.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">花瓶</div><div class="author-info__description">花瓶不简单</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/robust-vase"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/robust-vase" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:robustvase@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">花瓶持续更新~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">指针的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%80%BC%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">2.1.</span> <span class="toc-text">值的修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84-1"><span class="toc-number">2.2.</span> <span class="toc-text">指针的+1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">指针的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#void%E6%8C%87%E9%92%88"><span class="toc-number">2.4.</span> <span class="toc-text">void指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88"><span class="toc-number">2.5.</span> <span class="toc-text">指针的指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%9B%9B%E5%8C%BA"><span class="toc-number">2.6.</span> <span class="toc-text">内存四区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BC%A0%E5%80%BC"><span class="toc-number">2.7.</span> <span class="toc-text">函数传值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E4%BC%A0%E9%80%92call-by-value"><span class="toc-number">2.7.1.</span> <span class="toc-text">值传递call by value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E5%BC%95%E7%94%A8-call-by-reference"><span class="toc-number">2.7.2.</span> <span class="toc-text">传引用 call by reference</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">数组与指针</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-number">3.1.</span> <span class="toc-text">数组运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8F%82%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">数组参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84"><span class="toc-number">3.3.</span> <span class="toc-text">字符数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">3.4.</span> <span class="toc-text">二维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84-2"><span class="toc-number">3.5.</span> <span class="toc-text">多维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="toc-number">3.6.</span> <span class="toc-text">多维数组作为参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">动态内存</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#malloc%E3%80%81calloc%E3%80%81realloc"><span class="toc-number">4.1.</span> <span class="toc-text">malloc、calloc、realloc</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#malloc"><span class="toc-number">4.1.1.</span> <span class="toc-text">malloc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#calloc"><span class="toc-number">4.1.2.</span> <span class="toc-text">calloc</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#realloc"><span class="toc-number">4.1.3.</span> <span class="toc-text">realloc</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#malloc%E4%B8%8Efree"><span class="toc-number">4.2.</span> <span class="toc-text">malloc与free</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">4.2.1.</span> <span class="toc-text">一维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84-2"><span class="toc-number">4.2.2.</span> <span class="toc-text">二维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">二级指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">传递参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88"><span class="toc-number">4.2.2.3.</span> <span class="toc-text">数组指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">4.2.2.4.</span> <span class="toc-text">参数传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E6%A8%A1%E6%8B%9F%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">4.2.2.5.</span> <span class="toc-text">一维数组模拟二维数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-2"><span class="toc-number">4.2.2.6.</span> <span class="toc-text">参数传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89"><span class="toc-number">4.2.2.7.</span> <span class="toc-text">结构体定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92-3"><span class="toc-number">4.2.2.8.</span> <span class="toc-text">参数传递</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new%E4%B8%8Edelete"><span class="toc-number">4.3.</span> <span class="toc-text">new与delete</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">一维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84-3"><span class="toc-number">4.3.2.</span> <span class="toc-text">二维数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="toc-number">4.4.</span> <span class="toc-text">内存泄漏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E6%8C%87%E9%92%88"><span class="toc-number">4.5.</span> <span class="toc-text">函数返回指针</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">函数指针</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">5.1.</span> <span class="toc-text">指针函数的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">回调函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89-2"><span class="toc-number">6.1.</span> <span class="toc-text">结构体定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98"><span class="toc-number">6.1.1.</span> <span class="toc-text">结构体成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">6.1.2.</span> <span class="toc-text">空结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">6.1.3.</span> <span class="toc-text">匿名结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typedef%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.1.4.</span> <span class="toc-text">typedef定义数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%A5%97%E5%AE%9A%E4%B9%89"><span class="toc-number">6.1.5.</span> <span class="toc-text">结构体嵌套定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F"><span class="toc-number">6.2.</span> <span class="toc-text">结构体变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-number">6.2.1.</span> <span class="toc-text">结构体变量声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="toc-number">6.2.2.</span> <span class="toc-text">结构体变量赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E6%88%90%E5%91%98"><span class="toc-number">6.2.3.</span> <span class="toc-text">访问结构体变量成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">6.2.4.</span> <span class="toc-text">结构体作为函数参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88"><span class="toc-number">6.3.</span> <span class="toc-text">结构体指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84"><span class="toc-number">6.3.1.</span> <span class="toc-text">结构体数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%E5%AD%98%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">6.4.</span> <span class="toc-text">结构体内存的计算</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/01/29/%E6%8E%92%E5%BA%8F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95/" title="排序选择算法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/The_Nightwatch.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="排序选择算法"/></a><div class="content"><a class="title" href="/2023/01/29/%E6%8E%92%E5%BA%8F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95/" title="排序选择算法">排序选择算法</a><time datetime="2023-01-29T09:59:49.000Z" title="发表于 2023-01-29 17:59:49">2023-01-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/19/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Claude_Monet.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构"/></a><div class="content"><a class="title" href="/2022/10/19/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构">数据结构</a><time datetime="2022-10-19T04:20:06.000Z" title="发表于 2022-10-19 12:20:06">2022-10-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/08/R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="R语言学习"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Athens.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="R语言学习"/></a><div class="content"><a class="title" href="/2022/10/08/R%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/" title="R语言学习">R语言学习</a><time datetime="2022-10-08T10:20:06.000Z" title="发表于 2022-10-08 18:20:06">2022-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/05/%E7%9F%A9%E9%98%B5%E4%B8%8E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/" title="矩阵与线性方程组"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/Athens.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="矩阵与线性方程组"/></a><div class="content"><a class="title" href="/2022/09/05/%E7%9F%A9%E9%98%B5%E4%B8%8E%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/" title="矩阵与线性方程组">矩阵与线性方程组</a><time datetime="2022-09-05T09:41:43.000Z" title="发表于 2022-09-05 17:41:43">2022-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/28/%E5%90%83%E8%B1%86%E4%BA%BA%E5%A4%A7%E9%80%83%E4%BA%A1/" title="吃豆人大逃亡"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/lazyload.gif" data-original="/img/The_Starry_Night.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="吃豆人大逃亡"/></a><div class="content"><a class="title" href="/2022/08/28/%E5%90%83%E8%B1%86%E4%BA%BA%E5%A4%A7%E9%80%83%E4%BA%A1/" title="吃豆人大逃亡">吃豆人大逃亡</a><time datetime="2022-08-28T07:41:55.000Z" title="发表于 2022-08-28 15:41:55">2022-08-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By 花瓶</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来看花瓶滴<a target="_blank" rel="noopener" href="https://robust-vase.github.io/">博客</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: 'e19706903ff8a3f54196',
      clientSecret: '6854f9b2fb4f13d47055fbbf869e0e815516840f',
      repo: 'robust-vase.github.io',
      owner: 'robust-vase',
      admin: ['robust-vase'],
      id: '7239549a6e80923f3ccbdf74f322582c',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
    getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.textContent= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,文明,平等,公正,法制,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body></html>