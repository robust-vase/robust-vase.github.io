<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>贝叶斯滤波</title>
      <link href="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/"/>
      <url>/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/</url>
      
        <content type="html"><![CDATA[<h1>贝叶斯滤波</h1><h2 id="贝叶斯公式">贝叶斯公式</h2><p>离散：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>y</mi><mi mathvariant="normal">∣</mi><mi>X</mi><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(X=x|Y=y) = \frac{P(Y=y|X=x)P(X=x)}{P(Y=y)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>连续：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>&lt;</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Y</mi><mo>=</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>y</mi><mi mathvariant="normal">∣</mi><mi>X</mi><mo>&lt;</mo><mi>x</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>&lt;</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Y</mi><mo>=</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(X&lt;x|Y=y) = \frac{P(Y=y|X&lt;x)P(X&lt;x)}{P(Y=y)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>定理：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo><mtext>，</mtext><msub><mi>f</mi><mrow><mi>Y</mi><mi mathvariant="normal">∣</mi><mi>X</mi></mrow></msub><mo stretchy="false">(</mo><mi>y</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><msub><mi>f</mi><mrow><mi>X</mi><mi mathvariant="normal">∣</mi><mi>Y</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>y</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mfrac><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>2</mn></msub><mo>+</mo><mfrac><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><mfrac><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{X}(x) \sim N(u_1,\sigma_1 ^2)，f_{Y|X}(y|x) \sim N(u_2,\sigma_2 ^2)\\f_{X|Y}(x|y) \sim N(\frac{\sigma_1 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_2 + \frac{\sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_1 ,\frac{\sigma_1 ^2 \sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2193em;vertical-align:-0.3552em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>分析：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>若</mtext><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>≫</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo separator="true">,</mo><msub><mi>f</mi><mrow><mi>X</mi><mi mathvariant="normal">∣</mi><mi>Y</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>y</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mfrac><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>2</mn></msub><mo>+</mo><mfrac><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><mfrac><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><mo stretchy="false">)</mo><mo>≈</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo><mspace width="2em"><mo stretchy="false">(</mo><mtext>倾向观测值</mtext><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>若</mtext><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>≪</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mo separator="true">,</mo><msub><mi>f</mi><mrow><mi>X</mi><mi mathvariant="normal">∣</mi><mi>Y</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>y</mi><mo stretchy="false">)</mo><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mfrac><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>2</mn></msub><mo>+</mo><mfrac><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><mfrac><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow><mrow><msubsup><mi>σ</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>σ</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mfrac><mo stretchy="false">)</mo><mo>≈</mo><mi>N</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mn>1</mn></msub><mo separator="true">,</mo><msubsup><mi>σ</mi><mn>2</mn><mn>1</mn></msubsup><mo stretchy="false">)</mo><mspace width="2em"><mo stretchy="false">(</mo><mtext>倾向预测值</mtext><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">若\sigma_1 ^2 \gg \sigma_2 ^2,f_{X|Y}(x|y) \sim N(\frac{\sigma_1 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_2 + \frac{\sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_1 ,\frac{\sigma_1 ^2 \sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2})\approx N(u_2,\sigma_2 ^2) \qquad (倾向观测值)\\若\sigma_1 ^2 \ll \sigma_2 ^2,f_{X|Y}(x|y) \sim N(\frac{\sigma_1 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_2 + \frac{\sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2}u_1 ,\frac{\sigma_1 ^2 \sigma_2 ^2}{\sigma_1 ^2 + \sigma_2 ^2})\approx N(u_1,\sigma_2 ^1) \qquad (倾向预测值)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord cjk_fallback">若</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≫</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2193em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">倾向观测值</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord cjk_fallback">若</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≪</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2193em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4434em;vertical-align:-0.9523em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">倾向预测值</span><span class="mclose">)</span></span></span></span></span></p><h2 id="狄拉克函数">狄拉克函数</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>0</mn><mspace width="2em"><mo separator="true">,</mo></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo mathvariant="normal">≠</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">∞</mi><mspace width="2em"><mo separator="true">,</mo></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><mspace width="2em"><mtext>满足</mtext><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>=</mo><mn>1</mn></mspace></mrow><annotation encoding="application/x-tex">\begin{equation}\delta (x)=\left\{\begin{aligned}0 \qquad,&amp; x \neq 0 \\ \infty \qquad,&amp; x = 0 \\\end{aligned}\right.\end{equation}\qquad 满足 \int_{-\infty}^{+\infty} \delta (x) dx = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:2em;"></span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∞</span><span class="mspace" style="margin-right:2em;"></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:3.75em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord cjk_fallback">满足</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>实质上<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta (x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>为必然事件的概率密度</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>1</mn><mspace width="2em"><mo separator="true">,</mo></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mn>0</mn><mspace width="2em"><mo separator="true">,</mo></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>x</mi><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><mspace width="2em"><mtext>则</mtext><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mi>d</mi><mrow><mi>d</mi><mi>x</mi></mrow></mfrac><mi>H</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mspace></mrow><annotation encoding="application/x-tex">\begin{equation}H (x)=\left\{\begin{aligned}1 \qquad,&amp; x \ge 0 \\ 0 \qquad,&amp; x &lt; 0 \\\end{aligned}\right.\end{equation}\qquad 则 \delta(x)=\frac{d}{dx}H(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:3.75em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:2em;"></span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:2em;"></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:3.75em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord cjk_fallback">则</span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p><p>定理：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\int_{-\infty}^{+\infty} f(x)\delta (x) dx = f(0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4915em;vertical-align:-0.9703em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p><p>推论：</p>\int_{a}^{b} \delta (x) dx = 1 \qquad &a<0<b \\ \int_{a}^{b} f(x)\delta (x) dx="f(0)" \qquad &a<0<b \int_{c}^{d} (x - a) &c<a<d <h2 id="贝叶斯滤波算法">贝叶斯滤波算法<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>状态方程</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msub><mi>X</mi><mi>k</mi></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>Q</mi><mi>k</mi></msub></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>观测方程</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msub><mi>Y</mi><mi>k</mi></msub><mo>=</mo><mi>H</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>R</mi><mi>k</mi></msub></mspace></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}状态方程:&amp;\qquad X_k = f(X_{k-1}) + Q_k\\观测方程:&amp;\qquad Y_k = H(X_k) + R_k \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">状态方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">观测方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>初值</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msub><mi>X</mi><mn>0</mn></msub><mo>∼</mo><msub><mi>f</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>预测步</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>f</mi><msub><mi>Q</mi><mi>k</mi></msub></msub><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mi>f</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi>d</mi><mi>v</mi></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>更新步</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>η</mi><mi>k</mi></msub><msub><mi>f</mi><msub><mi>R</mi><mi>k</mi></msub></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mspace width="2em"><mo separator="true">,</mo><msub><mi>η</mi><mi>k</mi></msub><mo>=</mo><mo stretchy="false">[</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msub><mi>f</mi><msub><mi>R</mi><mi>k</mi></msub></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">]</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup></mspace></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>期望估计值</mtext><mo>:</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="2em"><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><mi>x</mi><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi></mspace></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}初值:&amp;\qquad X_0 \sim f_0(x) \\预测步:&amp; \qquad f_k ^{-}(x) = \int_{-\infty}^{+\infty} f_{Q_k}(x-f(v))f_{k-1}^{+}(v) dv \\更新步:&amp; \qquad f_k^{+}(x) = \eta_k f_{R_k}(y_k-h(x))f_k^{-}(x) \qquad ,\eta_k=[\int_{-\infty}^{+\infty} f_{R_k}(y_k-h(x))f_k^{-}(x)]^{-1} \\期望估计值:&amp; \qquad \hat{x}_k^{+} = \int_{-\infty}^{+\infty} xf_k^{+}(x)dx \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.8745em;vertical-align:-4.6873em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.1873em;"><span style="top:-7.8685em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord cjk_fallback">初值</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-5.6873em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord cjk_fallback">预测步</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-2.8958em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord cjk_fallback">更新步</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span><span style="top:-0.1042em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord cjk_fallback">期望估计值</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.6873em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.1873em;"><span style="top:-7.8685em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-5.6873em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-2.8958em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0077em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2559em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0077em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2559em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-0.1042em;"><span class="pstrut" style="height:3.5212em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.6873em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><mark>缺点：难以处理无穷积分</mark></p><p>对策：</p><ul class="lvl-0"><li class="lvl-2"><p>对状态方程、观测方程做假设</p></li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mtext>为线性函数</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>⇒</mo><mspace width="1em"><mi>K</mi><mi>a</mi><mi>l</mi><mi>m</mi><mi>a</mi><mi>n</mi><mtext> </mtext><mi>F</mi><mi>i</mi><mi>l</mi><mi>t</mi><mi>e</mi><mi>r</mi><mspace width="1em"><mtext>卡尔曼滤波</mtext></mspace></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>Q</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>k</mi></msub><mtext>为正态分布</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}f(x_{k-1}),h(x_k)为线性函数&amp; \\&amp;\Rightarrow \quad Kalman\ Filter \quad卡尔曼滤波 \\Q_k,R_k为正态分布&amp; \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">为线性函数</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">为正态分布</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">man</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">lt</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cjk_fallback">卡尔曼滤波</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mtext>为非线性函数</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>⇒</mo><mspace width="1em"><mi>E</mi><mi>x</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>d</mi><mtext> </mtext><mi>K</mi><mi>a</mi><mi>l</mi><mi>m</mi><mi>a</mi><mi>n</mi><mtext> </mtext><mi>F</mi><mi>i</mi><mi>l</mi><mi>t</mi><mi>e</mi><mi>r</mi><mspace width="1em"><mtext>拓展卡尔曼滤波</mtext></mspace></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>Q</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mi>k</mi></msub><mtext>为正态分布</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}f(x_{k-1}),h(x_k)为非线性函数&amp; \\&amp;\Rightarrow \quad Extend\ Kalman\ Filter \quad 拓展卡尔曼滤波 \\Q_k,R_k为正态分布&amp; \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">为非线性函数</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">为正态分布</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">man</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">i</span><span class="mord mathnormal">lt</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace" style="margin-right:1em;"></span><span class="mord cjk_fallback">拓展卡尔曼滤波</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><ul class="lvl-0"><li class="lvl-2"><p>处理无穷积分高斯积分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">⇒</span></span></span></span>粒子滤波</p></li><li class="lvl-2"><p>处理分布函数    无迹卡尔曼滤波</p></li></ul><table><thead><tr><th></th><th>速度</th><th>精度</th><th>稳定性</th></tr></thead><tbody><tr><td>EKF</td><td>快</td><td>差</td><td>较稳定</td></tr><tr><td>PK</td><td>慢</td><td>高</td><td>较稳定</td></tr><tr><td>UKF</td><td>较快</td><td>较高</td><td>很不稳定，易崩溃(维度越高越不稳定)</td></tr></tbody></table><h2 id="卡尔曼滤波">卡尔曼滤波</h2><p>条件：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mi>F</mi><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mspace width="1em"><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>h</mi><msub><mi>X</mi><mi>k</mi></msub><mspace width="2em"><mtext>假设为线性函数</mtext></mspace></mspace></mrow><annotation encoding="application/x-tex">f(x_{k-1}) = F X_{k-1} \quad h(x_k) = h X_k \qquad 假设为线性函数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord cjk_fallback">假设为线性函数</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mi>Q</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>π</mi><mi>Q</mi></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mfrac><msup><mi>x</mi><mn>2</mn></msup><mrow><mn>2</mn><mi>R</mi></mrow></mfrac></mrow></msup><mspace width="1em"><msub><mi>f</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>π</mi><mi>R</mi></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mfrac><msup><mi>x</mi><mn>2</mn></msup><mrow><mn>2</mn><mi>R</mi></mrow></mfrac></mrow></msup></mspace></mrow><annotation encoding="application/x-tex">f_Q(x) = \frac{1}{\sqrt{2\pi Q}}e^{-\frac{x^2}{2R}} \quad f_R(x) = \frac{1}{\sqrt{2\pi R}}e^{-\frac{x^2}{2R}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2806em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8294em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord mathnormal">Q</span></span></span><span style="top:-2.7894em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2106em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.206em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1329em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.1833em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.206em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1329em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>设</mtext><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msubsup><mi>u</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo separator="true">,</mo><msubsup><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mspace width="2em"><mi>Q</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>Q</mi><mo stretchy="false">)</mo><mspace width="2em"><mi>R</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">设X_{k-1} \sim N(u_{k-1}^{+} , \sigma_{k-1}^{+}) \qquad Q \sim N(0,Q) \qquad R \sim N(0,R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord cjk_fallback">设</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1711em;vertical-align:-0.3498em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">Q</span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></span></p><p>算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><mi>F</mi><msubsup><mi>u</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo>+</mo></msubsup><mspace width="2em"><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><msup><mi>F</mi><mn>2</mn></msup><msubsup><mi>σ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>+</mo><mi>Q</mi><mspace width="2em"><mi>K</mi><mo>=</mo><mfrac><mrow><mi>h</mi><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow><mrow><msup><mi>h</mi><mn>2</mn></msup><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>R</mi></mrow></mfrac><mspace linebreak="newline"></mspace><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><mi>K</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mspace width="2em"><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>K</mi><mi>h</mi><mo stretchy="false">)</mo><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mspace></mspace></mspace></mrow><annotation encoding="application/x-tex">u_k^{-}=F u_{k-1}^+ \qquad\sigma_k^{-} = F^2 \sigma_{k-1}^{+} + Q \qquad K = \frac{h\sigma_k^{-}}{h^2\sigma_k^{-} + R} \\u_k^{+} = u_k^{-} = K(y_k - hu_k^{-}) \qquad \sigma_k^{+} = (1 - Kh)\sigma_k^{-}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1711em;vertical-align:-0.3498em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2139em;vertical-align:-0.3498em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.5055em;vertical-align:-1.0028em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5028em;"><span style="top:-2.2985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8115em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1031em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6913em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8115em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.1031em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0028em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>分析：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><mfrac><mi>h</mi><mrow><msup><mi>h</mi><mn>2</mn></msup><mo>−</mo><mi>R</mi><mi mathvariant="normal">/</mi><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">K=\frac{h}{h^2 - R/\sigma _k ^{-}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.5079em;vertical-align:-0.6277em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.6153em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mord mtight">/</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.821em;"><span style="top:-2.1528em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-2.9043em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6277em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>若</mtext><mi>R</mi><mo>≫</mo><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo separator="true">,</mo><mi>K</mi><mo>→</mo><mn>0</mn><mo separator="true">,</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>K</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>→</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mspace width="2em"><mo stretchy="false">(</mo><mtext>倾向预测值</mtext><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>若</mtext><mi>R</mi><mo>≪</mo><msubsup><mi>σ</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo separator="true">,</mo><mi>K</mi><mo>→</mo><mfrac><mn>1</mn><mi>h</mi></mfrac><mo separator="true">,</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>K</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><msubsup><mi>u</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>→</mo><mfrac><msub><mi>y</mi><mi>k</mi></msub><mi>h</mi></mfrac><mspace width="2em"><mo stretchy="false">(</mo><mtext>倾向预测值</mtext><mo stretchy="false">)</mo></mspace></mspace></mrow><annotation encoding="application/x-tex">若R \gg \sigma_k ^{-}, K \rightarrow 0 , u_k^{+} = u_k^{-} + K(y_k - hu_k^{-}) \rightarrow u_k^{-} \qquad (倾向预测值)\\若R \ll \sigma_k ^{-}, K \rightarrow \frac{1}{h} , u_k^{+} = u_k^{-} + K(y_k - hu_k^{-}) \rightarrow \frac{y_k}{h} \qquad (倾向预测值)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord cjk_fallback">若</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≫</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">倾向预测值</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord cjk_fallback">若</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≪</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1128em;vertical-align:-0.2914em;"></span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">倾向预测值</span><span class="mclose">)</span></span></span></span></span></p><p>矩阵形式的卡尔曼滤波</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>u</mi><mi>k</mi></msub><mo>⇒</mo><msub><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mi>k</mi></msub><mspace width="2em"><msub><mi>σ</mi><mi>k</mi></msub><mo>⇒</mo><msub><mo>∑</mo><mi>k</mi></msub><mspace linebreak="newline"></mspace><mi>F</mi><mtext>、</mtext><mi>H</mi><mtext>、</mtext><mi>Q</mi><mtext>、</mtext><mi>R</mi><mtext>皆为矩阵</mtext></mspace></mrow><annotation encoding="application/x-tex">u_k \Rightarrow \vec{u}_k \qquad \sigma_k \Rightarrow \sum\nolimits_{k} \\F、H、Q、R皆为矩阵</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6497em;vertical-align:-0.5997em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.1136em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal">Q</span><span class="mord cjk_fallback">、</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord cjk_fallback">皆为矩阵</span></span></span></span></span></p><p>算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>F</mi><msubsup><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>F</mi><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">−</mo></msubsup><msup><mi>F</mi><mi>T</mi></msup><mo>+</mo><mi>Q</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>K</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><msup><mi>H</mi><mi>T</mi></msup><mo stretchy="false">(</mo><mi>H</mi><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><msup><mi>H</mi><mi>T</mi></msup><mo>+</mo><mi>R</mi><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>K</mi><mo stretchy="false">(</mo><msub><mover accent="true"><mi>y</mi><mo>⃗</mo></mover><mi>k</mi></msub><mo>−</mo><mi>H</mi><msubsup><mover accent="true"><mi>u</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mo>−</mo><mi>K</mi><mi>H</mi><mo stretchy="false">)</mo><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}\vec{u}_k^{-} &amp;= F \vec{u}_{k - 1}^{-} \\\sum\nolimits_{k}^{-} &amp;= F\sum\nolimits_{k - 1}^{-} F^{T} + Q \\K &amp;= \sum\nolimits_{k}^{-} H^{T}(H\sum\nolimits_{k}^{-}H^{T} + R)^{-1} \\\vec{u}_k^{+} &amp;= \vec{u}_k^{-} + K(\vec{y}_k - H\vec{u}_k^{-}) \\\sum\nolimits_{k}^{+} &amp;= (I - KH)\sum\nolimits_{k}^{-}\\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.3912em;vertical-align:-4.4456em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.9456em;"><span style="top:-7.3168em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.4456em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2763em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span><span style="top:-1.5366em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span><span style="top:0.3346em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.4456em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.9456em;"><span style="top:-7.3168em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.4456em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.658em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span></span></span><span style="top:-3.2763em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.5366em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:0.3346em;"><span class="pstrut" style="height:3.2112em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">KH</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.4456em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>生成高斯噪声信号：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><msup><mi>t</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">x=t^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%生成一段时间t</span></span><br><span class="line">t = <span class="number">0.1</span>:<span class="number">0.01</span>:<span class="number">1</span>;</span><br><span class="line">L = <span class="built_in">length</span>(t);</span><br><span class="line"></span><br><span class="line"><span class="comment">%生成真实信号x，以及观测信号y</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%初始化</span></span><br><span class="line">x = <span class="built_in">zeros</span>(<span class="number">1</span>, L);</span><br><span class="line">y = x;</span><br><span class="line"></span><br><span class="line"><span class="comment">%生成信号，设x=t^2</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:L</span><br><span class="line"></span><br><span class="line">    x(<span class="built_in">i</span>) = t(<span class="built_in">i</span>)^<span class="number">2</span>;</span><br><span class="line">    y(<span class="built_in">i</span>) = x(<span class="built_in">i</span>) + normrnd(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%输出生成的信号</span></span><br><span class="line"><span class="built_in">plot</span>(t, x, t, y);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>,<span class="string">&#x27;观测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E9%AB%98%E6%96%AF%E5%99%AA%E5%A3%B0_%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2.png" alt="高斯噪声_卡尔曼滤波"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Xplus</span> = <span class="title">Kalman_Filter</span><span class="params">(y, F, Q, H, R, Xplus_0, Pplus_0)</span></span></span><br><span class="line"></span><br><span class="line">    L = <span class="built_in">length</span>(y);</span><br><span class="line">    n = <span class="built_in">length</span>(F);</span><br><span class="line"></span><br><span class="line">    <span class="comment">%初始化X(k)plus</span></span><br><span class="line">    Xplus = <span class="built_in">zeros</span>(n, L);</span><br><span class="line"></span><br><span class="line">    <span class="comment">%初值</span></span><br><span class="line">    Xplus(:, <span class="number">1</span>) = Xplus_0;</span><br><span class="line">    Pplus = Pplus_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:L</span><br><span class="line"></span><br><span class="line">        <span class="comment">%预测步</span></span><br><span class="line">        Xminus = F * Xplus(:, <span class="built_in">i</span> - <span class="number">1</span>);</span><br><span class="line">        Pminus = F * Pplus * F&#x27; + Q;</span><br><span class="line"></span><br><span class="line">        <span class="comment">%更新步</span></span><br><span class="line">        K = (Pminus * H&#x27;) * inv(H * Pminus * H&#x27; + R);</span><br><span class="line">        Xplus(:, <span class="built_in">i</span>) = Xminus + K * (y(<span class="built_in">i</span>) - H * Xminus);</span><br><span class="line">        Pplus = (<span class="built_in">eye</span>(n) - K * H) * Pminus;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>简单模型：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mi>k</mi></msub><mo>=</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>Q</mi><mspace linebreak="newline"></mspace><msub><mi>Y</mi><mi>k</mi></msub><mo>=</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">X_{k} = X_{k-1} + Q \\Y_{k} = X_{k-1} + R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; H = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; Q = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; R = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; Xplus_0 = <span class="number">0.01</span>;</span><br><span class="line">&gt;&gt; Pplus_0 = <span class="number">0.01</span>^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">&gt;&gt; Xplus1 = Kalman_Filter(y, F, H, Q, R, Xplus_0, Pplus_0);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;g&#x27;</span>, t, Xplus1, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2.png" alt="卡尔曼滤波"></p><p>预测方程优化：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>X</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msubsup><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mi>d</mi><mi>t</mi><mo>+</mo><msubsup><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msubsup><mfrac><mrow><mo stretchy="false">(</mo><mi>d</mi><mi>t</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><mo stretchy="false">!</mo></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>X</mi><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>+</mo><msubsup><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mi>d</mi><mi>t</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>X</mi><mi>k</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msubsup><mi>d</mi><mi>t</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}X_k &amp;= X_{k-1} + X&#x27;_{k-1} dt + X&#x27;&#x27;_{k-1} \frac{(dt)^2}{2 !} \\X&#x27;_k &amp;= X&#x27;_{k-1} + X&#x27;_{k-1} dt \\X&#x27;&#x27;_k &amp;=X&#x27;&#x27;_{k-1} dt \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.4771em;vertical-align:-2.4886em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9886em;"><span style="top:-4.9886em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1626em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.6626em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4886em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9886em;"><span style="top:-4.9886em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mclose">!</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.1626em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-1.6626em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4886em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; dt = t(<span class="number">2</span>) - t(<span class="number">1</span>);</span><br><span class="line">&gt;&gt; F = [<span class="number">1</span>, dt, <span class="number">0.5</span> * dt^<span class="number">2</span>; <span class="number">0</span>, <span class="number">1</span>, dt; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">&gt;&gt; H = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line">&gt;&gt; Q = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>; <span class="number">0</span>, <span class="number">0.01</span>, <span class="number">0</span>; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.0001</span>];</span><br><span class="line">&gt;&gt; R = <span class="number">20</span>;</span><br><span class="line">&gt;&gt; Xplus_0 = [<span class="number">0.1</span>^<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line">&gt;&gt; Pplus_0 = [<span class="number">0.01</span>, <span class="number">0</span>, <span class="number">0</span>; <span class="number">0</span>, <span class="number">0.01</span>, <span class="number">0</span>; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.0001</span>];</span><br><span class="line"></span><br><span class="line">&gt;&gt; Xplus2 = Kalman_Filter(y, F, Q, H, R, Xplus_0, Pplus_0);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;g&#x27;</span>, t, Xplus2(<span class="number">1</span>, :), <span class="string">&#x27;m&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2_%E6%94%B9%E8%BF%9B-16585721371578.png" alt="卡尔曼滤波_改进"></p><p>综合比较：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;g&#x27;</span>, t, Xplus1, <span class="string">&#x27;b&#x27;</span>, t, Xplus2(<span class="number">1</span>, :), <span class="string">&#x27;m&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>, <span class="string">&#x27;预测信号改进&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2_%E6%AF%94%E8%BE%83.png" alt="卡尔曼滤波_比较"></p><h2 id="拓展卡尔曼滤波">拓展卡尔曼滤波</h2><p>条件：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mtext> 与 </mtext><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mspace width="2em"><mtext>假设为非线性函数</mtext></mspace></mrow><annotation encoding="application/x-tex">f(x_{k-1})\ 与\ h(x_k) \qquad 假设为非线性函数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace"> </span><span class="mord cjk_fallback">与</span><span class="mspace"> </span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord cjk_fallback">假设为非线性函数</span></span></span></span></span></p><p>对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_{k-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><mark>线性化</mark></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>状态方程</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>X</mi><mi>k</mi></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>Q</mi><mi>k</mi></msub><mspace width="1em"><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo separator="true">,</mo><msubsup><mi>P</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>泰勒展开</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>≈</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mo>+</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mo>≈</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>令</mtext><mspace width="1em"></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>A</mi><mo>=</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mspace width="1em"><mi>B</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>预测方程</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>X</mi><mi>k</mi></msub><mo>=</mo><mi>A</mi><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>B</mi><mo>+</mo><msub><mi>Q</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>观测方程</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>Y</mi><mi>k</mi></msub><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>R</mi><mi>k</mi></msub><mspace width="1em"><msub><mi>X</mi><mi>k</mi></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo separator="true">,</mo><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>泰勒展开</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>≈</mo><mi>h</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>+</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>k</mi></msub><mo>−</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>≈</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><msub><mi>X</mi><mi>k</mi></msub><mo>+</mo><mo stretchy="false">[</mo><mi>h</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>令</mtext><mspace width="1em"></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>C</mi><mo>=</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mspace width="1em"><mi>D</mi><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo>−</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>更新方程</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>Y</mi><mi>k</mi></msub><mo>=</mo><mi>C</mi><msub><mi>X</mi><mi>k</mi></msub><mo>+</mo><mi>D</mi><mo>+</mo><msub><mi>R</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}状态方程: \  &amp;X_k = f(X_{k-1}) +Q_k \quad X_{k-1} \sim N(\hat{x}^{+}_{k-1},P^{+}_{k-1}) \\泰勒展开: \ &amp;f(x_{k-1}) \approx f(\hat{x}^{+}_{k-1}) + f&#x27;(\hat{x}^{+}_{k-1})(X_{k-1}-\hat{x}^{+}_{k-1}) \approx f&#x27;(\hat{x}^{+}_{k-1})X_{k-1} + [f(\hat{x}^{+}_{k-1})-f&#x27;(\hat{x}^{+}_{k-1})\hat{x}^{+}_{k-1}] \\令\quad &amp;A=f&#x27;(\hat{x}^{+}_{k-1})\quad B = f(\hat{x}^{+}_{k-1})-f&#x27;(\hat{x}^{+}_{k-1})\hat{x}^{+}_{k-1} \\预测方程:\ &amp;X_k = AX_{k-1} + B +Q_k \\\\观测方程: \  &amp;Y_k = f(X_{k}) +R_k \quad X_{k} \sim N(\hat{x}^{-}_{k},P^{-}_{k}) \\泰勒展开: \ &amp;h(x_{k}) \approx h(\hat{x}^{-}_{k}) + h&#x27;(\hat{x}^{-}_{k})(X_{k}-\hat{x}^{-}_{k}) \approx h&#x27;(\hat{x}^{-}_{k})X_{k} + [h(\hat{x}^{-}_{k}) - h&#x27;(\hat{x}^{-}_{k})\hat{x}^{-}_{k}] \\令\quad &amp;C=h&#x27;(\hat{x}^{-}_{k})\quad D = h(\hat{x}^{-}_{k})-h&#x27;(\hat{x}^{-}_{k})\hat{x}^{-}_{k} \\更新方程:\ &amp;Y_k = CX_{k} + D +R_k \end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:13.5em;vertical-align:-6.5em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7em;"><span style="top:-9.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">状态方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">泰勒展开</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">令</span><span class="mspace" style="margin-right:1em;"></span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">预测方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">观测方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">泰勒展开</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">令</span><span class="mspace" style="margin-right:1em;"></span></span></span><span style="top:2.84em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">更新方程</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7em;"><span style="top:-9.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-7.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">[</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span><span style="top:1.34em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span><span style="top:2.84em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo separator="true">,</mo><msubsup><mi>p</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>预测步</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>A</mi><mo>=</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mspace width="2em"><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo><mspace width="2em"><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>=</mo><msup><mi>A</mi><mn>2</mn></msup><msubsup><mi>P</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>+</mo><mi>Q</mi></mspace></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>更新步</mtext><mo>:</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>C</mi><mo>=</mo><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mspace width="2em"><mi>K</mi><mo>=</mo><mfrac><mrow><mi>C</mi><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow><mrow><msup><mi>C</mi><mn>2</mn></msup><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>R</mi></mrow></mfrac><mspace width="2em"><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>K</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace width="2em"><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>K</mi><mi>C</mi><mo stretchy="false">)</mo><msubsup><mi>P</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mspace></mspace></mspace></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}&amp;X_{k-1} \sim N(\hat{x}^{+}_{k-1},p^{+}_{k-1}) \\预测步:\ &amp;A=f&#x27;(\hat{x}^{+}_{k-1}) \qquad \hat{x}^{-}_k = f(\hat{x}^{+}_{k-1}) \qquad P^{-}_{k} = A^2P^{+}_{k-1} + Q \\更新步:\ &amp;C=h&#x27;(\hat{x}^{-}_k) \qquad K = \frac{CP^{-}_{k}}{C^2P^{-}_{k}+R} \qquad \hat{x}^{+}_k = \hat{x}^{-}_k +K(y_k - h(\hat{x}^{-}_k)) \qquad P^{+}_k = (1 - KC)P^{-}_k \\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.8296em;vertical-align:-2.6648em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1648em;"><span style="top:-5.8276em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"></span></span><span style="top:-4.3035em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"><span class="mord cjk_fallback">预测步</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span><span style="top:-2.1407em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"><span class="mord cjk_fallback">更新步</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace"> </span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.6648em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1648em;"><span style="top:-5.8276em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-4.3035em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3498em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span></span></span><span style="top:-2.1407em;"><span class="pstrut" style="height:3.5028em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5028em;"><span style="top:-2.2985em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8115em;"><span style="top:-2.3987em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.1031em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6913em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8115em;"><span style="top:-2.3987em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.1031em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0028em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">))</span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.6648em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>矩阵形式：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mover accent="true"><mi>X</mi><mo>⃗</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo separator="true">,</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>A</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>f</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mo>^</mo></mover><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">−</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>A</mi><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mo lspace="0em" rspace="0em">+</mo></msubsup><msup><mi>A</mi><mi>T</mi></msup><mo>+</mo><mi>Q</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>C</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>h</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>K</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><msup><mi>C</mi><mi>T</mi></msup><mo stretchy="false">(</mo><mi>C</mi><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><msup><mi>C</mi><mi>T</mi></msup><mo>+</mo><mi>R</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo>+</mo><mi>K</mi><mo stretchy="false">(</mo><mover accent="true"><mi>y</mi><mo>⃗</mo></mover><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>⃗</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mo>−</mo><mi>K</mi><mi>C</mi><mo stretchy="false">)</mo><msubsup><mo>∑</mo><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}&amp;\vec{X}_{k-1} \sim N(\hat{\vec{x}}^{+}_{k-1},\sum\nolimits_{k-1}^{+}) \\A&amp;=\begin{pmatrix}     \frac{\partial f_1}{\partial x^{(1)}_{k-1}} &amp; \frac{\partial f_1}{\partial x^{(2)}_{k-1}} &amp; \cdots &amp; \frac{\partial f_1}{\partial x^{(n)}_{k-1}} \\ \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ \frac{\partial f_n}{\partial x^{(1)}_{k-1}} &amp; \frac{\partial f_n}{\partial x^{(2)}_{k-1}} &amp; \cdots &amp; \frac{\partial f_n}{\partial x^{(n)}_{k-1}} \\\end{pmatrix} \\\vec{x}^{-}_{k} &amp;= f(\hat{\vec{x}}^{+}_{k-1}) \\\sum\nolimits_{k-1}^{-} &amp;= A \sum\nolimits_{k-1}^{+} A^{T} + Q \\C&amp;=\begin{pmatrix}     \frac{\partial h_1}{\partial x^{(1)}_{k}} &amp; \frac{\partial h_1}{\partial x^{(2)}_{k}} &amp; \cdots &amp; \frac{\partial h_1}{\partial x^{(n)}_{k}} \\ \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ \frac{\partial h_n}{\partial x^{(1)}_{k}} &amp; \frac{\partial h_n}{\partial x^{(2)}_{k}} &amp; \cdots &amp; \frac{\partial h_n}{\partial x^{(n)}_{k}} \\\end{pmatrix} \\K &amp;= \sum\nolimits_{k}^{-} C^{T}(C \sum\nolimits_{k}^{-} C^T +R) \\\vec{x}^{+}_k &amp;= \vec{x}^{-}_k + K(\vec{y} -h(\vec{x}^{-}_k)) \\\sum\nolimits_{k}^{+} &amp;= (I - KC)\sum\nolimits_{k}^{-} \end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:23.1004em;vertical-align:-11.3002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8002em;"><span style="top:-15.539em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"></span></span><span style="top:-11.6309em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span><span style="top:-7.7422em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span><span style="top:-5.871em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.658em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.0423em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span><span style="top:1.8395em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span><span style="top:3.5792em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span></span></span><span style="top:5.4505em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3002em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:11.8002em;"><span style="top:-15.539em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span><span style="top:-3.283em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1387em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.4303em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.658em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-11.6309em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-2.011em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-3.158em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="1.816em" style="width:0.875em" viewbox="0 0 875 1816" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V1816 H291z M291 0 H417 V1816 H291z"/></svg></span></span><span style="top:-5.6111em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9483em;"><span style="top:-5.7036em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.0753em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4483em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9483em;"><span style="top:-5.7036em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.0753em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4483em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9483em;"><span style="top:-5.5161em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.18em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.8878em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4483em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9483em;"><span style="top:-5.7036em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.0753em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4068em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.1076em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8361em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.4483em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-2.011em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-3.158em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="1.816em" style="width:0.875em" viewbox="0 0 875 1816" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V1816 H457z M457 0 H583 V1816 H457z"/></svg></span></span><span style="top:-5.6111em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-7.7422em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span></span><span style="top:-3.283em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1387em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.4303em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-5.871em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.658em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span></span></span><span style="top:-2.0423em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-1.711em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎝</span></span></span><span style="top:-2.858em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="1.216em" style="width:0.875em" viewbox="0 0 875 1216" preserveaspectratio="xMinYMin"><path d="M291 0 H417 V1216 H291z M291 0 H417 V1216 H291z"/></svg></span></span><span style="top:-4.7111em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎛</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8706em;"><span style="top:-5.6619em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.1113em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3706em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8706em;"><span style="top:-5.6619em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.1113em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3706em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8706em;"><span style="top:-5.4744em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.18em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.9238em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3706em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8706em;"><span style="top:-5.6619em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-2.1113em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8962em;"><span style="top:-2.4486em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0591em;"><span style="top:-2.1885em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.0591em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5357em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3472em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7944em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3706em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-1.711em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎠</span></span></span><span style="top:-2.858em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.875em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.875em" height="1.216em" style="width:0.875em" viewbox="0 0 875 1216" preserveaspectratio="xMinYMin"><path d="M457 0 H583 V1216 H457z M457 0 H583 V1216 H457z"/></svg></span></span><span style="top:-4.7111em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size4"><span>⎞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:1.8395em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span><span style="top:3.5792em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z"/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span><span style="top:5.4505em;"><span class="pstrut" style="height:4.95em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2112em;"><span style="top:-2.1003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.5029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:11.3002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>生成高斯噪声信号：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>真实数据</mtext><mo>:</mo><mspace width="1em"><msub><mi>x</mi><mi>i</mi></msub></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>3</mn><msub><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>观测数据</mtext><mo>:</mo><mspace width="1em"><msub><mi>y</mi><mi>i</mi></msub></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mi>R</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}真实数据:\quad x_i&amp;=\sin(3x_{i-1}) \\观测数据:\quad y_i&amp;=x_i^2+R\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0241em;vertical-align:-1.2621em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">真实数据</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">观测数据</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%生成100个信号</span></span><br><span class="line">t = <span class="number">0.01</span>:<span class="number">0.01</span>:<span class="number">1</span>;</span><br><span class="line">n = <span class="built_in">length</span>(t);</span><br><span class="line">x = <span class="built_in">zeros</span>(<span class="number">1</span>, n);</span><br><span class="line">y = <span class="built_in">zeros</span>(<span class="number">1</span>, n);</span><br><span class="line"></span><br><span class="line"><span class="comment">%初值</span></span><br><span class="line">x(<span class="number">1</span>) = <span class="number">0.1</span>;</span><br><span class="line">y(<span class="number">1</span>) = <span class="number">0.1</span>^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">%生成真实数据与观测数据</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">    x(<span class="built_in">i</span>) = <span class="built_in">sin</span>(<span class="number">3</span> * x(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line">    y(<span class="built_in">i</span>) = x(<span class="built_in">i</span>)^<span class="number">2</span> + normrnd(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%输出生成的信号</span></span><br><span class="line"><span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E9%AB%98%E6%96%AF%E5%99%AA%E5%A3%B0_%E6%8B%93%E5%B1%95%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2.png" alt="高斯噪声_拓展卡尔曼滤波"></p><p>注：只对一维的情况</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Xplus</span> = <span class="title">Extend_Kalman</span><span class="params">(y, F, Q, H, R, Xplus_0, Pplus_0)</span></span></span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">length</span>(y);</span><br><span class="line">    Xplus = <span class="built_in">zeros</span>(<span class="number">1</span>, n);</span><br><span class="line"></span><br><span class="line">    f=sym(F);</span><br><span class="line">    df=diff(f);</span><br><span class="line">    dF=matlabFunction(df);</span><br><span class="line">    h=sym(H);</span><br><span class="line">    dh=diff(h);</span><br><span class="line">    dH=matlabFunction(dh);</span><br><span class="line"></span><br><span class="line">    Pplus = Pplus_0;</span><br><span class="line">    Xplus(<span class="number">1</span>) = Xplus_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="comment">%预测步</span></span><br><span class="line">        A = dF(Xplus(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line">        Xminus = F(Xplus(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line">        Pminus = A * Pplus * A&#x27; +Q;</span><br><span class="line"></span><br><span class="line">        <span class="comment">%更新步</span></span><br><span class="line">        C = dH(Xminus);</span><br><span class="line">        K = Pminus * C * inv(C * Pminus * C&#x27; +R);</span><br><span class="line">        Xplus(<span class="built_in">i</span>) = Xminus + K * (y(<span class="built_in">i</span>) - H(Xminus));</span><br><span class="line">        Pplus = (<span class="built_in">eye</span>(<span class="number">1</span>) - K * C) * Pminus;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x);</span><br><span class="line">&gt;&gt; H = @(x)x^<span class="number">2</span>;</span><br><span class="line">&gt;&gt; Q = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; R = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; Xplus_0 = <span class="number">0.01</span>;</span><br><span class="line">&gt;&gt; Pplus_0 = <span class="number">0.01</span>^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">&gt;&gt; Xplus = Extend_Kalman(y, F, Q, H, R, Xplus_0, Pplus_0)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;g&#x27;</span>, t, Xplus, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E6%8B%93%E5%B1%95%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2.png" alt="拓展卡尔曼滤波"></p><p>原因：<mark>多峰问题</mark>。观测方程<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo>+</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">y_i=x_i^2+R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0728em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>有两个解</p><h2 id="粒子滤波器">粒子滤波器</h2><p>条件：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>X</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>Q</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>Y</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>R</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>X</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>Q</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>Q</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>R</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>R</mi><mi>k</mi></msub><mtext>相互独立</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}X_k &amp;= f(x_{k-1}) + Q_k \\Y_k &amp;= h(x_k) + R_k \\X_0,Q_1, \dots ,&amp; Q_k,R_1, \dots , R_k 相互独立\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.5em;vertical-align:-2em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.5em;"><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">相互独立</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>算法：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>初值 </mtext><msub><mi>X</mi><mn>0</mn></msub><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>生成</mtext><mi>n</mi><mtext>个</mtext><msub><mi>X</mi><mn>0</mn></msub><mtext>样本 </mtext><msubsup><mi>x</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>x</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>生成</mtext><msub><mi>X</mi><mn>0</mn></msub><mtext>样本对应权重 </mtext><msubsup><mi>ω</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mspace width="1em"><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">(</mo><msubsup><mi>ω</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mtext> </mtext><mi>o</mi><mi>r</mi><mtext> </mtext><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo></mrow></mfrac><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">)</mo></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>⋯</mo><mo>⋯</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>预测步开始</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>生成</mtext><msubsup><mi>X</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mtext>的样本 </mtext><msubsup><mi>x</mi><mi>k</mi><mrow><mo>−</mo><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>Q</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>预测步的分布函数 </mtext><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>ω</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>预测步结束</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>观测到数据</mtext><msub><mi>y</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>5</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>更新步的分布函数 </mtext><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>η</mi><msub><mi>f</mi><mi>R</mi></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mi>f</mi><mi>k</mi><mo lspace="0em" rspace="0em">−</mo></msubsup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>η</mi><mtext> </mtext><msub><mi>f</mi><mi>R</mi></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext> </mtext><msubsup><mi>ω</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msubsup><mi>x</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>改变粒子权重 </mtext><msubsup><mi>ω</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><msub><mi>f</mi><mi>R</mi></msub><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><mi>h</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo>−</mo><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mi>ω</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mspace width="2em"><msub><mi>f</mi><mi>R</mi></msub><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>π</mi><mi>σ</mi></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mfrac><msup><mi>x</mi><mn>2</mn></msup><mrow><mn>2</mn><msup><mi>σ</mi><mn>2</mn></msup></mrow></mfrac></mrow></msup></mspace></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>6</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>归一化 </mtext><mi>η</mi><mo>=</mo><mo stretchy="false">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>ω</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>7</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>估计期望位置 </mtext><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>ω</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><mi>δ</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>ω</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>方差 </mtext><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">[</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">]</mo><mn>2</mn></msup><mo>=</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msup><mi>x</mi><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><mo>−</mo><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">(</mo><msubsup><mo>∫</mo><mrow><mo>−</mo><mi mathvariant="normal">∞</mi></mrow><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></msubsup><msup><mi>x</mi><mn>2</mn></msup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>d</mi><mi>x</mi><msup><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">)</mo><mn>2</mn></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">[</mo><msubsup><mi>ω</mi><mi>k</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msubsup><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo>−</mo><mo stretchy="false">(</mo><msubsup><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>k</mi><mo lspace="0em" rspace="0em">+</mo></msubsup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>更新步结束</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>…</mo><mo>…</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}(1)&amp;初值\ X_0 \sim N(u,\sigma ^2) \\(2)&amp;生成n个X_0样本\ x_0^{(1)} , \dots , x_0^{(n)} \\(3)&amp;生成X_0样本对应权重\ \omega_0^{(i)} \quad \bigg(\omega_0^{(i)} = \frac{1}{n} \ or \ \frac{f(x_0^{(i)})}{\sum_{i=1}^{n} f(x_0^{(i)})}\bigg) \\&amp;\cdots \cdots \\&amp;预测步开始 \\(4)&amp;生成X_k^{-}的样本\ x_k^{-(i)} = f(x_0^{(i)}) + Q \\&amp;预测步的分布函数\ f_k^{-}(x) = \sum_{i=1}^{n} \omega_{k-1}^{(i)} \delta(x - x_k^{(i)}) \\&amp;预测步结束 \\&amp;观测到数据y_k \\(5)&amp;更新步的分布函数\ f_k^{+}(x) = \eta f_R(y_k - h(x))f_k^{-}(x) = \sum _{i = 1}^{n} \eta \ f_R(y_k - h(x))\ \omega_{k-1}^{(i)} \delta(x - x_k^{(i)}) \\&amp;改变粒子权重\ \omega_k^{(i)} = f_R(y_k - h(x^{-(i)}))\omega _{k-1}^{(i)} \qquad f_R = \frac{1}{\sqrt{2\pi \sigma}} e^{-\frac{x^2}{2\sigma ^2}} \\(6)&amp;归一化\ \eta = (\sum_{i = 1}^{n} \omega _k^{(i)})^{-1} \\(7)&amp;估计期望位置\ \hat{x}_k^{+} = E(x) = \int_{-\infty}^{+\infty} \sum _{i=1}^{n} \omega_k^{(i)} \delta(x - x_i) dx = \sum_{i=1}^{n} \omega_k^{(i)}x_i \\(8)&amp;方差\ D(X) = E(X^2) - [E(X)]^2 = \int_{-\infty}^{+\infty} x^2f(x)dx - \bigg(\int_{-\infty}^{+\infty} x^2f(x)dx\bigg)^2 = \sum _{i=1}^{n} [\omega_k^{(i)}x_i^2- (\hat{x}_k^{+})^2] \\&amp;更新步结束 \\&amp;\dots \dots\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:35.8894em;vertical-align:-17.6947em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.1947em;"><span style="top:-21.0524em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-19.3476em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-16.9658em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span></span></span><span style="top:-14.5913em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:-13.0913em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:-11.3865em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">4</span><span class="mclose">)</span></span></span><span style="top:-9.0751em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:-6.6574em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:-5.1574em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:-2.846em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">5</span><span class="mclose">)</span></span></span><span style="top:0.0531em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:2.9345em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">6</span><span class="mclose">)</span></span></span><span style="top:6.1636em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">7</span><span class="mclose">)</span></span></span><span style="top:9.3952em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">8</span><span class="mclose">)</span></span></span><span style="top:11.8129em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span><span style="top:13.3129em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.6947em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:18.1947em;"><span style="top:-21.0524em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">初值</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-19.3476em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">生成</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">个</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">样本</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-16.9658em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">生成</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">样本对应权重</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mspace"> </span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7218em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.2748em;"><span class="pstrut" style="height:3.0448em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7218em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="delimsizing size3">)</span></span></span></span><span style="top:-14.5913em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯⋯</span></span></span><span style="top:-13.0913em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">预测步开始</span></span></span><span style="top:-11.3865em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">生成</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">的样本</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">Q</span></span></span><span style="top:-9.0751em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">预测步的分布函数</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3596em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-6.6574em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">预测步结束</span></span></span><span style="top:-5.1574em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">观测到数据</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.846em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">更新步的分布函数</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3596em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:0.0531em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">改变粒子权重</span><span class="mspace"> </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">))</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3596em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">πσ</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2464em;"><span style="top:-3.4534em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1329em;"><span style="top:-2.5062em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384em;"><span style="top:-2.9384em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4938em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:2.9345em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">归一化</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span style="top:6.1636em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">估计期望位置</span><span class="mspace"> </span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:9.3952em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">方差</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="delimsizing size3">(</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5212em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord"><span class="delimsizing size3">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.654em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-2.4086em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2914em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span><span style="top:11.8129em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mord cjk_fallback">更新步结束</span></span></span><span style="top:13.3129em;"><span class="pstrut" style="height:3.7218em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">……</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:17.6947em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>生成高斯噪声信号：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>真实数据</mtext><mo>:</mo><mspace width="1em"><msub><mi>x</mi><mi>i</mi></msub></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mfrac><mrow><mn>5</mn><msub><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><mrow><msubsup><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow><mn>2</mn></msubsup><mo>+</mo><mn>1</mn></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>观测数据</mtext><mo>:</mo><mspace width="1em"><msub><mi>y</mi><mi>i</mi></msub></mspace></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>x</mi><mi>i</mi><mn>3</mn></msubsup><mo>+</mo><mi>R</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}真实数据:\quad x_i&amp;=\sin(x_{i-1})+\frac{5x_{i-1}}{x_{i-1}^2+1} \\观测数据:\quad y_i&amp;=x_i^3+R\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.1667em;vertical-align:-1.8334em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3334em;"><span style="top:-4.3334em;"><span class="pstrut" style="height:3.3214em;"></span><span class="mord"><span class="mord cjk_fallback">真实数据</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.1481em;"><span class="pstrut" style="height:3.3214em;"></span><span class="mord"><span class="mord cjk_fallback">观测数据</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8334em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3334em;"><span style="top:-4.3334em;"><span class="pstrut" style="height:3.3214em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3352em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0212em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.1481em;"><span class="pstrut" style="height:3.3214em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8334em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%生成100个信号</span></span><br><span class="line">t = <span class="number">0.01</span>:<span class="number">0.01</span>:<span class="number">1</span>;</span><br><span class="line">x = <span class="built_in">zeros</span>(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line">y = <span class="built_in">zeros</span>(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%初值</span></span><br><span class="line">x(<span class="number">1</span>) = <span class="number">0.1</span>;</span><br><span class="line">y(<span class="number">1</span>) = <span class="number">0.01</span>^<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">%生成真实数据与观测数据</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:<span class="number">100</span></span><br><span class="line"></span><br><span class="line">    x(<span class="built_in">i</span>) = <span class="built_in">sin</span>(x(<span class="built_in">i</span> - <span class="number">1</span>)) + <span class="number">5</span> * x(<span class="built_in">i</span> - <span class="number">1</span>) / (x(<span class="built_in">i</span> - <span class="number">1</span>)^<span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">    y(<span class="built_in">i</span>) = x(<span class="built_in">i</span>)^<span class="number">3</span> + normrnd(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%输出生成的信号</span></span><br><span class="line"><span class="built_in">plot</span>(t, x, t, y);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>,<span class="string">&#x27;观测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E9%AB%98%E6%96%AF%E5%99%AA%E5%A3%B0_%E7%B2%92%E5%AD%90%E6%BB%A4%E6%B3%A2-16585721589389.png" alt="高斯噪声_粒子滤波"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Xplus</span> = <span class="title">Particle_Filter</span><span class="params">(y, F, Q, H, R, n, Nth, Xplus_0)</span></span></span><br><span class="line"></span><br><span class="line">    L = <span class="built_in">length</span>(y);</span><br><span class="line"></span><br><span class="line">    <span class="comment">%设粒子集合</span></span><br><span class="line">    Xold = <span class="built_in">zeros</span>(<span class="number">1</span>, n); <span class="comment">%重采样前粒子</span></span><br><span class="line">    Xnew = <span class="built_in">zeros</span>(<span class="number">1</span>, n); <span class="comment">%重采样后粒子</span></span><br><span class="line">    Xplus = <span class="built_in">zeros</span>(<span class="number">1</span>, L); <span class="comment">%滤波值，即后验概率期望</span></span><br><span class="line">    w = <span class="built_in">zeros</span>(<span class="number">1</span>, n); <span class="comment">%粒子权重集合</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">%设置初值x0(i)</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        Xold(<span class="built_in">i</span>) = Xplus_0;</span><br><span class="line">        w(<span class="built_in">i</span>) = <span class="number">1</span> / n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:L</span><br><span class="line"></span><br><span class="line">        <span class="comment">%预测步，由x0推出x1</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">            Xold(<span class="built_in">j</span>) = F(Xold(<span class="built_in">j</span>)) + normrnd(<span class="number">0</span>, Q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">%更新步,更新粒子权重</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">            <span class="comment">%w(j) = (2 * pi * R)^(-0.5) * exp(- (y(i) - h(xold(j)))^2 / (2 * R));</span></span><br><span class="line">            <span class="comment">%归一化可以消去前面的系数</span></span><br><span class="line">            w(<span class="built_in">j</span>) = <span class="built_in">exp</span>(- (y(<span class="built_in">i</span>) - H(Xold(<span class="built_in">j</span>)))^<span class="number">2</span> / (<span class="number">2</span> * R));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">%归一化</span></span><br><span class="line">        w = w / sum(w);</span><br><span class="line"></span><br><span class="line">        <span class="comment">%重采样</span></span><br><span class="line">        Neff = <span class="number">1</span> / sum(w .* w);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> Neff &lt; Nth * n</span><br><span class="line"></span><br><span class="line">            c = <span class="built_in">zeros</span>(<span class="number">1</span>, n);</span><br><span class="line">            c(<span class="number">1</span>) = w(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">                <span class="comment">%设置区间</span></span><br><span class="line">                c(<span class="built_in">j</span>) = c(<span class="built_in">j</span> - <span class="number">1</span>) + w(<span class="built_in">j</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">%转盘子，生成随机数，落在哪个区间</span></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">                a = unifrnd(<span class="number">0</span>, <span class="number">1</span>); <span class="comment">%均匀分布</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> a &lt; c(k)</span><br><span class="line"></span><br><span class="line">                        Xnew(<span class="built_in">j</span>) = Xold(k);</span><br><span class="line">                        <span class="keyword">break</span>; <span class="comment">%找到区间之后，跳出</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">%把新的粒子赋给Xold</span></span><br><span class="line">            Xold = Xnew;</span><br><span class="line"></span><br><span class="line">            <span class="comment">%权重都设为1/n</span></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">                w(<span class="built_in">j</span>) = <span class="number">1</span> / n;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">%估计期望位置</span></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:n</span><br><span class="line">            Xplus(<span class="built_in">i</span>) = Xplus(<span class="built_in">i</span>) + Xold(<span class="built_in">j</span>) * w(<span class="built_in">j</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x) + <span class="number">5</span> * x / (x^<span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">&gt;&gt; H = @(x)x^<span class="number">3</span></span><br><span class="line">&gt;&gt; Q = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; R = <span class="number">1</span>;</span><br><span class="line">&gt;&gt; n = <span class="number">100</span>;</span><br><span class="line">&gt;&gt; Nth = <span class="number">0.5</span>;</span><br><span class="line">&gt;&gt; Xplus_0 = <span class="number">0.01</span>;</span><br><span class="line"></span><br><span class="line">&gt;&gt; Xplus = Particle_Filter(y, F, Q, H, R, n, Nth, Xplus_0);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, y, <span class="string">&#x27;g&#x27;</span>, t, Xplus, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;观测信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E7%B2%92%E5%AD%90%E6%BB%A4%E6%B3%A2%E5%99%A8.png" alt="粒子滤波器"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, x, <span class="string">&#x27;r&#x27;</span>, t, Xplus, <span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;真实信号&#x27;</span>, <span class="string">&#x27;预测信号&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/07/20/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/%E7%B2%92%E5%AD%90%E6%BB%A4%E6%B3%A2%E5%99%A8_%E6%94%BE%E5%A4%A7.png" alt="放大康康"></p></0<b>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
            <tag> 信号消噪 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单链表</title>
      <link href="/2022/07/19/%E5%8D%95%E9%93%BE%E8%A1%A8/"/>
      <url>/2022/07/19/%E5%8D%95%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1>带头节点的单链表</h1><h2 id="头文件">头文件</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br></pre></td></tr></table></figure><p>导入的是C++的头文件，原因只是单纯想用<code>cin</code>和<code>cout</code></p><h2 id="定义类型">定义类型</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">double</span> element;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="初始化">初始化</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* <span class="title function_">initlist</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">head</span>;</span></span><br><span class="line">head = (<span class="keyword">struct</span> <span class="built_in">list</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <span class="built_in">list</span>));</span><br><span class="line"><span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;error&quot;</span>;</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">head-&gt;element = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="输入数据">输入数据</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">creatlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> choice = <span class="number">1</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>, * <span class="title">last</span>;</span></span><br><span class="line">last = head;</span><br><span class="line"><span class="keyword">while</span> (last-&gt;next != <span class="literal">NULL</span>)<span class="comment">//找最后一个元素位置；</span></span><br><span class="line">&#123;</span><br><span class="line">last = last-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (choice == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">p = (<span class="built_in">list</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">list</span>));</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;error&quot;</span>;</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;元素：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; p-&gt;element;</span><br><span class="line">p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">last-&gt;next = p;</span><br><span class="line">last = p;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;continue?1-0&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; choice;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="判断空链表">判断空链表</h2><p>注：1-空0-非空</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">emptylist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> empty = <span class="number">1</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>;</span></span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">if</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">empty = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> empty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="输出链表">输出链表</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">outputlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (emptylist(head) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表为空&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p;</span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p-&gt;element;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="链表长度">链表长度</h2><p>注：无法输出空表为0</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">longlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> longlist = <span class="number">0</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>;</span></span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">longlist++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> longlist;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="查找元素">查找元素</h2><h3 id="根据值查找符合条件的第一个节点，并且返回该位置">根据值查找符合条件的第一个节点，并且返回该位置</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">findelement</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">double</span> a)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>;</span></span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="type">int</span> order = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;element == a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p-&gt;element &lt;&lt; <span class="string">&quot;exist in &quot;</span> &lt;&lt; order &lt;&lt; <span class="string">&quot;th&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">order++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (order &gt; longlist(head))</span><br><span class="line">&#123;</span><br><span class="line">order = <span class="number">-9999</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在值为&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;的节点&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> order;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="根据位置查找元素，返回元素值">根据位置查找元素，返回元素值</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="title function_">findxelement</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">int</span> order)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>;</span></span><br><span class="line"><span class="keyword">if</span> (order &lt; <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在非正序号的元素，输出：-9999&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-9999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (order &gt; longlist(head))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在序号为&quot;</span> &lt;&lt; order &lt;&lt; <span class="string">&quot;的元素，输出：-9999&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-9999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p;</span><br><span class="line"><span class="type">int</span> mark = <span class="number">0</span>;</span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span> (mark != order)</span><br><span class="line">&#123;</span><br><span class="line">mark++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> p-&gt;element;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="查找最大的元素位置">查找最大的元素位置</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">findbig</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (emptylist(head) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;空链表无最大元素&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p, * q;</span><br><span class="line"><span class="type">int</span> mark = <span class="number">1</span>, flag = <span class="number">1</span>;</span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="type">double</span> big = p-&gt;element;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">flag++;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;element &gt; big)</span><br><span class="line">&#123;</span><br><span class="line">big = p-&gt;element;</span><br><span class="line">mark = flag;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> mark;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="删除元素">删除元素</h2><h3 id="删除符合条件的第一个节点">删除符合条件的第一个节点</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">deleteelement</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">double</span> a)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>, * <span class="title">q</span>;</span></span><br><span class="line">p = head;</span><br><span class="line"><span class="type">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;next-&gt;element == a)</span><br><span class="line">&#123;</span><br><span class="line">q = p-&gt;next;</span><br><span class="line">p-&gt;next = q-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(q);</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag == <span class="number">1</span>)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;被删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;无法找到&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;无法删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="删除第几个节点">删除第几个节点</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">deletethelement</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">int</span> order)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (order &lt; <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在序号小于1的节点&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (order &gt; longlist(head))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在序号超过&quot;</span> &lt;&lt; longlist(head) &lt;&lt; <span class="string">&quot;的节点&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p, * q;</span><br><span class="line">p = head;</span><br><span class="line"><span class="type">int</span> mark = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (mark == order - <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">q = p-&gt;next;</span><br><span class="line">p-&gt;next = q-&gt;next;</span><br><span class="line"><span class="built_in">free</span>(q);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">mark++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="插入元素">插入元素</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">insertlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">int</span> order, <span class="type">double</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (order &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在负序号的元素&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (order &gt; longlist(head))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在序号为&quot;</span> &lt;&lt; order &lt;&lt; <span class="string">&quot;的元素&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p, * q;</span><br><span class="line">q = (<span class="built_in">list</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">list</span>));</span><br><span class="line"><span class="keyword">if</span> (q == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;error&quot;</span>;</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line">q-&gt;element = data;</span><br><span class="line"><span class="type">int</span> mark = <span class="number">0</span>;</span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span> (mark != order)</span><br><span class="line">&#123;</span><br><span class="line">mark++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">q-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = q;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="交换两个元素的位置">交换两个元素的位置</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">swapelememt</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head, <span class="type">int</span> order1, <span class="type">int</span> order2)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> l;</span><br><span class="line">l = longlist(head);</span><br><span class="line"><span class="keyword">if</span> (order1 &lt; <span class="number">1</span> or order2 &lt; <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在非正序号的元素，输出：-9999&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (order1 &gt; l or order2 &gt; l)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;不存在序号超过&quot;</span> &lt;&lt; l &lt;&lt; <span class="string">&quot;的元素，输出：-9999&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> min = order2, max = order1, mark = <span class="number">0</span>;</span><br><span class="line"><span class="type">double</span> t;</span><br><span class="line"><span class="keyword">if</span> (order1 &lt; order2)</span><br><span class="line">&#123;</span><br><span class="line">min = order1;</span><br><span class="line">max = order2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>, * <span class="title">q</span>;</span></span><br><span class="line">q = head;</span><br><span class="line"><span class="keyword">while</span> (mark != min)</span><br><span class="line">&#123;</span><br><span class="line">mark++;</span><br><span class="line">q = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">p = q;</span><br><span class="line"><span class="keyword">while</span> (mark != max)</span><br><span class="line">&#123;</span><br><span class="line">mark++;</span><br><span class="line">q = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">t = p-&gt;element;</span><br><span class="line">p-&gt;element = q-&gt;element;</span><br><span class="line">q-&gt;element = t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="判断链表是否递减">判断链表是否递减</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">decreaselist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="type">double</span> t;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>;</span></span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p-&gt;next != <span class="literal">NULL</span> &amp;&amp; p-&gt;element &lt; p-&gt;next-&gt;element)</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="从大到小排序">从大到小排序</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sortlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (decreaselist(head) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表为递减链表&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* p;</span><br><span class="line">p = initlist();</span><br><span class="line"><span class="type">int</span> order = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> flag;</span><br><span class="line"><span class="keyword">while</span> (emptylist(head) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">flag = findbig(head);</span><br><span class="line">insertlist(p, order, findxelement(head, flag));</span><br><span class="line">order++;</span><br><span class="line">deletethelement(head, flag);</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">clearlist(p);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="逆置链表">逆置链表</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">converselist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>, * <span class="title">q</span>;</span></span><br><span class="line">q = initlist();</span><br><span class="line">p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">head-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = q-&gt;next;</span><br><span class="line">q-&gt;next = p;</span><br><span class="line">p = head-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;next = q-&gt;next;</span><br><span class="line">q-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">free</span>(q);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="合并两个递减链表">合并两个递减链表</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="built_in">list</span>* <span class="title function_">mergelist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* La, <span class="keyword">struct</span> <span class="built_in">list</span>* Lb)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (decreaselist(La) == <span class="number">0</span> || decreaselist(La) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">sortlist(La);</span><br><span class="line">sortlist(Lb);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">p</span>, * <span class="title">q</span>, * <span class="title">t</span>;</span></span><br><span class="line">p = La;</span><br><span class="line">q = Lb-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (q != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (q-&gt;element &lt; p-&gt;next-&gt;element &amp;&amp; p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">t = q;</span><br><span class="line">q = q-&gt;next;</span><br><span class="line">t-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = t;</span><br><span class="line">&#125;</span><br><span class="line">Lb-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">clearlist(Lb);</span><br><span class="line"><span class="keyword">return</span> La;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="清空列表">清空列表</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">clearlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">q</span>, * <span class="title">p</span>;</span></span><br><span class="line">q = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (q != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">p = q;</span><br><span class="line">q = q-&gt;next;</span><br><span class="line">p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;clear&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="链表功能">链表功能</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">functionlist</span><span class="params">(<span class="keyword">struct</span> <span class="built_in">list</span>* head)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> choice = <span class="number">1</span>;</span><br><span class="line"><span class="type">double</span> data;</span><br><span class="line"><span class="type">int</span> order, order1;</span><br><span class="line"><span class="keyword">while</span> (choice != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表为：&quot;</span>;</span><br><span class="line">outputlist(head);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">&quot;输入想实现的功能：&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;0 - 退出&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;1 - 输出链表的长度&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;2 - 查找链表元素的位置&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;3 - 删除链表元素&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;4 - 删除链表第几个节点&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;5 - 链表第n个节点后插入数据&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;6 - 链表第n个节点后查找元素&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;7 - 交换链表第n个节点与第m个节点的位置&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;8 - 寻找链表最大的元素的位置&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;9 - 链表从小到大排序&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;10 - 链表逆置&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;11 - 合并两个递减链表&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;选择：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; choice;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表的长度为：&quot;</span> &lt;&lt; longlist(head) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;查找的值为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; data;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; data &lt;&lt; <span class="string">&quot;的位置：&quot;</span> &lt;&lt; findelement(head, data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;删除的值为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; data;</span><br><span class="line">deleteelement(head, data);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;元素已删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;删除的位置为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; order;</span><br><span class="line">deletethelement(head, order);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;元素已删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">5</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;插入的位置为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; order;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;插入的元素为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; data;</span><br><span class="line">insertlist(head, order, data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">6</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;查找的位置为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; order;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表第&quot;</span> &lt;&lt; order &lt;&lt; <span class="string">&quot;个的值为&quot;</span> &lt;&lt; findxelement(head, order);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">7</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;交换节点的位置为：&quot;</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; order;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; order1;</span><br><span class="line">swapelememt(head, order, order1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">8</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;最大元素的位置为：&quot;</span> &lt;&lt; findbig(head) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">9</span>)</span><br><span class="line">&#123;</span><br><span class="line">sortlist(head);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表已排序&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">10</span>)</span><br><span class="line">&#123;</span><br><span class="line">converselist(head);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表已逆置&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">11</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;创建需要合并的链表&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">L</span>;</span></span><br><span class="line">L = initlist();</span><br><span class="line">creatlist(L);</span><br><span class="line">head = mergelist(head, L);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;链表已合并&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;重新输入&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="main函数">main函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">list</span>* <span class="title">head</span>;</span></span><br><span class="line">head = initlist();</span><br><span class="line">creatlist(head);</span><br><span class="line">functionlist(head);</span><br><span class="line"></span><br><span class="line">system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端学习</title>
      <link href="/2022/07/03/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/07/03/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1>HTML</h1><h2 id="html基本结构">html基本结构</h2><ul class="lvl-0"><li class="lvl-2"><p>后缀：.html</p></li><li class="lvl-2"><p>html：制作网页的语言</p></li><li class="lvl-2"><p>浏览器：编译html语言</p></li><li class="lvl-2"><p>标记：由特定字符进行分割</p></li><li class="lvl-2"><p>语法：&lt;特殊字符&gt;，成对出现</p></li></ul><h3 id="基本语法">基本语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        网页的主体</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一对标签之间的内容是文本内容</p><h3 id="属性">属性</h3><p>标签内部&lt;标签名 属性名=“值”&gt;</p><h3 id="注释">注释</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注释内容--&gt;</span></span><br></pre></td></tr></table></figure><h2 id="基本标签">基本标签</h2><h3 id="标题标签">标题标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    一级标签</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span></span><br><span class="line">    ...一直到</span><br><span class="line"><span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>align</td><td>对齐方式</td><td>left|right|center</td></tr></tbody></table><h3 id="font标签">font标签</h3><p>设置字体大小，颜色，类型</p><table><thead><tr><th>属性</th><th>值</th><th>值</th></tr></thead><tbody><tr><td>size</td><td>大小</td><td>1-7（默认为3）</td></tr><tr><td>color</td><td>颜色</td><td>rgb(100,100,100)|单词 |16进制</td></tr><tr><td>face</td><td>类型</td><td>“宋体”</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">&quot;&quot;</span> <span class="attr">color</span>=<span class="string">&quot;&quot;</span> <span class="attr">face</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="段落标签">段落标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    段落内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="块状标签">块状标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&lt;div&gt; 是一个块级元素,可定义文档中的分区或节,可以把文档分割为独立的、不同的部分。</p><h3 id="换行符">换行符</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="水平分割线">水平分割线</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">size</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;&quot;</span> <span class="attr">color</span>=<span class="string">&quot;&quot;</span> <span class="attr">align</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>值</th><th>值</th></tr></thead><tbody><tr><td>size</td><td>厚度</td><td>1-7（默认为3）</td></tr><tr><td>width</td><td>宽度</td><td>值|百分比</td></tr><tr><td>color</td><td>颜色</td><td>rgb(100,100,100) 或单词 或16进制</td></tr><tr><td>align</td><td>对齐方式</td><td>left|right|center</td></tr></tbody></table><h3 id="格式化标签">格式化标签</h3><p>加粗</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>文字内容<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>文字内容<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下划线</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>文字内容<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br></pre></td></tr></table></figure><p>斜体</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>文字内容<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下标</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span>底<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>下标</span><br></pre></td></tr></table></figure><p>上标</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span>底<span class="tag">&lt;/<span class="name">sup</span>&gt;</span>上标</span><br></pre></td></tr></table></figure><h3 id="特殊字符">特殊字符</h3><p>空格</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;nbsp;</span></span><br></pre></td></tr></table></figure><p>大于</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;gt;</span></span><br></pre></td></tr></table></figure><p>小于</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;lt;</span></span><br></pre></td></tr></table></figure><p>引号</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;quot;</span></span><br></pre></td></tr></table></figure><p>版权号</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;copy;</span></span><br></pre></td></tr></table></figure><p>注册商标</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;reg;</span></span><br></pre></td></tr></table></figure><h2 id="图片">图片</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>src</td><td>图片路径</td><td>绝对路径|相对路径</td></tr><tr><td>width</td><td>宽度</td><td></td></tr><tr><td>height</td><td>高度</td><td></td></tr><tr><td>title</td><td>无法加载时的提示性文字</td><td></td></tr><tr><td>alt</td><td>提示文字</td><td></td></tr><tr><td>align</td><td>图片中文字对齐方式</td><td>top|middle|left|right</td></tr></tbody></table><h2 id="列表标签">列表标签</h2><h3 id="有序列表">有序列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>type</td><td>标签类型</td><td>i|A|a</td></tr><tr><td>start</td><td>标记的起始位置</td><td></td></tr></tbody></table><h3 id="无序列表">无序列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项的内容<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>type</td><td>标头</td><td>circle|disc|square</td></tr></tbody></table><h3 id="描述标签">描述标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>描述1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>描述2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>描述1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>描述2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="超链接">超链接</h2><p>普通超链接</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>假象链接</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>功能性链接</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto: xxx@xx.com&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>锚记链接</p><p>1.命名锚记点</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">&quot;锚记名称&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.链接锚记点</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;[页面地址]#锚记名称&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>href</td><td>链接地址</td><td></td></tr><tr><td>target</td><td>打开页面的目标位置</td><td>_slef|_blank|_new|_top|_parent</td></tr></tbody></table><h2 id="跑马灯标签">跑马灯标签</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">&quot;&quot;</span> &gt;</span>滚动内容<span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>值</th><th>值</th></tr></thead><tbody><tr><td>height</td><td>高度</td><td></td></tr><tr><td>width</td><td>宽度</td><td></td></tr><tr><td>bgcolor</td><td>背景颜色</td><td></td></tr><tr><td>direction</td><td>滚动方向</td><td>left(默认)|right|down|up</td></tr><tr><td>behavior</td><td>滚动方式</td><td>scroll(默认)|slide|alternate</td></tr><tr><td>scrollamount</td><td>滚动速度</td><td>6(默认)</td></tr><tr><td>scrolldelay</td><td>延迟时间</td><td>90(ms)(默认)</td></tr></tbody></table><h2 id="表格">表格</h2><h3 id="表格的基本语法">表格的基本语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">height</span>=<span class="string">&quot;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;&quot;</span> <span class="attr">border</span>=<span class="string">&quot;&quot;</span> <span class="attr">align</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>表格标题信息<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span>一行<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>标题行内容<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>标题行内容<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">align</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>height</td><td>高度</td><td></td></tr><tr><td>width</td><td>宽度</td><td></td></tr><tr><td>border</td><td>边框</td><td></td></tr><tr><td>bordercolor</td><td>边框颜色</td><td></td></tr><tr><td>bgcolor</td><td>背景颜色</td><td></td></tr><tr><td>background</td><td>背景图片</td><td>图片地址(默认平铺)</td></tr><tr><td>style</td><td>样式</td><td></td></tr><tr><td>align</td><td>对齐方式</td><td>left|right|center</td></tr></tbody></table><p>标题行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span>标题行内容<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br></pre></td></tr></table></figure><p>标题的标题</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">caption</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="表格的合并">表格的合并</h3><p>横向合并</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;(跨行数)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure><p>纵向合并</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;(跨列数)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="表格的间距和边距">表格的间距和边距</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">cellspacing</span>=<span class="string">&quot;&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>cellspacing</td><td>间距：单元格和单元格之间的距离</td></tr><tr><td>cellpadding</td><td>边距：单元格内容和单元格边框之间的距离</td></tr></tbody></table><h2 id="表单">表单</h2><h3 id="表单的基础语法">表单的基础语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>action</td><td>发送地址</td><td></td></tr><tr><td>method</td><td>发送方式</td><td>get|post</td></tr></tbody></table><h3 id="表单元素">表单元素</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">属性</th><th style="text-align:center">描述</th><th>适用范围</th></tr></thead><tbody><tr><td style="text-align:center">name</td><td style="text-align:center">表单元素的名称</td><td></td></tr><tr><td style="text-align:center">value</td><td style="text-align:center">表单的初试值</td><td></td></tr><tr><td style="text-align:center">size</td><td style="text-align:center">表单元素的宽度</td><td>只适用于text、password</td></tr><tr><td style="text-align:center">maxlength</td><td style="text-align:center">最大字符数</td><td>只适用于text、password</td></tr><tr><td style="text-align:center">checked</td><td style="text-align:center">默认被选中</td><td>只适用于radio、checkbox</td></tr><tr><td style="text-align:center">src</td><td style="text-align:center">图片地址</td><td>只适用于image</td></tr></tbody></table><p>文本框<code>type=&quot;text&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">size</span>=<span class="string">&quot;&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>密码框<code>type=&quot;password&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">size</span>=<span class="string">&quot;&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>单选按钮<code>type=&quot;radio&quot;</code>及<code>name=&quot;Sex&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Sex&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>复选框</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>文件域</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>普通按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮名称&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>重置按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮名称&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提交按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮名称&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提交按钮</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;图片地址&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="下拉列表框">下拉列表框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>select属性</th><th>描述</th></tr></thead><tbody><tr><td>size</td><td>呈现多少项</td></tr></tbody></table><table><thead><tr><th>option属性</th><th>描述</th><th>例如</th></tr></thead><tbody><tr><td>selected</td><td>表示被预选中</td><td>selected=“selected”</td></tr><tr><td>value</td><td>表示option的真实值</td><td></td></tr></tbody></table><h3 id="文本域或多行文本框">文本域或多行文本框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">&quot;&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="高级属性">高级属性</h3><table><thead><tr><th>属性</th><th></th></tr></thead><tbody><tr><td>禁用控件</td><td>disabled=“disabled”</td></tr><tr><td>只读文本</td><td>readonly=”readonly”</td></tr></tbody></table><h2 id="框架集和内嵌框架">框架集和内嵌框架</h2><h3 id="框架集">框架集</h3><p><mark>删掉body</mark></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">”引用页面”</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">”页面地址”</span>&gt;</span><span class="tag">&lt;/<span class="name">frame</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th>frameset属性</th><th>值</th></tr></thead><tbody><tr><td>框架集中列的数目和尺寸：cols</td><td>pixels(像素)|%(百分数) |*</td></tr><tr><td>框架集中行的数目和尺寸：rows</td><td></td></tr></tbody></table><table><thead><tr><th>frame属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>frameborder</td><td>是否显示框架周围的边框</td><td>0|1</td></tr><tr><td>longdesc</td><td>包含有关框架内容的长描述的页面</td><td>URL</td></tr><tr><td>marginheight</td><td>上方和下方的边距</td><td>pixels</td></tr><tr><td>marginwidth</td><td>左侧和右侧的边距</td><td>pixels</td></tr><tr><td>name</td><td>框架的名称</td><td>name</td></tr><tr><td>noresize</td><td>规定无法调整框架的大小</td><td>noresize</td></tr><tr><td>scrolling</td><td>显示滚动条</td><td>yes|no|auto</td></tr><tr><td>src</td><td>显示的文档的 URL</td><td>URL</td></tr></tbody></table><h3 id="内嵌框架">内嵌框架</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span>  <span class="attr">src</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>描述</th><th>值</th></tr></thead><tbody><tr><td>src</td><td>显示文档的URL</td><td></td></tr><tr><td>width</td><td>宽度</td><td></td></tr><tr><td>height</td><td>高度</td><td></td></tr><tr><td>align</td><td>对齐</td><td>left|right|top|middle|bottom</td></tr><tr><td>frameborder</td><td>规定是否显示周围边框</td><td></td></tr><tr><td>name</td><td>框架名称</td><td></td></tr><tr><td>scrolling</td><td>是否在 iframe 中显示滚动条</td><td></td></tr></tbody></table><h2 id="样式表">样式表</h2><p>级联样式表CSS(Cascading Style Sheet)</p><p>基本语法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">”text/css”</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p><mark>Style标签写在head标签中</mark></p><h3 id="选择器">选择器</h3><h4 id="标签选择器">标签选择器</h4><p><code>标签名</code>{<code>样式属性</code>:值;}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> &gt;</span>文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="类选择器">类选择器</h4><p><code>.类名</code>{<code>样式属性</code>: 值;}</p><ol><li class="lvl-3"><p>在需要同时进行描述的标签中添加属性<code>class=&quot;类名&quot;</code></p></li><li class="lvl-3"><p>在style表中用<code> .类名</code>的方式来选中这些对象</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.c2</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>显示类c1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> &gt;</span>文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1 c2&quot;</span>&gt;</span>显示类c1与c2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ID选择器">ID选择器</h4><p><code>#id名</code>{<code>样式属性</code>: 值;}</p><ol><li class="lvl-3"><p>在需要独立样式描述的标签中添加属性<code>id=&quot;id名&quot;</code></p></li><li class="lvl-3"><p>在style标签中添加<code>#id名</code></p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-id">#d1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span>&gt;</span>文字<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;d1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>显示ID选择器d1属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><mark>ID选择器&gt;类选择器&gt;标签选择器</mark></p><h4 id="后代选择器">后代选择器</h4><p><code>上一级选择器</code>  <code>下一级选择器</code>{<code>样式属性</code>: 值；}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.div1</span> <span class="selector-class">.h</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>只包含在上一级选择器中的下一级选择器才能应用此样式上</strong>，下级选择器可以是<code>标签</code>，<code>类</code>，<code>id</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;h&quot;</span>&gt;</span>下级选择器<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;h&quot;</span>&gt;</span>下级选择器<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="交集选择器">交集选择器</h4><p><code>标签选择器</code> <code>类选择器</code>|<code>ID选择器</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">p</span><span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>满足交集条件，可以显示<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>不可以显示<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>不满足交集条件，不可以显示<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="并集选择器">并集选择器</h4><p><code>选择器1``,``选择器2``,``选择器3</code>…{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">h2</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">h2</span>,<span class="selector-class">.c1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>选择器可以是任意<code>标签</code>，<code>class</code>，<code>ID</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>显示类c1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>显示标签选择器与类选择器中的颜色<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="子选择器">子选择器</h4><p><code>上级选择器``&gt;``下级选择器</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#div2</span>&gt;<span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>选择所有位于上级选择器下满足下级选择器的直接子元素</p><h4 id="层次选择器-兄弟选择器">层次选择器(兄弟选择器)</h4><p><code>选择器1``+``选择器2</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#div2</span>+<span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>选择位于选择器1后的<strong>第一个</strong>选择器2</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>显示id的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>显示id的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>不显示id的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>显示id的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>不显示id的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="属性选择器">属性选择器</h4><ul class="lvl-0"><li class="lvl-2"><p>有当前属性就满足：</p></li></ul><p><code>标签名``[属性名]</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><ul class="lvl-0"><li class="lvl-2"><p>有当前属性和值就满足：</p></li></ul><p><code>标签名``[属性名=值]</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><ul class="lvl-0"><li class="lvl-2"><p>有所有属性就满足：</p></li></ul><p><code>标签名``[属性名1][属性名2]</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">p</span><span class="selector-attr">[class=c1]</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>显示c1的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;c2&quot;</span>&gt;</span>不显示c1的属性<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="伪选择器">伪选择器</h4><table><thead><tr><th>标签的状态</th><th></th></tr></thead><tbody><tr><td>link</td><td>没有被访问时的样式</td></tr><tr><td>hover</td><td>鼠标悬停时的样式</td></tr><tr><td>active</td><td>点击但并没有释放鼠标时</td></tr><tr><td>visited</td><td>访问过后的状态</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: darkblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: pink;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-id">#div2</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>四种状态同时设置必须按顺序：<code>a:link</code>  <code>a:visited</code>  <code>a:hover</code>  <code>a:active</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>超链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span></span><br><span class="line">显示div2的属性</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="样式表类型">样式表类型</h3><h4 id="行内样式">行内样式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">”color:red;”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>优点：优先级高</p><p>缺点：没有个内容分离，不利于扩展和复用</p><h4 id="内部样式">内部样式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#div1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: blue ;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>优点：和内容分离</p><p>缺点：不能复用</p><h4 id="外部样式">外部样式</h4><p>单独写一个<code>.css</code>文件，在页面引用(通用性高)</p><p><code>选择器</code>{</p><p>​<code>样式属性</code>: 值；</p><p>}</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div1</span>&#123;</span><br><span class="line"><span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css文件地址&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>优点：分离和复用</p><p><code>行内样式</code>&gt;<code>ID选择器</code>&gt;<code>类选择器</code>&gt;<code>标签选择器</code>|<code>伪类选择器</code></p><p><code>行内样式</code>&gt;<code>内部样式</code>|<code>外部样式</code><mark>近水楼台先得月</mark></p><h4 id="优先级计算规则">优先级计算规则</h4><p><code>千位</code>：如果声明在style属性中该列加1分，否则为0</p><p><code>百位</code>：在整个选择器中每包含一个ID选择器就在该列中加1分</p><p><code>十位</code>：在整个选择器中每包含一个类选择器，属性选择器，伪类选择器就在该列上加1分</p><p><code>个位</code>：在整个选择器中每包含一个标签选择器或伪元素就在该列上加1分</p><table><thead><tr><th>选择器例子</th><th>千位</th><th>百位</th><th>十位</th><th>个位</th><th>合计值</th></tr></thead><tbody><tr><td>h1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0001</td></tr><tr><td>#indentifier</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0100</td></tr><tr><td>h1+p::first-letter</td><td>0</td><td>0</td><td>0</td><td>3</td><td>0003</td></tr><tr><td>li&gt;a[href*=zh-cn]&gt; .inliner-waring</td><td>0</td><td>0</td><td>2</td><td>2</td><td>0022</td></tr><tr><td>没有选择器，规则在一个元素的style属性里 1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1000</td></tr></tbody></table><h3 id="字体样式">字体样式</h3><table><thead><tr><th>属性名</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>font-family</td><td>设置字体类型</td><td>font-family:“隶书”;</td></tr><tr><td>font-size</td><td>设置字体大小</td><td>font-size:12px;</td></tr><tr><td>font-style</td><td>设置字体风格</td><td>font-style:italic;</td></tr><tr><td>font-weight</td><td>设置字体的粗细</td><td>font-weight:bold;</td></tr></tbody></table><p>字体组合样式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font</span>:italic bold <span class="number">36px</span> <span class="string">&quot;宋体&quot;</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>组合顺序</strong>：<code>font-style</code> <code>font-weight</code> <code>font-size</code> <code>font-family</code></p><h3 id="文本样式">文本样式</h3><table><thead><tr><th>属性名</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>color</td><td>设置文本颜色</td><td>color:#00C;</td></tr><tr><td>text-align</td><td>设置元素水平对齐方式</td><td>text-align:right;</td></tr><tr><td>text-indent</td><td>设置首行文本的缩进</td><td>text-indent:20px;</td></tr><tr><td>line-height</td><td>设置文本的行高</td><td>line-height:25px;</td></tr><tr><td>text-decoration</td><td>设置文本的装饰</td><td>text-decoration:underline;</td></tr><tr><td>letter-spacing</td><td>设置字体间距</td><td>letter-spacing: length;</td></tr></tbody></table><h3 id="背景样式">背景样式</h3><table><thead><tr><th>属性名</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>background-color</td><td>背景颜色</td><td>background-color: 颜色;</td></tr><tr><td>background-image</td><td>背景图片</td><td>background-image: url(图片地址);</td></tr><tr><td>background-repeat</td><td>背景是否重复</td><td>background-repeat: no-repeat|repert-x|repert-y;</td></tr><tr><td>background-position</td><td>背景图片的位置</td><td>background-position: px|百分比|关键字;</td></tr></tbody></table><p>注意：background-position</p><p>第一个值表示水平方向移动，正数向右，负数向左</p><p>第二个值表示垂直方向移动，正数向下，负数向上</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#div1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">img/1.jpg</span>);</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css"><span class="comment">/*background-position: right bottom;*/</span></span></span><br><span class="line"><span class="language-css"><span class="comment">/*第一个值表示水平方向移动，正数向右，负数向左</span></span></span><br><span class="line"><span class="comment"><span class="language-css">* 第二个值表示垂直方向移动，正数向下，负数向上</span></span></span><br><span class="line"><span class="comment"><span class="language-css">*/</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">background-position</span>: <span class="number">20px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>背景组合样式：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#div1</span>&#123;</span></span><br><span class="line"><span class="language-css">        Backgroud:color image repeat position</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>组合顺序</strong>：<code>background-color</code> <code>background-image</code> <code>background-repeat</code> <code>background-position</code></p><h3 id="列表样式">列表样式</h3><table><thead><tr><th>list-style-type值</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>无标记符号</td></tr><tr><td>disc</td><td>实心圆</td></tr><tr><td>circle</td><td>空心圆</td></tr><tr><td>square</td><td>实心正方形</td></tr><tr><td>decimal</td><td>数字</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">ul</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="comment">/*list-style-type: none;*/</span></span></span><br><span class="line"><span class="language-css"><span class="comment">/*list-style-image: url(img/Female.gif);*/</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">13px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css"><span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*横向表格*/</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="盒子模型">盒子模型</h2><p>HTML页面中的元素看做是一个矩形盒子</p><h3 id="边框">边框</h3><table><thead><tr><th>属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>border-color</td><td>边框颜色</td><td>rgb|#000|red</td></tr><tr><td>border-width</td><td>边框宽度</td><td>px</td></tr><tr><td>border-style</td><td>边框样式</td><td>(默认)none|solid|dashed|dotted</td></tr><tr><td>border</td><td>组合属性</td><td>顺序：<code>width ``style ``color</code></td></tr><tr><td>border-top-color</td><td>上边框颜色</td><td>border-top-color: #369;</td></tr><tr><td>border-right-color</td><td>右边框颜色</td><td>border-right-color: #369;</td></tr><tr><td>border-bottom-color</td><td>下边框颜色</td><td>border-bottom-color: #fae45b;</td></tr><tr><td>border-left-color</td><td>左边框颜色</td><td>border-left-color: #efcd56;</td></tr><tr><td>border-left</td><td>左边框组合属性</td><td>顺序：<code>width ``style ``color</code></td></tr><tr><td>border-right</td><td>右边框组合属性</td><td>顺序：<code>width ``style ``color</code></td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">10px</span> solid blue;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="内边距">内边距</h3><table><thead><tr><th>属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>Padding-left</td><td>左内边距</td><td>px</td></tr><tr><td>Padding-top</td><td>上内边距</td><td>px</td></tr><tr><td>Padding-right</td><td>右内边距</td><td>px</td></tr><tr><td>Padding-bottom</td><td>下内边距</td><td>px</td></tr><tr><td>Padding</td><td>四边同时设置</td><td>四边边距相同<code>px</code>|上下 左右<code>px px</code>|上 左右 下<code>px px px</code>|上 右 下 左<code>px px px px</code></td></tr></tbody></table><h3 id="外边距">外边距</h3><p>设置盒子的外边距，在元素边框外创建“空白”，通常这块空白不能放置其他内容</p><table><thead><tr><th>属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>margin-top</td><td>上外边距</td><td>px</td></tr><tr><td>margin-left</td><td>左外边距</td><td>px</td></tr><tr><td>margin-bottom</td><td>下外边距</td><td>px</td></tr><tr><td>margin-right</td><td>右外边距</td><td>px</td></tr><tr><td>margin</td><td>四边同时设置</td><td>四边边距相同<code>px</code>|上下 左右<code>px px</code>|上 左右 下<code>px px px</code>|上 右 下 左<code>px px px px</code></td></tr></tbody></table><p>在水平方向居中：<code>margin: auto</code></p><p><strong>实际占位</strong>：元素宽度+两边padding+border+margin</p><p>上下外边距取较大值(塌陷)，左右外边距取和</p><h3 id="显示与隐藏">显示与隐藏</h3><table><thead><tr><th>display属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>display: block</td><td>块级盒子</td><td>将元素转换为块级元素，可以设置高度和宽度</td></tr><tr><td>display: inline</td><td>行内盒子</td><td>将元素转换为行级元素，行内盒子不能设置高度和宽度</td></tr><tr><td>display: inline-block</td><td>行内块盒子</td><td>将元素以块级元素形式表现，支持设置宽度和高度</td></tr><tr><td>display: none</td><td>隐藏</td><td>不保留物理空间</td></tr></tbody></table><p>隐藏：<code>visibility: hidden;</code>保留物理空间</p><h2 id="浮动布局">浮动布局</h2><table><thead><tr><th>属性名</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>float</td><td>元素的浮动</td><td>left|right</td></tr><tr><td>clear</td><td>清除浮动的影响</td><td>left|right|both</td></tr></tbody></table><p>如果父元素中所有的元素都浮动，那么父元素的高度会没有</p><p>保持父元素高度：</p><ul class="lvl-0"><li class="lvl-2"><p>添加一个空元素，给空元素加clear</p></li><li class="lvl-2"><p>使用overflow属性，特征是只要加上该属性后会自动给div固定高度</p></li></ul><table><thead><tr><th>overflow属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>hidden</td><td>隐藏溢出元素</td><td>overflow: hidden</td></tr><tr><td>scroll</td><td>使用滚动条</td><td>overflow: scroll</td></tr><tr><td>visible</td><td>全部显示</td><td>overflow: visible</td></tr><tr><td>auto</td><td>自适应</td><td>overflow: auto</td></tr></tbody></table><ul class="lvl-0"><li class="lvl-2"><p>加入伪元素</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css"><span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clearfix&quot;</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="页面布局">页面布局</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">#container&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line">#header&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line">#main&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line">#left&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line">#right&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line">#footer&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="定位属性">定位属性</h2><p>position允许我们将一个元素从它在页面的原始位置准确的移动到另一个位置</p><table><thead><tr><th>定位方式</th><th></th></tr></thead><tbody><tr><td>静态定位(static)</td><td>每个元素的默认属性</td></tr><tr><td>相对定位(relative)</td><td>允许元素相对于它原来的位置进行偏移</td></tr><tr><td>绝对定位(absolute)</td><td><mark>将元素完全从页面的标准布局中移出</mark>，默认按照网页边缘进行定位，也可以按照被定位过的祖先元素进行定位</td></tr><tr><td>固定定位(fixed)</td><td>和绝对定位非常相似，将元素完全从页面的标准布局中移出，始终按照浏览器边缘进行定位</td></tr></tbody></table><table><thead><tr><th>属性名</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>position: relative</td><td>相对定位</td><td>相对于自身位置偏移</td></tr><tr><td>position: absolute</td><td>绝对定位</td><td>相对于定位的父级进行移动</td></tr><tr><td>position: fixed</td><td>固定定位</td><td>相对于浏览器窗口进行定位</td></tr></tbody></table><table><thead><tr><th>相关属性</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>left</td><td>距离左边的距离</td><td>px</td></tr><tr><td>right</td><td>距离右边的距离</td><td></td></tr><tr><td>top</td><td>距离上面的距离</td><td></td></tr><tr><td>bottom</td><td>距离下面的距离</td><td></td></tr><tr><td>z-index</td><td>垂直方向的先后顺序，值越大越靠前</td><td>int</td></tr></tbody></table><p>注意：</p><p>扩展居中用法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#div</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: pink;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css"><span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css"><span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果四个值都设为0，<code>margin: auto</code>，元素在正中间，如果元素没有设置大小，就平铺。</p><h2 id="CSS3相关属性">CSS3相关属性</h2><h3 id="文本属性">文本属性</h3><table><thead><tr><th>属性名</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>text-shadow</td><td>文字阴影</td><td>text-shadow: 5px -5px 5px red</td></tr><tr><td>word-wrap</td><td>单词换行</td><td>word-wrap: break-word</td></tr></tbody></table><h3 id="背景样式-2">背景样式</h3><table><thead><tr><th>属性名</th><th>示例</th><th>描述</th></tr></thead><tbody><tr><td>background-size</td><td>background-size: 100% 100%;</td><td>将背景图片按照尺寸进行设定大小，第一个值表示宽度，第二个值表示高度，如果只写一个值，代表宽度，高度自动</td></tr></tbody></table><p><code>background-size: cover</code>：等比例缩放，最小占满</p><p><code>background-size: contain</code>：等比例缩放，最大占满</p><h3 id="边框属性">边框属性</h3><table><thead><tr><th>属性名</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>border-radius</td><td>圆角弧度</td><td>border-radius: 50%;</td></tr><tr><td>box-shadow</td><td>边框阴影</td><td>box-shadow: 10px 10px 10px red inset;</td></tr></tbody></table><h3 id="图片属性">图片属性</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#div</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">opacity</span>: <span class="number">0.3</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">30</span>);</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="渐变色">渐变色</h3><table><thead><tr><th>属性</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>linear-gradient</td><td>可以固定此，或者角度45deg</td><td>background: linear-gradient(45deg,red,orange,white);</td></tr><tr><td>radial-gradient</td><td>默认从中心点出发</td><td>background: radial-gradient(red,orange,white);</td></tr></tbody></table><h3 id="2D转换">2D转换</h3><p>transform属性</p><table><thead><tr><th>属性值</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>transalte(x,y)</td><td>元素的平移</td><td>transform: translate(30px,50px);</td></tr><tr><td>rotate(deg)</td><td>元素的旋转，正数顺时针，负数逆时针</td><td>transform: rotate(-30deg);</td></tr><tr><td>scale(num)</td><td>元素的缩放</td><td>transform: scale(1.5);</td></tr></tbody></table><h3 id="过渡属性">过渡属性</h3><p>transition属性</p><table><thead><tr><th>属性</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>trainsition</td><td>过渡属性：<code>width</code>速度曲线匀速：<code>linear</code></td><td>trainsition: width 2s linear 1s</td></tr><tr><td>transform-origin</td><td>设置旋转基点</td><td>transform-origin: right bottom ;</td></tr></tbody></table><h1>Javascript</h1><h2 id="Javascript基本概念">Javascript基本概念</h2><p>在web开发中的脚本语言，是一种<strong>基于对象</strong>，基于<strong>事件驱动</strong>的解释型语言。能够被大多数的浏览器解释，来实现与客户的交互，动态页面效果等，减轻服务器端的压力。</p><h3 id="功能">功能</h3><ul class="lvl-0"><li class="lvl-2"><p>数据验证</p></li><li class="lvl-2"><p>动态页面效果</p></li><li class="lvl-2"><p>与服务器进行交互（Ajax）</p></li></ul><h3 id="JS的组成">JS的组成</h3><ol><li class="lvl-3"><p>ECMAScript（核心和基础）</p></li><li class="lvl-3"><p>DOM（文档对象模型）</p></li><li class="lvl-3"><p>BOM（浏览器对象模型）</p></li></ol><h3 id="JS的写法">JS的写法</h3><p>行内</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">onclick</span>=<span class="string">”js脚本”</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>内嵌</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>  <span class="attr">language</span>=<span class="string">”javascript”</span>&gt;</span>js脚本<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>外部</p><p>先创建后缀名为js的文件，在页面中采用标签引用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">”js文件的地址”</span> <span class="attr">type</span>=<span class="string">”text/javascript”</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="核心语法">核心语法</h2><h3 id="编写规范">编写规范</h3><p>区分大小写</p><p><mark>每行要以分号结束</mark></p><p>注释</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单行注释</span></span><br><span class="line"><span class="comment">/* 多行注释 */</span></span><br></pre></td></tr></table></figure><p>标识符规则</p><ul class="lvl-0"><li class="lvl-2"><p>不能以数字开头，可以有数字，字母，下划线,$</p></li><li class="lvl-2"><p>不能是关键字</p></li></ul><h3 id="变量">变量</h3><h4 id="声明变量">声明变量</h4><p>var 变量名；</p><h4 id="赋值">赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名=初始值;</span><br></pre></td></tr></table></figure><p>确定了变量的数据类型</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名=值;</span><br></pre></td></tr></table></figure><p>注意点：</p><ul class="lvl-0"><li class="lvl-2"><p>连续声明多个，逗号隔开</p></li><li class="lvl-2"><p>可以不初始化使用，默认为undefined</p></li><li class="lvl-2"><p>数据类型是可以更改的</p></li></ul><h4 id="使用">使用</h4><h3 id="数据类型">数据类型</h3><ul class="lvl-0"><li class="lvl-2"><p>基本类型：<code>String</code>,<code>number</code>,<code>boolean</code></p></li><li class="lvl-2"><p>特殊类型：<code>null</code>,<code>undefined</code></p></li><li class="lvl-2"><p>复杂类型：<code>Array</code>,<code>Object</code></p></li></ul><h4 id="String类型">String类型</h4><p>可以使用单引号或双引号组成</p><p><code>\n</code>换行</p><p><code>\\</code>,<code>\’</code>,<code>\”</code></p><h4 id="number类型">number类型</h4><p>不区分整型和浮点型</p><h4 id="boolean类型">boolean类型</h4><p><code>true</code>或<code>false</code>，也代表1或0，实际参与运算时会自动进行转换</p><h4 id="类型转换">类型转换</h4><h5 id="隐式转换">隐式转换</h5><p>数字+字符串：自动转换为字符串</p><p>数字+布尔：布尔转换为1或0</p><p>字符串+布尔类型：布尔转换为字符串</p><p>布尔+布尔：转换为数字</p><h5 id="强制转换">强制转换</h5><p><code>toString()</code>:所有数据类型转换为字符串类型</p><p><code>parseInt(“”)</code>:强制转换成整数</p><p>找到第一个非数值的地方截取前面的数字，如果第一个就是非数值返回NaN</p><p><code>parseFloat(“”)</code>:强制转换成浮点数</p><p>找到第一个非数值和非小数点的（小数点只保留一次）的地方截取，保留前面的部分。</p><p><code>typeof(数据)</code>:返回数据对应的数据类型</p><p><code>isNaN()</code>:判断数据是否是一个数值类型</p><h3 id="控制语句">控制语句</h3><h4 id="分支结构">分支结构</h4><p>单分支：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>多重分支</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="title function_">elseif</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="title function_">elseif</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">    <span class="keyword">case</span> 值<span class="number">1</span>:</span><br><span class="line">    <span class="keyword">case</span> 值<span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="循环结构">循环结构</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>()&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">while</span>();</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( ; ; )&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="输入">输入</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">prompt</span>(<span class="string">&quot;提示信息&quot;</span>,<span class="string">&quot;输入框的默认值&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="函数">函数</h3><h4 id="函数语法">函数语法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 函数名([参数列表])&#123;</span><br><span class="line"></span><br><span class="line">函数体</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> 值;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意点：不需要指定返回值类型，参数也不需要指定参数类型，形参可以有也可以没有，如果形参定义了，但是没有传实参，会变成undefined</p><h4 id="arguments对象">arguments对象</h4><p>在函数体中，代表了<strong>参数数组</strong>，可以通过该数组访问所有的参数</p><p>函数参数个数：<code>arguments.length</code></p><p>第i个参数：<code>arguments[i]</code></p><h4 id="匿名函数">匿名函数</h4><h2 id="常用的对象">常用的对象</h2><h3 id="String">String</h3><p>属性：<code>length</code>：获取字符长度</p><p>方法：</p><ul class="lvl-0"><li class="lvl-2"><p>toLowerCase()/toUpCase()</p></li></ul><p>转换成小写/大写</p><ul class="lvl-0"><li class="lvl-2"><p>indexOf(findstr[,index])</p></li></ul><p>返回findstr在原字符串中的首字母位置，如果找不到返回-1</p><ul class="lvl-0"><li class="lvl-2"><p>substring(start[,end])</p></li></ul><p>从start开始到end（或者到最后）进行截取子字符串</p><ul class="lvl-0"><li class="lvl-2"><p>replace(findstr,tostr)</p></li></ul><p>从字符串中找到findstr，将其替换为tostr</p><ul class="lvl-0"><li class="lvl-2"><p>split(bystr[,howmany])</p></li></ul><p>将字符串按照bystr进行分割，分割成n个元素的数组。</p><h3 id="Array对象">Array对象</h3><ul class="lvl-0"><li class="lvl-2"><p>创建对象的方式</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>([length]);</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>初始化数组</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">a[<span class="number">1</span>]=<span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>创建的同时直接赋值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>,<span class="number">200</span>,’abc’,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>直接赋值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c = [<span class="number">100</span>,<span class="number">200</span>,<span class="number">400</span>];</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>二维数组</p></li></ul><p>创建：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">7</span>);</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>赋值：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a[行][列] = 值</span><br></pre></td></tr></table></figure><p>遍历：</p><p>​嵌套循环</p><ul class="lvl-0"><li class="lvl-2"><p>常用方法</p></li></ul><ol><li class="lvl-3"><p>字符串连接</p></li></ol><p><code>jion([bystr])</code>：使用bystr将数组元素连接成字符串</p><p><code>toString()</code>:默认右逗号连接</p><ol start="2"><li class="lvl-3"><p>向数组中添加元素</p></li></ol><p><code>push(元素)</code></p><p>并不会返回拼接后的数组</p><ol start="3"><li class="lvl-3"><p>拼接多个元素</p></li></ol><p><code>concat(val1,val2,val3,...,valn)</code></p><p>返回连接后的数组</p><ol start="4"><li class="lvl-3"><p>截取子数组</p></li></ol><p><code>slice(start[,end])</code></p><p>从start开始截取到end的前一位</p><ol start="5"><li class="lvl-3"><p>数组的反转</p></li></ol><p>反向数组</p><p><code>reverse()</code></p><ol start="6"><li class="lvl-3"><p>数组排序</p><p><code>sort([func])</code></p></li></ol><h3 id="Math">Math</h3><p>无需创建直接使用，可以使用Math对象直接调用属性和方法</p><p>Math.PI</p><p>方法:</p><p><code>Math.random()</code>：获取0-1之间的随机小数</p><p><code>Math.ceil(num)</code>：向上取整</p><p><code>Math.floor()</code>：向下取整</p><h3 id="Date对象">Date对象</h3><p>用来处理日期和时间</p><p>创建</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">//默认是当前日期和时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(“<span class="number">2020</span>/<span class="number">01</span>/<span class="number">01</span> ”);</span><br></pre></td></tr></table></figure><p>方法：</p><p><code>getDate()</code>：返回一月中的某一天（1-31）</p><p><code>getDay()</code>：返回一周中的某一天（0-6）</p><p><code>getMonth()</code>：返回月份（<strong>0-11</strong>）</p><p><code>getFullYear()</code>：返回年份</p><p><code>getHours()</code>：小时</p><p><code>getMinutes()</code>：分钟</p><p><code>getSeconds()</code>：秒</p><p><code>getMilliseconds()</code>：毫秒</p><p><code>getTime()</code>：1970年1月1日至今的毫秒数</p><p>set方法同上</p><h2 id="BOM">BOM</h2><p>浏览器对象模型，访问和操作浏览器的窗口，使js有能力和浏览器进行会话。</p><h3 id="window对象">window对象</h3><p>代表了浏览器窗口，所有js全局对象，函数，以及变量均是window对象的成员。</p><p>常用属性</p><table><thead><tr><th>属性名</th><th>描述</th></tr></thead><tbody><tr><td>name</td><td>窗体名称</td></tr><tr><td>innerWidth/innerHeight</td><td>窗体显示区域的宽度/高度</td></tr><tr><td>history</td><td>浏览过的URL信息</td></tr><tr><td>location</td><td>当前URL的信息，通常可以进行获取和修改当前路径</td></tr></tbody></table><p>history属性：</p><p><code>length</code>：访问过的URL的数量</p><p><code>forward()</code>：前进</p><p><code>back()</code>：后退</p><p><code>go(n)</code>：n为正数表示前进n页，n为负数表示后退n页</p><p>location属性：</p><p><code>href</code>：设置当前窗口正在浏览的网页地址</p><p><code>replace(url)</code>：转向对应的url地址，不可以后退</p><p><code>reload()</code>：重新载入地址，等价于刷新</p><p>常用方法</p><ul class="lvl-0"><li class="lvl-2"><p><code>alert()</code>;</p></li><li class="lvl-2"><p><code>prompt()</code>;</p></li><li class="lvl-2"><p><code>confirm(“”)</code>：确认对话框，确认和取消按钮</p></li><li class="lvl-2"><p><code>open([url],[name],[config])</code>：打开一个新窗口</p></li><li class="lvl-2"><p><code>close()</code>：关闭浏览器窗口</p></li><li class="lvl-2"><p><code>setInterval()</code>/<code>setTimeout()</code>：定时器</p></li></ul><ol><li class="lvl-3"><p><code>setInterval(exp,time)</code>：周期性定时器，以一定的时间间隔执行代码，循环往复</p><p><code>exp</code>：执行语句</p><p><code>time</code>：时间周期，单位毫秒</p></li><li class="lvl-3"><p><code>clearInterval(tid)</code>：停止定时器</p><p>tid:定时器对象</p></li><li class="lvl-3"><p><code>setTimeout(exp，time)</code>：一次性定时器，延迟time时间后执行对应的代码一次。</p></li><li class="lvl-3"><p><code>clearTimeout(tid)</code></p></li></ol><h2 id="DOM">DOM</h2><p>文档对象模型，提供了一套方法（函数），通过这组函数可以操作网页中的元素，属性，样式，文本等，以及对页面中所有的事件作出反应。</p><h3 id="DOM树">DOM树</h3><p>HTML页面–浏览器加载文档–DOM Tree–添加，删除，修改</p><p>DOM tree由节点组成的</p><p><code>document</code>：根节点</p><p><code>document.documentElement</code>：html根节点</p><p><code>element</code>：元素节点</p><p><code>attribute</code>：属性节点</p><p><code>text</code>/<code>innerText</code>：文本节点</p><h3 id="DOM操作Element节点">DOM操作Element节点</h3><h4 id="查找元素-2">查找元素</h4><ul class="lvl-0"><li class="lvl-2"><p>直接查找</p></li></ul><p><code>document.getElementById()</code>：根据id查找唯一的元素，只返回第一个</p><p><code>document.getElementsByTagName()</code>：标签名获取集合NodeList</p><p><code>document.getElementsByName()</code>：根据name属性获取集合</p><p><code>document.getElementsByClassName()</code>：根据类名获取集合</p><p><code>querySelector()</code>：根据css选择器查询符合条件的第一个元素节点，如果找不到，返回null。</p><p><code>querySelectorAll()</code>：根据css选择器查询符合条件的所有元素节点的集合，如果找不到，返回null。如果找不到，返回空数组。</p><ul class="lvl-0"><li class="lvl-2"><p>间接查找</p></li></ul><p><code>childNodes</code>：返回所有的子节点</p><p><code>children</code>：返回所有的子元素</p><p><code>firstChild</code>：第一个字节点</p><p><code>firstElementChild</code>：第一个子元素</p><p><code>lastChild</code>：最后一个字节点</p><p><code>lastElementChild</code>：最后一个字元素</p><p><code>nextSibling</code>：下一个同级节点</p><p><code>nextElementSibling</code>：下一个同级元素</p><p><code>previousSibling</code>：：上一个同级节点</p><p><code>previousElementSibling</code>：上一个同级元素</p><p><code>parentNode</code>：父节点</p><p>注意：<strong>静态元素通过使用直接查找，动态元素通过间接查找</strong></p><h4 id="添加，删除，替换元素">添加，删除，替换元素</h4><p><code>creatElement(tag)</code>:新建节点</p><p><code>appendChild(newitem)</code>：作为父节点的最后一个子节点追加</p><p><code>inesertBefore(newitem，refitem)</code>：插入到父节点中refitem节点的前面</p><p><code>父节点.removeChild(删除对象)</code>：删除</p><p><code>父节点.replaceChild(新节点，被替换节点)</code>：替换</p><h4 id="DOM操作Attribute">DOM操作Attribute</h4><p><code>node.属性名</code>：获取或设置属性值</p><h4 id="DOM操作文本">DOM操作文本</h4><p><code>node.innerText</code>：用来设置成对标签内部的文本内容，不会解析标签和样式</p><p><code>node.innerHTML</code>：用来设置成对标签内部的html内容，会解析标签和样式</p><h4 id="DOM操作样式">DOM操作样式</h4><ul class="lvl-0"><li class="lvl-2"><p>行内</p></li></ul><p><code>node.style.样式属性名</code></p><p>特点：优先级高，比较麻烦</p><ul class="lvl-0"><li class="lvl-2"><p>绑定类样式名</p></li></ul><p><code>node.className</code></p><ul class="lvl-0"><li class="lvl-2"><p>classList</p></li></ul><p><code>node.classList.add()</code> 追加类样式</p><h4 id="常见的事件">常见的事件</h4><p>onclick,onmouseover,onmouseout,onmouseup,onmousedown</p><p>onkeydown,onkeyup</p><p>onload,onchange,onfocus,onblur,onresize,onsubmit</p><p>window.onscroll:滚动条的滚动事件</p><p>document.documentElement.scrollTop</p><p>document.body.scrolltop</p><h4 id="样式属性">样式属性</h4><table><thead><tr><th>属性名</th><th>描述</th></tr></thead><tbody><tr><td>div.style.left</td><td>左边距，带px单位，必须在html标签内部指定值</td></tr><tr><td>div.style.offsetleft</td><td>左边距，不带单位，不能用于设置左边距</td></tr><tr><td>innerWidth、innerHeight</td><td></td></tr><tr><td>div.clientWidth/div.clientHeight</td><td>实际宽度高度，不包含边框线</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据挖掘</title>
      <link href="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/"/>
      <url>/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/</url>
      
        <content type="html"><![CDATA[<h1>前言</h1><h2 id="写在前面-3">写在前面</h2><p>虽然这门课学习了机器学习的相关知识，但是只是基于sklearn包<a href="https://scikit-learn.org.cn/">scikit-learn中文社区</a>进行调参，并没有手动实践机器学习的相关算法。只能说是对机器学习这门课有一个大概的初步认识，加之老师讲课的内容比较基础，关于机器学习的知识大多都是B站自学的。</p><p>书籍采用的是李航版本的《统计学习方法》，B站上有很多教程，所以不推荐硬啃书，看视频消化的更快。视频链接：https://www.bilibili.com/video/BV1No4y1o7ac?share_source=copy_web</p><div align="center" class="aspect-ratio">    <iframe src="https://www.bilibili.com/video/BV1No4y1o7ac?share_source=copy_web" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">     </iframe></div><p>可能后期会自主编写相关机器学习的代码，从最基本的感知机开始……那都是后话了。</p><h2 id="工具">工具</h2><p>老师推荐的是Spyder（其实Anaconda里面自带了），但是这里更加推荐的是Pycharm里面的Juypter。</p><h2 id="配置Python环境">配置Python环境</h2><p>安装虚拟环境</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n sklearn python=3.8</span><br></pre></td></tr></table></figure><p>激活虚拟环境</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate sklearn</span><br></pre></td></tr></table></figure><p>安装包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">conda install numpy</span><br><span class="line"></span><br><span class="line">conda install scipy</span><br><span class="line"></span><br><span class="line">conda install scikit-learn</span><br><span class="line"></span><br><span class="line">conda install matplotlib</span><br><span class="line"></span><br><span class="line">conda install seaborn</span><br><span class="line"></span><br><span class="line">conda install pandas</span><br></pre></td></tr></table></figure><p>展示安装包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/image-20220521135617838.png" alt="环境展示"></p><h1>数据预处理与数据分析</h1><h2 id="导入库与数据">导入库与数据</h2><p>导入库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">from</span> scipy <span class="keyword">import</span> stats</span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> display</span><br></pre></td></tr></table></figure><p>导入数据集<strong>注：数据的excel文件需要放在.ipynb文件的同一目录下</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = pd.read_csv(<span class="string">&#x27;train.csv&#x27;</span>)</span><br><span class="line">data</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>PassengerId</th>      <th>Survived</th>      <th>Pclass</th>      <th>Name</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Ticket</th>      <th>Fare</th>      <th>Cabin</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>0</td>      <td>3</td>      <td>Braund, Mr. Owen Harris</td>      <td>male</td>      <td>22.0</td>      <td>1</td>      <td>0</td>      <td>A/5 21171</td>      <td>7.2500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>1</td>      <td>1</td>      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>      <td>female</td>      <td>38.0</td>      <td>1</td>      <td>0</td>      <td>PC 17599</td>      <td>71.2833</td>      <td>C85</td>      <td>C</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>1</td>      <td>3</td>      <td>Heikkinen, Miss. Laina</td>      <td>female</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>STON/O2. 3101282</td>      <td>7.9250</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>1</td>      <td>1</td>      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>      <td>female</td>      <td>35.0</td>      <td>1</td>      <td>0</td>      <td>113803</td>      <td>53.1000</td>      <td>C123</td>      <td>S</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>0</td>      <td>3</td>      <td>Allen, Mr. William Henry</td>      <td>male</td>      <td>35.0</td>      <td>0</td>      <td>0</td>      <td>373450</td>      <td>8.0500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>886</th>      <td>887</td>      <td>0</td>      <td>2</td>      <td>Montvila, Rev. Juozas</td>      <td>male</td>      <td>27.0</td>      <td>0</td>      <td>0</td>      <td>211536</td>      <td>13.0000</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>887</th>      <td>888</td>      <td>1</td>      <td>1</td>      <td>Graham, Miss. Margaret Edith</td>      <td>female</td>      <td>19.0</td>      <td>0</td>      <td>0</td>      <td>112053</td>      <td>30.0000</td>      <td>B42</td>      <td>S</td>    </tr>    <tr>      <th>888</th>      <td>889</td>      <td>0</td>      <td>3</td>      <td>Johnston, Miss. Catherine Helen "Carrie"</td>      <td>female</td>      <td>NaN</td>      <td>1</td>      <td>2</td>      <td>W./C. 6607</td>      <td>23.4500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>889</th>      <td>890</td>      <td>1</td>      <td>1</td>      <td>Behr, Mr. Karl Howell</td>      <td>male</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>111369</td>      <td>30.0000</td>      <td>C148</td>      <td>C</td>    </tr>    <tr>      <th>890</th>      <td>891</td>      <td>0</td>      <td>3</td>      <td>Dooley, Mr. Patrick</td>      <td>male</td>      <td>32.0</td>      <td>0</td>      <td>0</td>      <td>370376</td>      <td>7.7500</td>      <td>NaN</td>      <td>Q</td>    </tr>  </tbody></table><p>891 rows × 12 columns</p></div><p>概括性度量数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.describe()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>PassengerId</th>      <th>Survived</th>      <th>Pclass</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>891.000000</td>      <td>891.000000</td>      <td>891.000000</td>      <td>714.000000</td>      <td>891.000000</td>      <td>891.000000</td>      <td>891.000000</td>    </tr>    <tr>      <th>mean</th>      <td>446.000000</td>      <td>0.383838</td>      <td>2.308642</td>      <td>29.699118</td>      <td>0.523008</td>      <td>0.381594</td>      <td>32.204208</td>    </tr>    <tr>      <th>std</th>      <td>257.353842</td>      <td>0.486592</td>      <td>0.836071</td>      <td>14.526497</td>      <td>1.102743</td>      <td>0.806057</td>      <td>49.693429</td>    </tr>    <tr>      <th>min</th>      <td>1.000000</td>      <td>0.000000</td>      <td>1.000000</td>      <td>0.420000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>0.000000</td>    </tr>    <tr>      <th>25%</th>      <td>223.500000</td>      <td>0.000000</td>      <td>2.000000</td>      <td>20.125000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>7.910400</td>    </tr>    <tr>      <th>50%</th>      <td>446.000000</td>      <td>0.000000</td>      <td>3.000000</td>      <td>28.000000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>14.454200</td>    </tr>    <tr>      <th>75%</th>      <td>668.500000</td>      <td>1.000000</td>      <td>3.000000</td>      <td>38.000000</td>      <td>1.000000</td>      <td>0.000000</td>      <td>31.000000</td>    </tr>    <tr>      <th>max</th>      <td>891.000000</td>      <td>1.000000</td>      <td>3.000000</td>      <td>80.000000</td>      <td>8.000000</td>      <td>6.000000</td>      <td>512.329200</td>    </tr>  </tbody></table></div><p>备份数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = data.copy()</span><br></pre></td></tr></table></figure><h2 id="数据处理">数据处理</h2><p>字符串数据处理判断标准：若字符串的重复率低于30%，则认定字符串与乘客存活无关</p><p>空缺数据处理判断标准：空缺率在20%以上的数据集无意义，空缺率在20%以下的数据集中的空缺数据可以用平均值代替</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.isnull().<span class="built_in">sum</span>(axis=<span class="number">0</span>)/<span class="built_in">len</span>(df)</span><br></pre></td></tr></table></figure><pre><code>PassengerId    0.000000Survived       0.000000Pclass         0.000000Name           0.000000Sex            0.000000Age            0.198653SibSp          0.000000Parch          0.000000Ticket         0.000000Fare           0.000000Cabin          0.771044Embarked       0.002245dtype: float64</code></pre><h3 id="性别处理">性别处理</h3><p>将男性编号为1，女性编号为0</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sex_value</span>(<span class="params">sex</span>):</span><br><span class="line">    <span class="keyword">if</span> sex==<span class="string">&#x27;male&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;Sex&#x27;</span>]=df[<span class="string">&#x27;Sex&#x27;</span>].apply(<span class="keyword">lambda</span> x:sex_value(x))</span><br></pre></td></tr></table></figure><h3 id="姓名处理">姓名处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;姓名重复率：&#x27;</span>)</span><br><span class="line">(<span class="built_in">len</span>(df) - df[<span class="string">&#x27;Name&#x27;</span>].unique().shape[<span class="number">0</span>])/<span class="built_in">len</span>(df)</span><br></pre></td></tr></table></figure><pre><code>姓名重复率：0.0</code></pre><h3 id="船票编号处理">船票编号处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;船票编号重复率：&#x27;</span>)</span><br><span class="line">(<span class="built_in">len</span>(df) - df[<span class="string">&#x27;Ticket&#x27;</span>].unique().shape[<span class="number">0</span>])/<span class="built_in">len</span>(df)</span><br></pre></td></tr></table></figure><pre><code>船票编号重复率：0.2356902356902357</code></pre><h3 id="乘客乘船码头处理">乘客乘船码头处理</h3><p>乘客乘船码头重复率</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;乘客登船码头重复率：&#x27;</span>)</span><br><span class="line">(<span class="built_in">len</span>(df) - df[<span class="string">&#x27;Embarked&#x27;</span>].unique().shape[<span class="number">0</span>])/<span class="built_in">len</span>(df)</span><br></pre></td></tr></table></figure><pre><code>乘客登船码头重复率：0.9955106621773289</code></pre><p>删去缺失数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = df.dropna(axis=<span class="number">0</span>,subset=[<span class="string">&#x27;Embarked&#x27;</span>])</span><br><span class="line">df.reset_index(drop=<span class="literal">True</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>将字符串对应成编号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;Embarked&#x27;</span>] =df[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;C&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">df[<span class="string">&#x27;Embarked&#x27;</span>] =df[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;Q&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">df[<span class="string">&#x27;Embarked&#x27;</span>] =df[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;S&#x27;</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure><h3 id="年龄处理">年龄处理</h3><p><strong>随机森林回归填补缺失值</strong></p><p>导入机器学习中的随机森林回归（RandomForestRegressor）方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor</span><br></pre></td></tr></table></figure><p>不含缺失值的其他所有列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_full=df.drop(labels=[<span class="string">&#x27;Age&#x27;</span>,<span class="string">&#x27;PassengerId&#x27;</span>,<span class="string">&#x27;Name&#x27;</span>,<span class="string">&#x27;Ticket&#x27;</span>,<span class="string">&#x27;Cabin&#x27;</span>],axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>含缺失值的那一列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_nan=df.loc[:,<span class="string">&#x27;Age&#x27;</span>]</span><br></pre></td></tr></table></figure><p>区别测试集与训练集</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_nan.notnull()</span><br></pre></td></tr></table></figure><pre><code>0       True1       True2       True3       True4       True       ...  884     True885     True886    False887     True888     TrueName: Age, Length: 889, dtype: bool</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_nan.isnull()</span><br></pre></td></tr></table></figure><pre><code>0      False1      False2      False3      False4      False       ...  884    False885    False886     True887    False888    FalseName: Age, Length: 889, dtype: bool</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Xtrain = df_full[df_nan.notnull()]</span><br><span class="line">Ytrain = df_nan[df_nan.notnull()]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ytest = df_nan[df_nan.isnull()]</span><br><span class="line">Xtest = df_full.iloc[Ytest.index]</span><br></pre></td></tr></table></figure><p>随机森林训练及预测</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rfc = RandomForestRegressor(n_estimators=<span class="number">100</span>)</span><br><span class="line">rfc = rfc.fit(Xtrain, Ytrain)</span><br><span class="line">Ypredict = rfc.predict(Xtest)</span><br></pre></td></tr></table></figure><p>预测结果四舍五入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ypredict_round = Ypredict.<span class="built_in">round</span>()</span><br></pre></td></tr></table></figure><p>填入预测数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_nan[df_nan.isnull()] = Ypredict_round</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>PassengerId</th>      <th>Survived</th>      <th>Pclass</th>      <th>Name</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Ticket</th>      <th>Fare</th>      <th>Cabin</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>0</td>      <td>3</td>      <td>Braund, Mr. Owen Harris</td>      <td>1</td>      <td>22.0</td>      <td>1</td>      <td>0</td>      <td>A/5 21171</td>      <td>7.2500</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>1</td>      <td>1</td>      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>      <td>0</td>      <td>38.0</td>      <td>1</td>      <td>0</td>      <td>PC 17599</td>      <td>71.2833</td>      <td>C85</td>      <td>1</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>1</td>      <td>3</td>      <td>Heikkinen, Miss. Laina</td>      <td>0</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>STON/O2. 3101282</td>      <td>7.9250</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>1</td>      <td>1</td>      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>      <td>0</td>      <td>35.0</td>      <td>1</td>      <td>0</td>      <td>113803</td>      <td>53.1000</td>      <td>C123</td>      <td>3</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>0</td>      <td>3</td>      <td>Allen, Mr. William Henry</td>      <td>1</td>      <td>35.0</td>      <td>0</td>      <td>0</td>      <td>373450</td>      <td>8.0500</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>884</th>      <td>887</td>      <td>0</td>      <td>2</td>      <td>Montvila, Rev. Juozas</td>      <td>1</td>      <td>27.0</td>      <td>0</td>      <td>0</td>      <td>211536</td>      <td>13.0000</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>885</th>      <td>888</td>      <td>1</td>      <td>1</td>      <td>Graham, Miss. Margaret Edith</td>      <td>0</td>      <td>19.0</td>      <td>0</td>      <td>0</td>      <td>112053</td>      <td>30.0000</td>      <td>B42</td>      <td>3</td>    </tr>    <tr>      <th>886</th>      <td>889</td>      <td>0</td>      <td>3</td>      <td>Johnston, Miss. Catherine Helen "Carrie"</td>      <td>0</td>      <td>23.0</td>      <td>1</td>      <td>2</td>      <td>W./C. 6607</td>      <td>23.4500</td>      <td>NaN</td>      <td>3</td>    </tr>    <tr>      <th>887</th>      <td>890</td>      <td>1</td>      <td>1</td>      <td>Behr, Mr. Karl Howell</td>      <td>1</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>111369</td>      <td>30.0000</td>      <td>C148</td>      <td>1</td>    </tr>    <tr>      <th>888</th>      <td>891</td>      <td>0</td>      <td>3</td>      <td>Dooley, Mr. Patrick</td>      <td>1</td>      <td>32.0</td>      <td>0</td>      <td>0</td>      <td>370376</td>      <td>7.7500</td>      <td>NaN</td>      <td>2</td>    </tr>  </tbody></table><p>889 rows × 12 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">col_x = [<span class="string">&#x27;Pclass&#x27;</span>,<span class="string">&#x27;Sex&#x27;</span>,<span class="string">&#x27;Age&#x27;</span>,<span class="string">&#x27;SibSp&#x27;</span>,<span class="string">&#x27;Parch&#x27;</span>,<span class="string">&#x27;Fare&#x27;</span>,<span class="string">&#x27;Embarked&#x27;</span>]</span><br><span class="line">col_y = [<span class="string">&#x27;Survived&#x27;</span>]</span><br><span class="line">X = pd.DataFrame(df,columns = col_x)</span><br><span class="line">y=pd.DataFrame(df,columns = col_y)</span><br></pre></td></tr></table></figure><p>测试集处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data_predict = pd.read_csv(<span class="string">&#x27;test.csv&#x27;</span>)</span><br><span class="line">df_predict = data_predict.copy()</span><br><span class="line">df_predict</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>PassengerId</th>      <th>Pclass</th>      <th>Name</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Ticket</th>      <th>Fare</th>      <th>Cabin</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>892</td>      <td>3</td>      <td>Kelly, Mr. James</td>      <td>male</td>      <td>34.5</td>      <td>0</td>      <td>0</td>      <td>330911</td>      <td>7.8292</td>      <td>NaN</td>      <td>Q</td>    </tr>    <tr>      <th>1</th>      <td>893</td>      <td>3</td>      <td>Wilkes, Mrs. James (Ellen Needs)</td>      <td>female</td>      <td>47.0</td>      <td>1</td>      <td>0</td>      <td>363272</td>      <td>7.0000</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>2</th>      <td>894</td>      <td>2</td>      <td>Myles, Mr. Thomas Francis</td>      <td>male</td>      <td>62.0</td>      <td>0</td>      <td>0</td>      <td>240276</td>      <td>9.6875</td>      <td>NaN</td>      <td>Q</td>    </tr>    <tr>      <th>3</th>      <td>895</td>      <td>3</td>      <td>Wirz, Mr. Albert</td>      <td>male</td>      <td>27.0</td>      <td>0</td>      <td>0</td>      <td>315154</td>      <td>8.6625</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>4</th>      <td>896</td>      <td>3</td>      <td>Hirvonen, Mrs. Alexander (Helga E Lindqvist)</td>      <td>female</td>      <td>22.0</td>      <td>1</td>      <td>1</td>      <td>3101298</td>      <td>12.2875</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>413</th>      <td>1305</td>      <td>3</td>      <td>Spector, Mr. Woolf</td>      <td>male</td>      <td>NaN</td>      <td>0</td>      <td>0</td>      <td>A.5. 3236</td>      <td>8.0500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>414</th>      <td>1306</td>      <td>1</td>      <td>Oliva y Ocana, Dona. Fermina</td>      <td>female</td>      <td>39.0</td>      <td>0</td>      <td>0</td>      <td>PC 17758</td>      <td>108.9000</td>      <td>C105</td>      <td>C</td>    </tr>    <tr>      <th>415</th>      <td>1307</td>      <td>3</td>      <td>Saether, Mr. Simon Sivertsen</td>      <td>male</td>      <td>38.5</td>      <td>0</td>      <td>0</td>      <td>SOTON/O.Q. 3101262</td>      <td>7.2500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>416</th>      <td>1308</td>      <td>3</td>      <td>Ware, Mr. Frederick</td>      <td>male</td>      <td>NaN</td>      <td>0</td>      <td>0</td>      <td>359309</td>      <td>8.0500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>417</th>      <td>1309</td>      <td>3</td>      <td>Peter, Master. Michael J</td>      <td>male</td>      <td>NaN</td>      <td>1</td>      <td>1</td>      <td>2668</td>      <td>22.3583</td>      <td>NaN</td>      <td>C</td>    </tr>  </tbody></table><p>418 rows × 11 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_predict.isnull().<span class="built_in">sum</span>(axis=<span class="number">0</span>)/<span class="built_in">len</span>(df_predict)</span><br></pre></td></tr></table></figure><pre><code>PassengerId    0.000000Pclass         0.000000Name           0.000000Sex            0.000000Age            0.205742SibSp          0.000000Parch          0.000000Ticket         0.000000Fare           0.002392Cabin          0.782297Embarked       0.000000dtype: float64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">df_predict = df_predict.dropna(axis=<span class="number">0</span>,subset=[<span class="string">&#x27;Fare&#x27;</span>])</span><br><span class="line">df_predict.reset_index(drop=<span class="literal">True</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df_predict[<span class="string">&#x27;Sex&#x27;</span>]=df_predict[<span class="string">&#x27;Sex&#x27;</span>].apply(<span class="keyword">lambda</span> x:sex_value(x))</span><br><span class="line"></span><br><span class="line">df_predict[<span class="string">&#x27;Embarked&#x27;</span>] =df_predict[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;C&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">df_predict[<span class="string">&#x27;Embarked&#x27;</span>] =df_predict[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;Q&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">df_predict[<span class="string">&#x27;Embarked&#x27;</span>] =df_predict[<span class="string">&#x27;Embarked&#x27;</span>].replace(<span class="string">&#x27;S&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">age_mean=df_predict[<span class="string">&#x27;Age&#x27;</span>].mean()</span><br><span class="line">df_predict[<span class="string">&#x27;Age&#x27;</span>]=df_predict[<span class="string">&#x27;Age&#x27;</span>].fillna(age_mean)</span><br><span class="line">df_predict[<span class="string">&#x27;Age&#x27;</span>]=df_predict[<span class="string">&#x27;Age&#x27;</span>].<span class="built_in">round</span>()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_predict = pd.DataFrame(df_predict,columns = col_x)</span><br></pre></td></tr></table></figure><h2 id="数据分析">数据分析</h2><h3 id="统计量分析">统计量分析</h3><p>计算均值、方差、标准差 (取了一些有意义的数据)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&quot;平均数&quot;</span>:X.mean(),<span class="string">&quot;方差&quot;</span>:X.var(),<span class="string">&quot;标准差&quot;</span>:X.std()&#125;).T</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Pclass</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>平均数</th>      <td>2.311586</td>      <td>0.649044</td>      <td>29.534499</td>      <td>0.524184</td>      <td>0.382452</td>      <td>32.096681</td>      <td>2.535433</td>    </tr>    <tr>      <th>方差</th>      <td>0.696724</td>      <td>0.228042</td>      <td>189.760852</td>      <td>1.218164</td>      <td>0.650863</td>      <td>2469.841935</td>      <td>0.627403</td>    </tr>    <tr>      <th>标准差</th>      <td>0.834700</td>      <td>0.477538</td>      <td>13.775371</td>      <td>1.103705</td>      <td>0.806761</td>      <td>49.697504</td>      <td>0.792088</td>    </tr>  </tbody></table></div><p>偏度与峰度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(&#123;<span class="string">&#x27;偏度&#x27;</span>: X.skew(), <span class="string">&#x27;峰度&#x27;</span>: X.kurt()&#125;,).T</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Pclass</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>偏度</th>      <td>-0.636998</td>      <td>-0.625625</td>      <td>0.417878</td>      <td>3.691058</td>      <td>2.745160</td>      <td>4.801440</td>      <td>-1.261367</td>    </tr>    <tr>      <th>峰度</th>      <td>-1.269437</td>      <td>-1.612225</td>      <td>0.378453</td>      <td>17.838972</td>      <td>9.750592</td>      <td>33.508477</td>      <td>-0.216100</td>    </tr>  </tbody></table></div><p>协方差</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.cov()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Pclass</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>Pclass</th>      <td>0.696724</td>      <td>0.050918</td>      <td>-4.453329</td>      <td>0.075226</td>      <td>0.011330</td>      <td>-22.740426</td>      <td>0.108880</td>    </tr>    <tr>      <th>Sex</th>      <td>0.050918</td>      <td>0.228042</td>      <td>0.965950</td>      <td>-0.061323</td>      <td>-0.095355</td>      <td>-4.270831</td>      <td>0.041729</td>    </tr>    <tr>      <th>Age</th>      <td>-4.453329</td>      <td>0.965950</td>      <td>189.760852</td>      <td>-4.765379</td>      <td>-2.344380</td>      <td>58.171717</td>      <td>-0.134675</td>    </tr>    <tr>      <th>SibSp</th>      <td>0.075226</td>      <td>-0.061323</td>      <td>-4.765379</td>      <td>1.218164</td>      <td>0.369119</td>      <td>8.824866</td>      <td>0.060234</td>    </tr>    <tr>      <th>Parch</th>      <td>0.011330</td>      <td>-0.095355</td>      <td>-2.344380</td>      <td>0.369119</td>      <td>0.650863</td>      <td>8.721729</td>      <td>0.025848</td>    </tr>    <tr>      <th>Fare</th>      <td>-22.740426</td>      <td>-4.270831</td>      <td>58.171717</td>      <td>8.824866</td>      <td>8.721729</td>      <td>2469.841935</td>      <td>-8.908691</td>    </tr>    <tr>      <th>Embarked</th>      <td>0.108880</td>      <td>0.041729</td>      <td>-0.134675</td>      <td>0.060234</td>      <td>0.025848</td>      <td>-8.908691</td>      <td>0.627403</td>    </tr>  </tbody></table></div><p>相关矩阵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.corr()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Pclass</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>Pclass</th>      <td>1.000000</td>      <td>0.127741</td>      <td>-0.387303</td>      <td>0.081656</td>      <td>0.016824</td>      <td>-0.548193</td>      <td>0.164681</td>    </tr>    <tr>      <th>Sex</th>      <td>0.127741</td>      <td>1.000000</td>      <td>0.146840</td>      <td>-0.116348</td>      <td>-0.247508</td>      <td>-0.179958</td>      <td>0.110320</td>    </tr>    <tr>      <th>Age</th>      <td>-0.387303</td>      <td>0.146840</td>      <td>1.000000</td>      <td>-0.313430</td>      <td>-0.210950</td>      <td>0.084972</td>      <td>-0.012343</td>    </tr>    <tr>      <th>SibSp</th>      <td>0.081656</td>      <td>-0.116348</td>      <td>-0.313430</td>      <td>1.000000</td>      <td>0.414542</td>      <td>0.160887</td>      <td>0.068900</td>    </tr>    <tr>      <th>Parch</th>      <td>0.016824</td>      <td>-0.247508</td>      <td>-0.210950</td>      <td>0.414542</td>      <td>1.000000</td>      <td>0.217532</td>      <td>0.040449</td>    </tr>    <tr>      <th>Fare</th>      <td>-0.548193</td>      <td>-0.179958</td>      <td>0.084972</td>      <td>0.160887</td>      <td>0.217532</td>      <td>1.000000</td>      <td>-0.226311</td>    </tr>    <tr>      <th>Embarked</th>      <td>0.164681</td>      <td>0.110320</td>      <td>-0.012343</td>      <td>0.068900</td>      <td>0.040449</td>      <td>-0.226311</td>      <td>1.000000</td>    </tr>  </tbody></table></div><h3 id="图表分析">图表分析</h3><p>统计图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.countplot(data=df, x=<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>​    <img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_63_0-165310504609844.png" alt="统计图"></p><p>箱型图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.boxplot(data=df, y=<span class="string">&#x27;Age&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_65_0-165310508438745.png" alt="箱型图"></p><p>全体箱型图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.boxplot(data=df)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_67_0-165310511357746.png" alt="全体箱型图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.boxplot(data=df,y=<span class="string">&#x27;SibSp&#x27;</span>, x=<span class="string">&#x27;Parch&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_68_0-165310512308247.png" alt="全体箱型图"></p><p>散点图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.stripplot(data=df, x=<span class="string">&#x27;Sex&#x27;</span>, y=<span class="string">&#x27;Embarked&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_70_0-165310516574349.png" alt="散点图"></p><p>直方图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.histplot(df, x=<span class="string">&#x27;Age&#x27;</span>, kde=<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_72_0-165310518335850.png" alt="直方图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.histplot(df, x=<span class="string">&#x27;Fare&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, kde=<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_73_0-165310520448051.png" alt="直方图"></p><p>散点图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.scatterplot(data=df, x=<span class="string">&#x27;SibSp&#x27;</span>, y=<span class="string">&#x27;Parch&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_75_0-165310540860552.png" alt="散点图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.scatterplot(data=df, x=<span class="string">&#x27;SibSp&#x27;</span>, y=<span class="string">&#x27;Parch&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_76_0-165310542236153.png" alt="散点图"></p><p>联合分布图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.pairplot(X)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_78_1-165310545516254.png" alt="联合分布图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.pairplot(X, diag_kind=<span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_79_1-165310546719355.png" alt="联合分布图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.pairplot(df, hue=<span class="string">&#x27;Survived&#x27;</span>, diag_kind=<span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_80_1-165310547892556.png" alt="联合分布图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">g = sns.jointplot(data=df, x=<span class="string">&#x27;Age&#x27;</span>, y=<span class="string">&#x27;Fare&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_81_1-165310548964557.png" alt="双变量图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.jointplot(data=df, x=<span class="string">&#x27;Age&#x27;</span>, y=<span class="string">&#x27;Fare&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>, kind=<span class="string">&#x27;kde&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_82_1-165310550416258.png" alt="双变量图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">g = sns.jointplot(data=df, x=<span class="string">&#x27;SibSp&#x27;</span>, y=<span class="string">&#x27;Parch&#x27;</span>, hue=<span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">g.plot_joint(sns.kdeplot)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>&lt;Figure size 432x288 with 0 Axes&gt;</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_83_1-165310553283159.png" alt="双变量图"></p><p>核密度估计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.kdeplot(data=df, x=<span class="string">&#x27;Fare&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_85_0-165310553951960.png" alt="核密度估计图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.kdeplot(data=df, x=<span class="string">&#x27;SibSp&#x27;</span>, y=<span class="string">&#x27;Parch&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_86_0-165310554856761.png" alt="核密度估计图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">sns.kdeplot(data=df, x=<span class="string">&#x27;SibSp&#x27;</span>, y=<span class="string">&#x27;Parch&#x27;</span>, fill=<span class="literal">True</span>, cbar=<span class="literal">True</span>, cmap=<span class="string">&#x27;Reds&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_87_0-165310555535262.png" alt="核密度估计图"></p><p>stats连续型随机变量的公共方法：</p><table><thead><tr><th>名称</th><th>备注</th></tr></thead><tbody><tr><td>rvs</td><td>产生服从指定分布的随机数</td></tr><tr><td>cdf</td><td>累计分布函数</td></tr><tr><td>pdf</td><td>概率密度函数</td></tr><tr><td>sf</td><td>残存函数（1-CDF）</td></tr><tr><td>ppf</td><td>分位点函数（CDF的逆）</td></tr><tr><td>isf</td><td>逆残存函数（sf的逆）</td></tr><tr><td>fit</td><td>对一组随机取样进行拟合，最大似然估计方法找出最适合取样数据的概率密度函数系数。</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = sns.kdeplot(data=df, x=<span class="string">&#x27;Fare&#x27;</span>, label=<span class="string">&#x27;Fare&#x27;</span>)</span><br><span class="line"></span><br><span class="line">xmin, xmax = plt.xlim()</span><br><span class="line">x = np.linspace(xmin, xmax, <span class="number">1000</span>)</span><br><span class="line">mu, std = stats.norm.fit(df[<span class="string">&#x27;Fare&#x27;</span>])</span><br><span class="line">p = stats.norm.pdf(x, mu,std)</span><br><span class="line">ax.plot(x, p, <span class="string">&#x27;r&#x27;</span> , label=<span class="string">&#x27;fit normal&#x27;</span>)</span><br><span class="line">ax.legend()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;fitted mu: <span class="subst">&#123;mu&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;fitted std: <span class="subst">&#123;std&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_89_0-165310557158163.png" alt="核密度估计图"></p><pre><code>fitted mu: 32.09668087739032fitted std: 49.669545099689564</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">&#x27;Pclass&#x27;</span>,  <span class="string">&#x27;Sex&#x27;</span>,<span class="string">&#x27;SibSp&#x27;</span>,<span class="string">&#x27;Parch&#x27;</span>]:</span><br><span class="line">    sns.kdeplot(data=df, x=i, label=i)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_90_0-165310558128164.png" alt="核密度估计图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">s = df[<span class="string">&#x27;Survived&#x27;</span>].astype(<span class="string">&quot;category&quot;</span>)</span><br><span class="line">cates = s.cat.categories</span><br><span class="line"><span class="keyword">for</span> cat <span class="keyword">in</span> cates:</span><br><span class="line">        df1 = df[df[<span class="string">&#x27;Survived&#x27;</span>] == cat]</span><br><span class="line">        sns.kdeplot(data=df1, x=<span class="string">&#x27;Fare&#x27;</span>, label=cat)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>​<br><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_91_0-165310559077265.png" alt="核密度估计图">​</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">s = df[<span class="string">&#x27;Survived&#x27;</span>].astype(<span class="string">&quot;category&quot;</span>)</span><br><span class="line">cates = s.cat.categories</span><br><span class="line">fig,axs = plt.subplots(<span class="number">1</span>, <span class="built_in">len</span>(cates), figsize=(<span class="built_in">len</span>(cates) * <span class="number">6</span>, <span class="number">4</span>))</span><br><span class="line"><span class="keyword">for</span> col,cat <span class="keyword">in</span> <span class="built_in">enumerate</span>(cates):</span><br><span class="line">    ax = axs[col]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">&#x27;Pclass&#x27;</span>,  <span class="string">&#x27;Sex&#x27;</span>,<span class="string">&#x27;SibSp&#x27;</span>,<span class="string">&#x27;Parch&#x27;</span>]:</span><br><span class="line">        df1 = df[df[<span class="string">&#x27;Survived&#x27;</span>] == cat]</span><br><span class="line">        sns.kdeplot(data=df1, x=i, label=i, ax=ax)</span><br><span class="line">    ax.set_title(cat)</span><br><span class="line">    ax.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_92_0-165310583064766.png" alt="核密度估计图"></p><p>平行坐标系</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.plotting.parallel_coordinates(pd.concat([X,y],axis=<span class="number">1</span>), <span class="string">&#x27;Survived&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_94_0-165310584869367.png" alt="平行坐标系"></p><p>热力图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c = X.corr()</span><br><span class="line">display(c)</span><br><span class="line">sns.heatmap(c, cmap=<span class="string">&#x27;jet&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Pclass</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Fare</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>Pclass</th>      <td>1.000000</td>      <td>0.127741</td>      <td>-0.387303</td>      <td>0.081656</td>      <td>0.016824</td>      <td>-0.548193</td>      <td>0.164681</td>    </tr>    <tr>      <th>Sex</th>      <td>0.127741</td>      <td>1.000000</td>      <td>0.146840</td>      <td>-0.116348</td>      <td>-0.247508</td>      <td>-0.179958</td>      <td>0.110320</td>    </tr>    <tr>      <th>Age</th>      <td>-0.387303</td>      <td>0.146840</td>      <td>1.000000</td>      <td>-0.313430</td>      <td>-0.210950</td>      <td>0.084972</td>      <td>-0.012343</td>    </tr>    <tr>      <th>SibSp</th>      <td>0.081656</td>      <td>-0.116348</td>      <td>-0.313430</td>      <td>1.000000</td>      <td>0.414542</td>      <td>0.160887</td>      <td>0.068900</td>    </tr>    <tr>      <th>Parch</th>      <td>0.016824</td>      <td>-0.247508</td>      <td>-0.210950</td>      <td>0.414542</td>      <td>1.000000</td>      <td>0.217532</td>      <td>0.040449</td>    </tr>    <tr>      <th>Fare</th>      <td>-0.548193</td>      <td>-0.179958</td>      <td>0.084972</td>      <td>0.160887</td>      <td>0.217532</td>      <td>1.000000</td>      <td>-0.226311</td>    </tr>    <tr>      <th>Embarked</th>      <td>0.164681</td>      <td>0.110320</td>      <td>-0.012343</td>      <td>0.068900</td>      <td>0.040449</td>      <td>-0.226311</td>      <td>1.000000</td>    </tr>  </tbody></table></div><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_96_1-165310588370468.png" alt="热力图"></p><h1>分类模型</h1><h2 id="决策树模型">决策树模型</h2><p>导入决策树模型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> tree</span><br></pre></td></tr></table></figure><p>决策树模型训练</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xtrain,xtest,ytrain,ytest = train_test_split(X, y,test_size=<span class="number">0.3</span>)</span><br><span class="line">clf = tree.DecisionTreeClassifier()</span><br><span class="line">clf = clf.fit(xtrain,ytrain)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;准确率:&#x27;</span>, clf.score(xtest,ytest))</span><br></pre></td></tr></table></figure><pre><code>准确率: 0.7940074906367042</code></pre><p>超参数优化</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><strong>criterion</strong></td><td style="text-align:center"><strong>{“gini”, “entropy”}, default=”gini”</strong> 这个参数是用来选择使用何种方法度量树的切分质量的。当criterion取值为“gini”时采用 基尼不纯度（Gini impurity）算法构造决策树，当criterion取值为 “entropy” 时采用信息增益（ information gain）算法构造决策树.</td></tr><tr><td style="text-align:center"><strong>splitter</strong></td><td style="text-align:center"><strong>{“best”, “random”}, default=”best”</strong> 此参数决定了在每个节点上拆分策略的选择。支持的策略是“best” 选择“最佳拆分策略”， “random” 选择“最佳随机拆分策略”。</td></tr><tr><td style="text-align:center"><strong>max_depth</strong></td><td style="text-align:center"><strong>int, default=None</strong> 树的最大深度。如果取值为None,则将所有节点展开，直到所有的叶子都是纯净的或者直到所有叶子都包含少于min_samples_split个样本。</td></tr><tr><td style="text-align:center"><strong>min_samples_split</strong></td><td style="text-align:center"><strong>int or float, default=2</strong> 拆分内部节点所需的最少样本数：  <strong>·</strong> 如果取值 int , 则将<code>min_samples_split</code>视为最小值。 <strong>·</strong> 如果为float，则<code>min_samples_split</code>是一个分数，而<code>ceil（min_samples_split * n_samples）</code>是每个拆分的最小样本数。  -注释 在版本0.18中更改：增加了分数形式的浮点值。</td></tr><tr><td style="text-align:center"><strong>min_samples_leaf</strong></td><td style="text-align:center"><strong>int or float, default=1</strong> 在叶节点处所需的最小样本数。 仅在任何深度的分裂点在左分支和右分支中的每个分支上至少留有<code>min_samples_leaf</code>个训练样本时，才考虑。 这可能具有平滑模型的效果，尤其是在回归中。  <strong>·</strong> 如果为int，则将<code>min_samples_leaf</code>视为最小值 <strong>·</strong> 如果为float，则<code>min_samples_leaf</code>是一个分数，而<code>ceil（min_samples_leaf * n_samples）</code>是每个节点的最小样本数。  - 注释： 在版本0.18中发生了更改：添加了分数形式的浮点值。</td></tr><tr><td style="text-align:center"><strong>min_weight_fraction_leaf</strong></td><td style="text-align:center"><strong>float, default=0.0</strong> 在所有叶节点处（所有输入样本）的权重总和中的最小加权分数。 如果未提供<code>sample_weight</code>，则样本的权重相等。</td></tr><tr><td style="text-align:center"><strong>max_features</strong></td><td style="text-align:center"><strong>int, float or {“auto”, “sqrt”, “log2”}, default=None</strong> 寻找最佳分割时要考虑的特征数量： <strong>-</strong> 如果为<code>int</code>，则在每次拆分时考虑<code>max_features</code>功能。 <strong>-</strong> 如果为<code>float</code>，则<code>max_features</code>是一个分数，而<code>int（max_features * n_features）</code>是每个分割处的特征数量。 <strong>-</strong> 如果为<code>“auto”</code>，则<code>max_features = sqrt（n_features）</code>。 <strong>-</strong> 如果为<code>“sqrt”</code>，则<code>max_features = sqrt（n_features）</code>。 <strong>-</strong> 如果为<code>“log2”</code>，则<code>max_features = log2（n_features）</code>。 <strong>-</strong> 如果为<code>None</code>，则<code>max_features = n_features</code>。  注意：直到找到至少一个有效的节点样本分区，分割的搜索才会停止，即使它需要有效检查的特征数量多于<code>max_features</code>也是如此。</td></tr><tr><td style="text-align:center"><strong>random_state</strong></td><td style="text-align:center"><strong>int, RandomState instance, default=None</strong> 此参数用来控制估计器的随机性。即使分割器设置为“最佳”，这些特征也总是在每个分割中随机排列。当<code>max_features &lt;n_features</code>时，该算法将在每个拆分中随机选择<code>max_features</code>，然后再在其中找到最佳拆分。但是，即使<code>max_features = n_features</code>，找到的最佳分割也可能因不同的运行而有所不同。 就是这种情况，如果标准的改进对于几个拆分而言是相同的，并且必须随机选择一个拆分。 为了在拟合过程中获得确定性的行为，<code>random_state</code>必须固定为整数。 有关详细信息，请参见词汇表。</td></tr><tr><td style="text-align:center"><strong>max_leaf_nodes</strong></td><td style="text-align:center"><strong>int, default=None</strong> 优先以最佳方式生成带有<code>max_leaf_nodes</code>的树。 最佳节点定义为不纯度的相对减少。 如果为None，则叶节点数不受限制。</td></tr><tr><td style="text-align:center"><strong>min_impurity_decrease</strong></td><td style="text-align:center"><strong>float, default=0.0</strong> 如果节点分裂会导致不纯度的减少大于或等于该值，则该节点将被分裂。  加权不纯度减少方程如下： <code>N_t / N * (impurity - N_t_R / N_t * right_impurity</code> <code>- N_t_L / N_t * left_impurity)</code> 其中<code>N</code>是样本总数，<code>N_t</code>是当前节点上的样本数，<code>N_t_L</code>是左子节点中的样本数，<code>N_t_R</code>是右子节点中的样本数。  如果给<code>sample_weight</code>传了值，则<code>N , N_t , N_t_R</code> 和 <code>N_t_L</code>均指加权总和。  在 0.19 版新增 。</td></tr><tr><td style="text-align:center"><strong>min_impurity_split</strong></td><td style="text-align:center"><strong>float, default=0</strong> 树模型停止生长的阈值。如果节点的不纯度高于阈值，则该节点将分裂，否则为叶节点。  警告： 从版本0.19开始被弃用:<code>min_impurity_split</code>在0.19中被弃用，转而支持<code>min_impurity_decrease</code>。<code>min_impurity_split</code>的默认值在0.23中从<code>1e-7</code>更改为<code>0</code>，在0.25中将被删除。使用<code>min_impurity_decrease</code>代替。</td></tr><tr><td style="text-align:center"><strong>class_weight</strong></td><td style="text-align:center"><strong>dict, list of dict or “balanced”, default=None</strong> 以<code>&#123;class_label: weight&#125;</code>的形式表示与类别关联的权重。如果取值None,所有分类的权重为1。对于多输出问题，可以按照y的列的顺序提供一个字典列表。  注意多输出(包括多标签) ，应在其自己的字典中为每一列的每个类别定义权重。例如：对于四分类多标签问题， 权重应为[{0：1、1：1：1]，{0：1、1：5}，{0：1、1：1：1}，{0：1、1： 1}]，而不是[{1：1}，{2：5}，{3：1}，{4：1}]。  “平衡”模式使用y的值自动将权重与输入数据中的类频率成反比地调整为<code>n_samples /（n_classes * np.bincount（y））</code>。  对于多输出，y的每一列的权重将相乘。  请注意，如果指定了<code>sample_weight</code>，则这些权重将与<code>sample_weight</code>（通过<code>fit</code>方法传递）相乘。</td></tr><tr><td style="text-align:center"><strong>presort</strong></td><td style="text-align:center"><strong>deprecated, default=’deprecated’</strong> 此参数已弃用，并将在v0.24中删除。  注意：从0.22版开始已弃用。</td></tr><tr><td style="text-align:center"><strong>ccp_alpha</strong></td><td style="text-align:center"><strong>non-negative float, default=0.0</strong> 用于最小化成本复杂性修剪的复杂性参数。 将选择成本复杂度最大且小于ccp_alpha的子树。 默认情况下，不执行修剪。 有关详细信息，请参见最小成本复杂性修剪。</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> StratifiedKFold</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">clf = tree.DecisionTreeClassifier()</span><br><span class="line">parameters = &#123;</span><br><span class="line">    <span class="string">&#x27;criterion&#x27;</span>: [<span class="string">&#x27;entropy&#x27;</span>, <span class="string">&#x27;gini&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;max_leaf_nodes&#x27;</span>: np.arange(<span class="number">2</span>, <span class="number">9</span>),</span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span>: [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>],</span><br><span class="line">    <span class="string">&#x27;min_impurity_decrease&#x27;</span>: [<span class="number">0</span>, <span class="number">0.02</span>, <span class="number">0.04</span>, <span class="number">0.06</span>, <span class="number">0.08</span>, <span class="number">0.1</span>],</span><br><span class="line">&#125;</span><br><span class="line">skf = StratifiedKFold(n_splits=<span class="number">100</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">clf_search = GridSearchCV(clf, parameters, cv=skf, scoring=<span class="string">&#x27;accuracy&#x27;</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">clf_search.fit(X, y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优参数:&#x27;</span>,clf_search.best_params_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优分数:&#x27;</span>,clf_search.best_score_)</span><br></pre></td></tr></table></figure><pre><code>最优参数: &#123;'criterion': 'entropy', 'max_depth': 4, 'max_leaf_nodes': 8, 'min_impurity_decrease': 0&#125;最优分数: 0.8226388888888888</code></pre><p>决策树模型平均准确度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scores = cross_val_score(clf_search.best_estimator_, X, y, cv=<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;平均得分:&#x27;</span>, np.mean(scores))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;得分:&#x27;</span>, scores)</span><br></pre></td></tr></table></figure><pre><code>平均得分: 0.8155420521192333得分: [0.79865772 0.81081081 0.85810811 0.78378378 0.7972973  0.84459459]</code></pre><p>画图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> pydotplus</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">clf = clf.fit(X,y)</span><br><span class="line">dot_data = tree.export_graphviz(clf_search.best_estimator_,filled=<span class="literal">True</span>, rounded=<span class="literal">True</span>,special_characters=<span class="literal">True</span>)</span><br><span class="line">graph = pydotplus.graph_from_dot_data(dot_data)</span><br><span class="line">Image(graph.create_png())</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_113_0-165310594035169.png" alt="决策树"></p><p>测试集预测</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line">ypred = clf_search.best_estimator_.predict(X_predict)</span><br></pre></td></tr></table></figure><p>输出预测结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ytestId = pd.DataFrame(df_predict,columns = [<span class="string">&#x27;PassengerId&#x27;</span>])</span><br><span class="line">ytest=pd.DataFrame(ypred)</span><br><span class="line">ytest=ytest.rename(columns=&#123;<span class="string">&quot;Survived&quot;</span>:<span class="string">&#x27;PredictSurvived&#x27;</span>&#125;)</span><br><span class="line">result=ytestId.join(ytest)</span><br><span class="line">result.to_excel(<span class="string">&#x27;决策树预测.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="人工神经网络">人工神经网络</h2><p>导入模型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br></pre></td></tr></table></figure><p>标准化</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scaler = StandardScaler()</span><br><span class="line">scaler.fit(X)</span><br><span class="line">X_scaler = scaler.transform(X)</span><br></pre></td></tr></table></figure><p>人工神经网络模型训练</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X_train,X_test,Y_train,Y_test=train_test_split(X_scaler,y,test_size=<span class="number">0.3</span>)</span><br><span class="line">mlp = MLPClassifier()</span><br><span class="line">mlp = mlp.fit(X_train,Y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;准确率:&#x27;</span>, mlp.score(X_test,Y_test))</span><br></pre></td></tr></table></figure><pre><code>准确率: 0.7865168539325843</code></pre><p>超参数优化</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><strong>hidden_layer_sizes</strong></td><td style="text-align:center"><strong>tuple, length = n_layers - 2, default=(100,)</strong> 第i个元素代表第i个隐藏层中的神经元数量。</td></tr><tr><td style="text-align:center"><strong>activation</strong></td><td style="text-align:center"><strong>{‘identity’, ‘logistic’, ‘tanh’, ‘relu’}, default=’relu’</strong> 隐藏层的激活函数。  - ‘identity’，无操作激活，用于实现线性瓶颈，返回f(x)= x - ‘logistic’,logistic Sigmoid函数，返回f(x)= 1 / (1 + exp(x))。 - ‘tanh’,双曲tan函数，返回f(x)= tanh(x)。 - ‘relu’,整流线性单位函数，返回f(x)= max(0，x)</td></tr><tr><td style="text-align:center"><strong>solver</strong></td><td style="text-align:center"><strong>{‘lbfgs’, ‘sgd’, ‘adam’}, default=’adam’</strong> 权重优化的求解器。  - “ lbfgs”是quasi-Newton方法族的优化程序。 - “ sgd”是指随机梯度下降。 - “ adam”是指Kingma，Diederik和Jimmy Ba提出的基于随机梯度的优化器  注意：就训练时间和验证准确率而言，默认求解器“ adam”在相对较大的数据集（具有数千个训练样本或更多）上的效果很好。但是，对于小型数据集，“ lbfgs”可以收敛得更快并且性能更好。</td></tr><tr><td style="text-align:center"><strong>alpha</strong></td><td style="text-align:center"><strong>float, default=0.0001</strong> L2惩罚（正则项）参数。</td></tr><tr><td style="text-align:center"><strong>batch_size</strong></td><td style="text-align:center"><strong>int, default=’auto’</strong> 随机优化器的小批次的大小。如果求解器为“ lbfgs”，则分类器将不使用小批次批处理。设为“自动”时，<code>batch_size=min(200, n_samples)</code></td></tr><tr><td style="text-align:center"><strong>learning_rate</strong></td><td style="text-align:center"><strong>{‘constant’, ‘invscaling’, ‘adaptive’}, default=’constant’</strong> 权重更新的学习速率表。  - ’ constant ‘是一个恒定的学习速率，由’ learning_rate_init '给出。 - “invscaling”通过使用“power_t”的缩放逆指数，逐步降低在每个时间步长“t”上的学习率。effective_learning_rate = learning_rate_init / pow(t, power_t) - 只要训练损失持续减少，‘adaptive’将学习率保持在‘learning_rate_init’不变。每次连续两个epoch不能减少至少tol的训练损失，或者如果“early_stop”开启，不能增加至少tol的验证分数，则当前学习率要除以5。  仅在<code>solver='sgd'</code>时使用。</td></tr><tr><td style="text-align:center"><strong>learning_rate_init</strong></td><td style="text-align:center"><strong>double, default=0.001</strong> 使用的初始学习率。它控制更新权重的步长。仅在Solver ='sgd’或’adam’时使用。</td></tr><tr><td style="text-align:center"><strong>power_t</strong></td><td style="text-align:center"><strong>double, default=0.5</strong> 反比例学习率的指数。当learning_rate设置为“ invscaling”时，它用于更新有效学习率。仅在Solver ='sgd’时使用。</td></tr><tr><td style="text-align:center"><strong>max_iter</strong></td><td style="text-align:center"><strong>int, default=200</strong> 最大迭代次数。求解器迭代直到收敛（由“ tol”决定）或这个迭代次数。对于随机求解器（“ sgd”，“ adam”），请注意，这决定时期数（每个数据点将使用多少次），而不是梯度步数。</td></tr><tr><td style="text-align:center"><strong>shuffle</strong></td><td style="text-align:center"><strong>bool, default=True</strong> 是否在每次迭代中对样本进行打乱。仅在Solver ='sgd’或’adam’时使用。</td></tr><tr><td style="text-align:center"><strong>random_state</strong></td><td style="text-align:center"><strong>int, RandomState instance, default=None</strong> 决定用于权重和偏差初始化的随机数生成，如果使用了提前停止，则切分测试集和训练集，并在solver ='sgd’或’adam’时批量采样。在多个函数调用之间传递一个int值以获得可重复的结果。请参阅<a href="https://scikit-learn.org/stable/glossary.html#term-random-state">词汇表</a>。</td></tr><tr><td style="text-align:center"><strong>tol</strong></td><td style="text-align:center"><strong>float, default=1e-4</strong> 优化公差。当<code>n_iter_no_change</code>连续迭代的损失或分数没有通过至少<code>tol</code>得到改善时，除非将<code>learning_rate</code>设置为‘adaptive’，否则将认为达到收敛并停止训练。</td></tr><tr><td style="text-align:center"><strong>verbose</strong></td><td style="text-align:center"><strong>bool, default=False</strong> 是否将进度消息打印到标准输出。</td></tr><tr><td style="text-align:center"><strong>warm_start</strong></td><td style="text-align:center"><strong>bool, default=False</strong> 设置为True时，请重用上一个调用的解决方案以拟合初始化，否则，只需擦除以前的解决方案即可。请参阅<a href="http://scikit-learn.org.cn/lists/91.html#%E5%8F%82%E6%95%B0">词汇表</a>。</td></tr><tr><td style="text-align:center"><strong>momentum</strong></td><td style="text-align:center"><strong>float, default=0.9</strong> 梯度下降更新的动量。应该在0到1之间。仅在solver ='sgd’时使用。</td></tr><tr><td style="text-align:center"><strong>nesterovs_momentum</strong></td><td style="text-align:center"><strong>boolean, default=True</strong> 是否使用内Nesterov的动量。仅在Solver ='sgd’且momentum&gt; 0时使用。</td></tr><tr><td style="text-align:center"><strong>early_stopping</strong></td><td style="text-align:center"><strong>bool, default=False</strong> 当验证准确率没有提高时，是否使用提前停止来终止训练。如果设置为true，它将自动预留10％的训练数据作为验证，并在<code>n_iter_no_change</code>连续几个时期，验证准确率没有提高至少tol时终止训练 。除多标签设置外，这个切分是分层的。仅在Solver ='sgd’或’adam’时有效</td></tr><tr><td style="text-align:center"><strong>validation_fraction</strong></td><td style="text-align:center"><strong>float, default=0.1</strong> 预留的训练数据比例作为提前停止的验证集。必须在0到1之间。仅当early_stopping为True时使用</td></tr><tr><td style="text-align:center"><strong>beta_1</strong></td><td style="text-align:center"><strong>float, default=0.9</strong> adam第一矩向量估计的指数衰减率，应在[0，1）范围内。仅在solver ='adam’时使用</td></tr><tr><td style="text-align:center"><strong>beta_2</strong></td><td style="text-align:center"><strong>float, default=0.999</strong> adam第二矩向量估计的指数衰减率，应在[0，1）范围内。仅在solver ='adam’时使用</td></tr><tr><td style="text-align:center"><strong>epsilon</strong></td><td style="text-align:center"><strong>float, default=1e-8</strong> adam中数值稳定性的值。仅在solver ='adam’时使用</td></tr><tr><td style="text-align:center"><strong>n_iter_no_change</strong></td><td style="text-align:center"><strong>int, default=10</strong> 不满足<code>tol</code>改进的最大时期数。仅在Solver ='sgd’或’adam’时有效  <em>0.20版中的新功能。</em></td></tr><tr><td style="text-align:center"><strong>max_fun</strong></td><td style="text-align:center"><strong>int, default=15000</strong> 仅在Solver ='lbfgs’时使用。损失函数调用的最大次数。求解器迭代直到收敛（由“ tol”确定），迭代次数达到max_iter或这个损失函数调用的次数。请注意，损失函数调用的次数将大于或等于<code>MLPClassifier</code>的迭代次数。  <em>0.22版中的新功能。</em></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> StratifiedShuffleSplit,GridSearchCV</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mlp = MLPClassifier()</span><br><span class="line">parameters = [</span><br><span class="line">    &#123;<span class="string">&#x27;activation&#x27;</span>: [<span class="string">&#x27;logistic&#x27;</span>, <span class="string">&#x27;relu&#x27;</span>, <span class="string">&#x27;tanh&#x27;</span>],<span class="string">&#x27;alpha&#x27;</span>: np.logspace(-<span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>),<span class="string">&#x27;hidden_layer_sizes&#x27;</span>: [ (<span class="number">100</span>,), (<span class="number">120</span>,), (<span class="number">140</span>,), (<span class="number">160</span>,), (<span class="number">180</span>,), (<span class="number">200</span>,)]&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;activation&#x27;</span>: [<span class="string">&#x27;relu&#x27;</span>, <span class="string">&#x27;tanh&#x27;</span>],<span class="string">&#x27;alpha&#x27;</span>: np.logspace(-<span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>),<span class="string">&#x27;hidden_layer_sizes&#x27;</span>: [ (<span class="number">100</span>,<span class="number">100</span>), (<span class="number">120</span>,<span class="number">120</span>), (<span class="number">140</span>,<span class="number">140</span>), (<span class="number">160</span>,<span class="number">160</span>), (<span class="number">180</span>,<span class="number">180</span>), (<span class="number">200</span>,<span class="number">200</span>)]&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;activation&#x27;</span>: [<span class="string">&#x27;relu&#x27;</span>],<span class="string">&#x27;alpha&#x27;</span>: np.logspace(-<span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>),<span class="string">&#x27;hidden_layer_sizes&#x27;</span>: [ (<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>), (<span class="number">120</span>,<span class="number">120</span>,<span class="number">120</span>), (<span class="number">140</span>,<span class="number">140</span>,<span class="number">140</span>), (<span class="number">160</span>,<span class="number">160</span>,<span class="number">160</span>), (<span class="number">180</span>,<span class="number">180</span>,<span class="number">180</span>), (<span class="number">200</span>,<span class="number">200</span>,<span class="number">200</span>)]&#125;</span><br><span class="line">]</span><br><span class="line">skf = StratifiedShuffleSplit(n_splits = <span class="number">20</span>, test_size=<span class="number">0.2</span>, random_state=<span class="number">1</span>)</span><br><span class="line">mlp_search = GridSearchCV(mlp, parameters, cv=skf, scoring=<span class="string">&#x27;accuracy&#x27;</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">mlp_search.fit(X_scaler, y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优参数:&#x27;</span>,mlp_search.best_params_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优分数:&#x27;</span>,mlp_search.best_score_)</span><br></pre></td></tr></table></figure><pre><code>最优参数: &#123;'activation': 'relu', 'alpha': 0.001, 'hidden_layer_sizes': (140,)&#125;最优分数: 0.8384831460674158</code></pre><p>多指标评估</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> make_scorer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_validate</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#scoring = [&#x27;accuracy&#x27;, &#x27;precision&#x27;]</span></span><br><span class="line">scoring = &#123;<span class="string">&#x27;accuracy&#x27;</span>: make_scorer(accuracy_score),<span class="string">&#x27;prec&#x27;</span>: <span class="string">&#x27;precision&#x27;</span>&#125;</span><br><span class="line">cv_results = cross_validate(mlp_search.best_estimator_.fit(X_scaler, y), X_scaler, y, cv=<span class="number">5</span>, scoring=scoring)</span><br><span class="line"><span class="built_in">print</span>(cv_results)</span><br></pre></td></tr></table></figure><pre><code>&#123;'fit_time': array([0.80034709, 0.7290976 , 0.75559878, 0.75425696, 0.73791957]), 'score_time': array([0.00095391, 0.00199413, 0.00202894, 0.00202847, 0.0009973 ]), 'test_accuracy': array([0.82022472, 0.82022472, 0.84269663, 0.80337079, 0.86440678]), 'test_prec': array([0.82142857, 0.82142857, 0.84482759, 0.85106383, 0.84375   ])&#125;</code></pre><p>绘制ROC曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> plot_roc_curve</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">300</span> <span class="comment">#分辨率</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_scaler, y, random_state=<span class="number">42</span>)</span><br><span class="line">mlp_search.best_estimator_.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">roc_disp = plot_roc_curve(mlp_search.best_estimator_, X_test, y_test)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_136_1-165310601047370.png" alt="ROC曲线"></p><p>测试集预测</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> openpyxl</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scaler_predict = StandardScaler()</span><br><span class="line">scaler_predict.fit(X_predict)</span><br><span class="line">X_predict_scaler = scaler_predict.transform(X_predict)</span><br><span class="line">ypred = mlp_search.best_estimator_.predict(X_predict_scaler)</span><br><span class="line">ypred</span><br></pre></td></tr></table></figure><pre><code>array([0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1,       1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1,       1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1,       1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1,       0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0,       0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0,       0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,       0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1,       0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0,       0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1,       0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0,       0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0,       0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0,       0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0,       0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1,       0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0,       0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1,       1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0,       1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0],      dtype=int64)</code></pre><p>输出预测结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ytestId = pd.DataFrame(df_predict, columns=[<span class="string">&#x27;PassengerId&#x27;</span>])</span><br><span class="line">ytest = pd.DataFrame(ypred)</span><br><span class="line">ytest = ytest.rename(columns=&#123;<span class="string">&quot;Survived&quot;</span>: <span class="string">&#x27;PredictSurvived&#x27;</span>&#125;)</span><br><span class="line">result = ytestId.join(ytest)</span><br><span class="line">result.to_excel(<span class="string">&#x27;神经网络预测.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="支持向量机">支持向量机</h2><p>导入模型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br></pre></td></tr></table></figure><p>支持向量机模型训练</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> make_pipeline</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X_train,X_test,Y_train,Y_test=train_test_split(X,y,test_size=<span class="number">0.3</span>)</span><br><span class="line">svms = make_pipeline(StandardScaler(), svm.SVC())</span><br><span class="line">svms = svms.fit(X_train,Y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;准确率:&#x27;</span>, svms.score(X_test,Y_test))</span><br></pre></td></tr></table></figure><pre><code>准确率: 0.7902621722846442</code></pre><p>超参数优化</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><strong>C</strong></td><td style="text-align:center"><strong>浮点数，默认= 1.0</strong> 正则化参数。正则化的强度与C成反比。必须严格为正。此惩罚系数是l2惩罚系数的平方</td></tr><tr><td style="text-align:center"><strong>kernel</strong></td><td style="text-align:center"><strong>{‘linear’, ‘poly’, ‘rbf’, ‘sigmoid’, ‘precomputed’}, 默认=’rbf’</strong> 指定算法中使用的内核类型。它必须是“linear”，“poly”，“rbf”，“sigmoid”，“precomputed”或者“callable”中的一个。如果没有给出，将默认使用“rbf”。如果给定了一个可调用函数，则用它来预先计算核矩阵。该矩阵应为形状数组<code>（n_samples，n_samples）</code></td></tr><tr><td style="text-align:center"><strong>degree</strong></td><td style="text-align:center"><strong>整数型，默认=3</strong> 多项式核函数的次数(’ poly ')。将会被其他内核忽略。</td></tr><tr><td style="text-align:center"><strong>gamma</strong></td><td style="text-align:center"><strong>浮点数或者{‘scale’, ‘auto’} , 默认=’scale’</strong> 核系数包含‘rbf’, ‘poly’ 和‘sigmoid’ 如果gamma=‘scale’(默认)，则它使用1 / (n_features * X.var())作为gamma的值，如果是auto，则使用1 / n_features。 在0.22版本有改动：默认的gamma从“auto”改为“scale”。</td></tr><tr><td style="text-align:center"><strong>coef0</strong></td><td style="text-align:center"><strong>浮点数，默认=0.0</strong> 核函数中的独立项。它只在’ poly ‘和’ sigmoid '中有意义。</td></tr><tr><td style="text-align:center"><strong>shrinking</strong></td><td style="text-align:center"><strong>布尔值，默认=True</strong> 是否使用缩小启发式，参见[使用指南](http://scikit-learn.org.cn/view/83.html#1.4.5 实用技巧)</td></tr><tr><td style="text-align:center"><strong>probability</strong></td><td style="text-align:center"><strong>布尔值，默认=False</strong> 是否启用概率估计。必须在调用fit之前启用此参数，因为该方法内部使用5折交叉验证，因此会减慢该方法的速度，并且predict_proba可能与dict不一致。更多信息请阅读[使用指南](http://scikit-learn.org.cn/view/83.html#1.4.1 分类)</td></tr><tr><td style="text-align:center"><strong>tol</strong></td><td style="text-align:center"><strong>浮点数，默认=1e-3</strong> 残差收敛条件。</td></tr><tr><td style="text-align:center"><strong>cache_size</strong></td><td style="text-align:center"><strong>浮点数，默认=200</strong> 指定内核缓存的大小（以MB为单位）。</td></tr><tr><td style="text-align:center"><strong>class_weight</strong></td><td style="text-align:center"><strong>{dict, ‘balanced’}, 默认=None</strong> 在SVC中，将类i的参数C设置为class_weight [i] * C。如果没有给出值，则所有类都将设置为单位权重。“balanced”模式使用y的值自动将权重与类频率成反比地调整为<code>n_samples / (n_classes * np.bincount(y))</code></td></tr><tr><td style="text-align:center"><strong>verbose</strong></td><td style="text-align:center"><strong>布尔值，默认=False</strong> 是否启用详细输出。请注意，此参数针对liblinear中运行每个进程时设置，如果启用，则可能无法在多线程上下文中正常工作。</td></tr><tr><td style="text-align:center"><strong>max_iter</strong></td><td style="text-align:center"><strong>整数型，默认=-1</strong> 对求解器内的迭代进行硬性限制，或者为-1（无限制时）。</td></tr><tr><td style="text-align:center"><strong>decision_function_shape</strong></td><td style="text-align:center"><strong>{‘ovo’, ‘ovr’}, 默认=’ovr’</strong> 是否要将返回形状为(n_samples, n_classes)的one-vs-rest (‘ovr’)决策函数应用于其他所有分类器，而在多类别划分中始终使用one-vs-one (‘ovo’)，对于二进制分类，将忽略该参数。 在版本0.19中进行了更改：默认情况下Decision_function_shape为ovr。 0.17版中的新功能：推荐使用Decision_function_shape =‘ovr’。 在0.17版中进行了更改：不建议使用Decision_function_shape ='ovo’和None。</td></tr><tr><td style="text-align:center"><strong>break_ties</strong></td><td style="text-align:center"><strong>bool, default=False</strong> 如果为true，decision_function_shape =‘ovr’，并且类数&gt; 2，则预测将根据Decision_function的置信度值打破平局；否则，返回绑定类中的第一类。请注意，与简单的预测相比，打破平局的计算成本较高。 这是0.22版中的新功能。</td></tr><tr><td style="text-align:center"><strong>random_state</strong></td><td style="text-align:center"><strong>整数型或RandomState的实例，默认=None</strong> 控制用于数据抽取时的伪随机数生成。当<code>probability</code>为False时将忽略该参数。在多个函数调用之间传递可重复输出的整数值。请参阅<a href="http://scikit-learn.org.cn/lists/91.html#%E5%8F%82%E6%95%B0">词汇表</a>。</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> StratifiedShuffleSplit</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scaler = StandardScaler()</span><br><span class="line">scaler.fit(X)</span><br><span class="line">X_scaler = scaler.transform(X)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">svms = svm.SVC()</span><br><span class="line">parameters = &#123;</span><br><span class="line">    <span class="string">&#x27;kernel&#x27;</span>: (<span class="string">&#x27;linear&#x27;</span>, <span class="string">&#x27;poly&#x27;</span>, <span class="string">&#x27;rbf&#x27;</span>, <span class="string">&#x27;sigmoid&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: [<span class="number">0.01</span>,<span class="number">0.1</span>,<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>],</span><br><span class="line">    <span class="comment">#&#x27;gamma&#x27;: [0.01,0.1,1,10,100],</span></span><br><span class="line">    <span class="comment">#&#x27;class_weight&#x27;:[&#x27;balanced&#x27;, None],</span></span><br><span class="line">&#125;</span><br><span class="line">skf = StratifiedShuffleSplit(n_splits = <span class="number">20</span>, test_size=<span class="number">0.2</span>, random_state=<span class="number">1</span>)</span><br><span class="line">svm_search = GridSearchCV(svms, parameters, cv=skf)</span><br><span class="line">svm_search.fit(X_scaler, y)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优参数:&#x27;</span>,svm_search.best_params_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优分数:&#x27;</span>,svm_search.best_score_)</span><br></pre></td></tr></table></figure><pre><code>最优参数: &#123;'C': 1, 'kernel': 'rbf'&#125;最优分数: 0.8294943820224718</code></pre><p>绘制验证曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> validation_curve</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">param_range = np.logspace(-<span class="number">6</span>, <span class="number">2</span>, <span class="number">8</span>)</span><br><span class="line">train_scores, test_scores = validation_curve(svm.SVC(), X, y, param_name=<span class="string">&quot;gamma&quot;</span>,param_range=param_range, scoring=<span class="string">&quot;accuracy&quot;</span>, n_jobs=<span class="number">1</span>)</span><br><span class="line">train_scores_mean = np.mean(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">train_scores_std = np.std(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">test_scores_mean = np.mean(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">test_scores_std = np.std(test_scores, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&quot;Validation Curve with SVM&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">r&quot;$\gamma$&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Score&quot;</span>)</span><br><span class="line">plt.ylim(<span class="number">0.0</span>, <span class="number">1.1</span>)</span><br><span class="line">lw = <span class="number">2</span></span><br><span class="line">plt.semilogx(param_range, train_scores_mean, label=<span class="string">&quot;Training score&quot;</span>,</span><br><span class="line">             color=<span class="string">&quot;darkorange&quot;</span>, lw=lw)</span><br><span class="line">plt.fill_between(param_range, train_scores_mean - train_scores_std,</span><br><span class="line">                 train_scores_mean + train_scores_std, alpha=<span class="number">0.2</span>,</span><br><span class="line">                 color=<span class="string">&quot;darkorange&quot;</span>, lw=lw)</span><br><span class="line">plt.semilogx(param_range, test_scores_mean, label=<span class="string">&quot;Cross-validation score&quot;</span>,</span><br><span class="line">             color=<span class="string">&quot;navy&quot;</span>, lw=lw)</span><br><span class="line">plt.fill_between(param_range, test_scores_mean - test_scores_std,</span><br><span class="line">                 test_scores_mean + test_scores_std, alpha=<span class="number">0.2</span>,</span><br><span class="line">                 color=<span class="string">&quot;navy&quot;</span>, lw=lw)</span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_155_1-165310607593871.png" alt="验证曲线"></p><p>绘制精确度-召回率曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> average_precision_score</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> precision_recall_curve</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> plot_precision_recall_curve</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">300</span> <span class="comment">#分辨率</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X_scaler, y,test_size=<span class="number">0.3</span>)</span><br><span class="line">y_score=svm_search.best_estimator_.decision_function(X_test)</span><br><span class="line">average_precision = average_precision_score(y_test, y_score)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;平均精确度分数: &#123;0:0.2f&#125;&#x27;</span>.<span class="built_in">format</span>(average_precision))</span><br></pre></td></tr></table></figure><pre><code>平均精确度分数: 0.89</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">disp = plot_precision_recall_curve(svm_search.best_estimator_, X_test, y_test)</span><br><span class="line">disp.ax_.set_title(<span class="string">&#x27;二分类精确度-召回率曲线: &#x27;</span> <span class="string">&#x27;AP=&#123;0:0.2f&#125;&#x27;</span>.<span class="built_in">format</span>(average_precision))</span><br></pre></td></tr></table></figure><pre><code>Text(0.5, 1.0, '二分类精确度-召回率曲线: AP=0.89')</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_160_2-165310611061372.png" alt="精确度-召回率曲线"></p><h2 id="自适应提升法">自适应提升法</h2><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><strong>base_estimator</strong></td><td style="text-align:center"><strong>object, default = None</strong> 建立增强集成的基础估计器。需要支持示例权重，以及适当的<code>classes_</code>和<code>n_classes_</code>属性。如果没有，那么基础估计器是<code>DecisionTreeClassifier(max_depth=1)</code></td></tr><tr><td style="text-align:center"><strong>n_estimators</strong></td><td style="text-align:center"><strong>int, default = 50</strong> 终止推进的估计器的最大数目。如果完全拟合，学习过程就会提前停止。</td></tr><tr><td style="text-align:center"><strong>learning_rate</strong></td><td style="text-align:center"><strong>float, default = 1</strong> 学习率通过<code>learning_rate</code>缩小每个分类器的贡献程度。<code>learning_rate</code>和<code>n_estimators</code>之间存在权衡关系。</td></tr><tr><td style="text-align:center"><strong>algorithm</strong></td><td style="text-align:center"><strong>{‘SAMME’, ‘SAMME.R’}, default = ‘SAMME.R’</strong> 若为&quot;SAMME.R&quot;则使用real bossting算法。<code>base_estimator</code>必须支持类概率的计算。若为SAMME，则使用discrete boosting算法。SAMME.R算法的收敛速度通常比SAMME快，通过更少的增强迭代获得更低的测试误差。</td></tr><tr><td style="text-align:center"><strong>random_state</strong></td><td style="text-align:center"><strong>int or RandomState, default = None</strong> 控制每个<code>base_estimator</code>在每个增强迭代中给定的随机种子。因此，仅在<code>base_estimator</code>引入<code>random_state</code>时使用它。在多个函数调用之间传递可重复输出的整数。见<a href="http://scikit-learn.org.cn/lists/91.html#%E5%8F%82%E6%95%B0">Glossary</a>。</td></tr></tbody></table><p>导入模型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> AdaBoostClassifier</span><br></pre></td></tr></table></figure><p>Adaboost模型训练</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scaler = StandardScaler()</span><br><span class="line">scaler.fit(X)</span><br><span class="line">X_scaler = scaler.transform(X)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X_train,X_test,Y_train,Y_test=train_test_split(X_scaler,y,test_size=<span class="number">0.3</span>)</span><br><span class="line">AdaBoost = AdaBoostClassifier(n_estimators=<span class="number">100</span>)</span><br><span class="line">AdaBoost.fit(X_train, Y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;准确率:&#x27;</span>,AdaBoost.score(X_test,Y_test))</span><br></pre></td></tr></table></figure><pre><code>准确率: 0.8352059925093633</code></pre><p>学习曲线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> learning_curve</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> ShuffleSplit</span><br><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">300</span> <span class="comment">#分辨率</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">plot_learning_curve</span>(<span class="params">estimator, title, X, y, axes=<span class="literal">None</span>, ylim=<span class="literal">None</span>, cv=<span class="literal">None</span>,n_jobs=<span class="literal">None</span>, train_sizes=np.linspace(<span class="params"><span class="number">.1</span>, <span class="number">1.0</span>, <span class="number">5</span></span>)</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> axes <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        _, axes = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">20</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">    axes[<span class="number">0</span>].set_title(title)</span><br><span class="line">    <span class="keyword">if</span> ylim <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        axes[<span class="number">0</span>].set_ylim(*ylim)</span><br><span class="line">    axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;训练数据个数&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;得分&quot;</span>)</span><br><span class="line"></span><br><span class="line">    train_sizes, train_scores, test_scores, fit_times, _ = \</span><br><span class="line">        learning_curve(estimator, X, y, cv=cv, n_jobs=n_jobs,</span><br><span class="line">                       train_sizes=train_sizes,</span><br><span class="line">                       return_times=<span class="literal">True</span>)</span><br><span class="line">    train_scores_mean = np.mean(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    train_scores_std = np.std(train_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_mean = np.mean(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    test_scores_std = np.std(test_scores, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_mean = np.mean(fit_times, axis=<span class="number">1</span>)</span><br><span class="line">    fit_times_std = np.std(fit_times, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 绘制学习曲线</span></span><br><span class="line">    axes[<span class="number">0</span>].grid()</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, train_scores_mean - train_scores_std,</span><br><span class="line">                         train_scores_mean + train_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;r&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].fill_between(train_sizes, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>,</span><br><span class="line">                         color=<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, train_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;r&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;训练分数&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].plot(train_sizes, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>, color=<span class="string">&quot;g&quot;</span>,</span><br><span class="line">                 label=<span class="string">&quot;交叉验证分数&quot;</span>)</span><br><span class="line">    axes[<span class="number">0</span>].legend(loc=<span class="string">&quot;best&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot n_samples vs fit_times</span></span><br><span class="line">    axes[<span class="number">1</span>].grid()</span><br><span class="line">    axes[<span class="number">1</span>].plot(train_sizes, fit_times_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].fill_between(train_sizes, fit_times_mean - fit_times_std,</span><br><span class="line">                         fit_times_mean + fit_times_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;训练数据个数&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;拟合时间&quot;</span>)</span><br><span class="line">    axes[<span class="number">1</span>].set_title(<span class="string">&quot;模型可拓展性&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 绘制拟合时间与得分</span></span><br><span class="line">    axes[<span class="number">2</span>].grid()</span><br><span class="line">    axes[<span class="number">2</span>].plot(fit_times_mean, test_scores_mean, <span class="string">&#x27;o-&#x27;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].fill_between(fit_times_mean, test_scores_mean - test_scores_std,</span><br><span class="line">                         test_scores_mean + test_scores_std, alpha=<span class="number">0.1</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_xlabel(<span class="string">&quot;拟合时间&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_ylabel(<span class="string">&quot;得分&quot;</span>)</span><br><span class="line">    axes[<span class="number">2</span>].set_title(<span class="string">&quot;模型表现&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> plt</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">title = <span class="string">&quot;学习曲线 (Adaboost)&quot;</span></span><br><span class="line"></span><br><span class="line">cv = ShuffleSplit(n_splits=<span class="number">10</span>, test_size=<span class="number">0.2</span>, random_state=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">plot_learning_curve(AdaBoostClassifier(n_estimators=<span class="number">100</span>), title, X_scaler, y, ylim=(<span class="number">0.7</span>, <span class="number">1.01</span>),cv=cv, n_jobs=<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_172_1-165310614675873.png" alt="学习曲线"></p><h1>无监督学习</h1><h2 id="数据处理-2">数据处理</h2><p>导入库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> metrics</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br></pre></td></tr></table></figure><p>读取数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_unsupervised = pd.read_table(<span class="string">&quot;agg.txt&quot;</span>, sep=<span class="string">&#x27;\t&#x27;</span>,engine=<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line">df_unsupervised</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>x1</th>      <th>x2</th>      <th>y</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>15.55</td>      <td>28.65</td>      <td>2</td>    </tr>    <tr>      <th>1</th>      <td>14.90</td>      <td>27.55</td>      <td>2</td>    </tr>    <tr>      <th>2</th>      <td>14.45</td>      <td>28.35</td>      <td>2</td>    </tr>    <tr>      <th>3</th>      <td>14.15</td>      <td>28.80</td>      <td>2</td>    </tr>    <tr>      <th>4</th>      <td>13.75</td>      <td>28.05</td>      <td>2</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>783</th>      <td>7.80</td>      <td>3.35</td>      <td>5</td>    </tr>    <tr>      <th>784</th>      <td>8.05</td>      <td>2.75</td>      <td>5</td>    </tr>    <tr>      <th>785</th>      <td>8.50</td>      <td>3.25</td>      <td>5</td>    </tr>    <tr>      <th>786</th>      <td>8.10</td>      <td>3.55</td>      <td>5</td>    </tr>    <tr>      <th>787</th>      <td>8.15</td>      <td>4.00</td>      <td>5</td>    </tr>  </tbody></table><p>788 rows × 3 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_unsupervised.describe()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>x1</th>      <th>x2</th>      <th>y</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>788.000000</td>      <td>788.000000</td>      <td>788.000000</td>    </tr>    <tr>      <th>mean</th>      <td>19.566815</td>      <td>14.171764</td>      <td>3.770305</td>    </tr>    <tr>      <th>std</th>      <td>9.922042</td>      <td>8.089683</td>      <td>1.596305</td>    </tr>    <tr>      <th>min</th>      <td>3.350000</td>      <td>1.950000</td>      <td>1.000000</td>    </tr>    <tr>      <th>25%</th>      <td>11.150000</td>      <td>7.037500</td>      <td>2.000000</td>    </tr>    <tr>      <th>50%</th>      <td>18.225000</td>      <td>11.725000</td>      <td>4.000000</td>    </tr>    <tr>      <th>75%</th>      <td>30.700000</td>      <td>21.962500</td>      <td>5.000000</td>    </tr>    <tr>      <th>max</th>      <td>36.550000</td>      <td>29.150000</td>      <td>7.000000</td>    </tr>  </tbody></table></div><p>绘制散点图</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df_unsupervised.plot.scatter(x=<span class="string">&#x27;x1&#x27;</span>,y=<span class="string">&#x27;x2&#x27;</span>,c=<span class="string">&#x27;y&#x27;</span>,colormap=<span class="string">&#x27;viridis&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_181_0-165310619839974.png" alt="散点图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X_unsupervised = df_unsupervised[[<span class="string">&#x27;x1&#x27;</span> , <span class="string">&#x27;x2&#x27;</span>]]</span><br><span class="line">Y_unsupervised = df_unsupervised[<span class="string">&#x27;y&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="K-means聚类">K-means聚类</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">y_unsupervised_pred=KMeans(n_clusters=<span class="number">5</span>,random_state=<span class="number">9</span>).fit_predict(X_unsupervised)</span><br><span class="line">plt.scatter(X_unsupervised[<span class="string">&#x27;x1&#x27;</span>],X_unsupervised[<span class="string">&#x27;x2&#x27;</span>],c=y_unsupervised_pred)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_185_0-165310623654875.png" alt="K-means聚类"></p><p>轮廓分析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> silhouette_samples, silhouette_score</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&#x27;figure.dpi&#x27;</span>] = <span class="number">300</span> <span class="comment">#分辨率</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>] <span class="comment">#用来正常显示中文标签</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span> <span class="comment">#用来正常显示负号</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.cm <span class="keyword">as</span> cm</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">range_n_clusters = np.arange(<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> n_clusters <span class="keyword">in</span> range_n_clusters:</span><br><span class="line">    <span class="comment"># Create a subplot with 1 row and 2 columns</span></span><br><span class="line">    fig, (ax1, ax2) = plt.subplots(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    fig.set_size_inches(<span class="number">18</span>, <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># The 1st subplot is the silhouette plot</span></span><br><span class="line">    <span class="comment"># The silhouette coefficient can range from -1, 1 but in this example all</span></span><br><span class="line">    <span class="comment"># lie within [-0.1, 1]</span></span><br><span class="line">    ax1.set_xlim([-<span class="number">0.1</span>, <span class="number">1</span>])</span><br><span class="line">    <span class="comment"># The (n_clusters+1)*10 is for inserting blank space between silhouette</span></span><br><span class="line">    <span class="comment"># plots of individual clusters, to demarcate them clearly.</span></span><br><span class="line">    ax1.set_ylim([<span class="number">0</span>, <span class="built_in">len</span>(X) + (n_clusters + <span class="number">1</span>) * <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Initialize the clusterer with n_clusters value and a random generator</span></span><br><span class="line">    <span class="comment"># seed of 10 for reproducibility.</span></span><br><span class="line">    clusterer = KMeans(n_clusters=n_clusters, random_state=<span class="number">10</span>)</span><br><span class="line">    cluster_labels = clusterer.fit_predict(X_unsupervised)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># The silhouette_score gives the average value for all the samples.</span></span><br><span class="line">    <span class="comment"># This gives a perspective into the density and separation of the formed</span></span><br><span class="line">    <span class="comment"># clusters</span></span><br><span class="line">    silhouette_avg = silhouette_score(X_unsupervised, cluster_labels)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;对于簇数为&quot;</span>, n_clusters,<span class="string">&quot;平均轮廓得分 :&quot;</span>, silhouette_avg)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Compute the silhouette scores for each sample</span></span><br><span class="line">    sample_silhouette_values = silhouette_samples(X_unsupervised, cluster_labels)</span><br><span class="line"></span><br><span class="line">    y_lower = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_clusters):</span><br><span class="line">        <span class="comment"># Aggregate the silhouette scores for samples belonging to</span></span><br><span class="line">        <span class="comment"># cluster i, and sort them</span></span><br><span class="line">        ith_cluster_silhouette_values = \</span><br><span class="line">            sample_silhouette_values[cluster_labels == i]</span><br><span class="line"></span><br><span class="line">        ith_cluster_silhouette_values.sort()</span><br><span class="line"></span><br><span class="line">        size_cluster_i = ith_cluster_silhouette_values.shape[<span class="number">0</span>]</span><br><span class="line">        y_upper = y_lower + size_cluster_i</span><br><span class="line"></span><br><span class="line">        color = cm.nipy_spectral(<span class="built_in">float</span>(i) / n_clusters)</span><br><span class="line">        ax1.fill_betweenx(np.arange(y_lower, y_upper),</span><br><span class="line">                          <span class="number">0</span>, ith_cluster_silhouette_values,</span><br><span class="line">                          facecolor=color, edgecolor=color, alpha=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Label the silhouette plots with their cluster numbers at the middle</span></span><br><span class="line">        ax1.text(-<span class="number">0.05</span>, y_lower + <span class="number">0.5</span> * size_cluster_i, <span class="built_in">str</span>(i))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Compute the new y_lower for next plot</span></span><br><span class="line">        y_lower = y_upper + <span class="number">10</span>  <span class="comment"># 10 for the 0 samples</span></span><br><span class="line"></span><br><span class="line">    ax1.set_title(<span class="string">&quot;各簇的轮廓图&quot;</span>)</span><br><span class="line">    ax1.set_xlabel(<span class="string">&quot;廓形系数值&quot;</span>)</span><br><span class="line">    ax1.set_ylabel(<span class="string">&quot;簇标签&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># The vertical line for average silhouette score of all the values</span></span><br><span class="line">    ax1.axvline(x=silhouette_avg, color=<span class="string">&quot;red&quot;</span>, linestyle=<span class="string">&quot;--&quot;</span>)</span><br><span class="line"></span><br><span class="line">    ax1.set_yticks([])  <span class="comment"># Clear the yaxis labels / ticks</span></span><br><span class="line">    ax1.set_xticks([-<span class="number">0.1</span>, <span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2nd Plot showing the actual clusters formed</span></span><br><span class="line">    colors = cm.nipy_spectral(cluster_labels.astype(<span class="built_in">float</span>) / n_clusters)</span><br><span class="line">    ax2.scatter(X_unsupervised[<span class="string">&#x27;x1&#x27;</span>], X_unsupervised[<span class="string">&#x27;x2&#x27;</span>], marker=<span class="string">&#x27;.&#x27;</span>, s=<span class="number">30</span>, lw=<span class="number">0</span>, alpha=<span class="number">0.7</span>,c=colors, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Labeling the clusters</span></span><br><span class="line">    centers = clusterer.cluster_centers_</span><br><span class="line">    <span class="comment"># Draw white circles at cluster centers</span></span><br><span class="line">    ax2.scatter(centers[:, <span class="number">0</span>], centers[:, <span class="number">1</span>], marker=<span class="string">&#x27;o&#x27;</span>,c=<span class="string">&quot;white&quot;</span>, alpha=<span class="number">1</span>, s=<span class="number">200</span>, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(centers):</span><br><span class="line">        ax2.scatter(c[<span class="number">0</span>], c[<span class="number">1</span>], marker=<span class="string">&#x27;$%d$&#x27;</span> % i, alpha=<span class="number">1</span>,</span><br><span class="line">                    s=<span class="number">50</span>, edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    ax2.set_title(<span class="string">&quot;聚类数据的可视化。&quot;</span>)</span><br><span class="line">    ax2.set_xlabel(<span class="string">&quot;第一个特征的特征空间&quot;</span>)</span><br><span class="line">    ax2.set_ylabel(<span class="string">&quot;第二个特征的特征空间&quot;</span>)</span><br><span class="line"></span><br><span class="line">    plt.suptitle((<span class="string">&quot;对样本数据进行KMeans聚类的廓形分析&quot;</span></span><br><span class="line">                  <span class="string">&quot;对于簇数为 %d&quot;</span> % n_clusters),</span><br><span class="line">                 fontsize=<span class="number">14</span>, fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>对于簇数为 2 平均轮廓得分 : 0.4558185732952947对于簇数为 3 平均轮廓得分 : 0.5233926629564977对于簇数为 4 平均轮廓得分 : 0.5236026699214911对于簇数为 5 平均轮廓得分 : 0.4986983771034953对于簇数为 6 平均轮廓得分 : 0.5092643403975724对于簇数为 7 平均轮廓得分 : 0.4809820385173227对于簇数为 8 平均轮廓得分 : 0.45319390110467783对于簇数为 9 平均轮廓得分 : 0.4725748945562861</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_1-165310628544476.png" alt="对于簇数为 2 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_2-165310631126977.png" alt="对于簇数为 3 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_3-165310632689278.png" alt="对于簇数为 4 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_4-165310635130279.png" alt="对于簇数为 5 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_5-165310636855880.png" alt="对于簇数为 6 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_6-165310638366281.png" alt="对于簇数为 7 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_7-165310639688182.png" alt="对于簇数为 8 轮廓分析"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_188_8-165310641933283.png" alt="对于簇数为 9 轮廓分析"></p><h2 id="DBSCAN聚类">DBSCAN聚类</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> DBSCAN</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dbs = DBSCAN(eps=<span class="number">3.5</span>, min_samples=<span class="number">50</span>)</span><br><span class="line">dbs.fit(X_unsupervised)</span><br><span class="line">result = dbs.fit_predict(X_unsupervised)</span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(X_unsupervised[<span class="string">&#x27;x1&#x27;</span>],X_unsupervised[<span class="string">&#x27;x2&#x27;</span>], c=result)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_191_0-165310643367184.png" alt="DBSCAN聚类"></p><p>寻找最优参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">rs= []</span><br><span class="line">eps = np.arange(<span class="number">0.2</span>,<span class="number">5</span>,<span class="number">0.1</span>)</span><br><span class="line">min_samples=np.arange(<span class="number">2</span>,<span class="number">20</span>,<span class="number">1</span>)</span><br><span class="line">best_score=<span class="number">0</span></span><br><span class="line">best_score_eps=<span class="number">0</span></span><br><span class="line">best_score_min_samples=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> eps:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> min_samples:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            db = DBSCAN(eps=i, min_samples=j).fit(X_unsupervised)</span><br><span class="line">            labels= db.labels_</span><br><span class="line">            k=metrics.silhouette_score(X_unsupervised,labels)</span><br><span class="line">            raito = <span class="built_in">len</span>(labels[labels[:] == -<span class="number">1</span>]) / <span class="built_in">len</span>(labels)</span><br><span class="line">            n_clusters_ = <span class="built_in">len</span>(<span class="built_in">set</span>(labels)) - (<span class="number">1</span> <span class="keyword">if</span> -<span class="number">1</span> <span class="keyword">in</span> labels <span class="keyword">else</span> <span class="number">0</span>)</span><br><span class="line">            rs.append([i,j,k,raito,n_clusters_])</span><br><span class="line">            <span class="keyword">if</span> k&gt;best_score:</span><br><span class="line">                best_score=k</span><br><span class="line">                best_score_eps=i</span><br><span class="line">                best_score_min_samples=j</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                db=<span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            db=<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">rs= pd.DataFrame(rs)</span><br><span class="line">rs.columns=[<span class="string">&#x27;eps&#x27;</span>,<span class="string">&#x27;min_samples&#x27;</span>,<span class="string">&#x27;score&#x27;</span>,<span class="string">&#x27;raito&#x27;</span>,<span class="string">&#x27;n_clusters&#x27;</span>]</span><br><span class="line">sns.relplot(x=<span class="string">&quot;eps&quot;</span>,y=<span class="string">&quot;min_samples&quot;</span>, size=<span class="string">&#x27;score&#x27;</span>,data=rs)</span><br><span class="line">sns.relplot(x=<span class="string">&quot;eps&quot;</span>,y=<span class="string">&quot;min_samples&quot;</span>, size=<span class="string">&#x27;raito&#x27;</span>,data=rs)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;最优得分&#x27;</span>,best_score,<span class="string">&#x27;\n最优得分_eps&#x27;</span>,best_score_eps,<span class="string">&#x27;\n最优得分_min_samples&#x27;</span>,best_score_min_samples)</span><br></pre></td></tr></table></figure><pre><code>最优得分 0.4868290825347166 最优得分_eps 1.3000000000000003 最优得分_min_samples 7</code></pre><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_193_1-165310645642385.png" alt="得分图"></p><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_193_2-165310646191186.png" alt="得分图"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">best_model = DBSCAN(eps=best_score_eps, min_samples=best_score_min_samples)</span><br><span class="line">best_model.fit(X_unsupervised)</span><br><span class="line">result = best_model.fit_predict(X_unsupervised)</span><br><span class="line">plt.figure()</span><br><span class="line">plt.scatter(X_unsupervised[<span class="string">&#x27;x1&#x27;</span>],X_unsupervised[<span class="string">&#x27;x2&#x27;</span>], c=result)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/05/21/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/output_194_0-165310648044587.png" alt="DBSCAN聚类"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大数据 </tag>
            
            <tag> Python </tag>
            
            <tag> sklearn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>花瓶的工具库</title>
      <link href="/2022/04/29/%E8%8A%B1%E7%93%B6%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/"/>
      <url>/2022/04/29/%E8%8A%B1%E7%93%B6%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1>前言</h1><h2 id="写在前面-4">写在前面</h2><p>作为一个数学人，我本不应该花时间在电脑上的，应该把自己的身心投入在草稿纸上，所以做这一期博客完完全全是属于没事找事</p><p>在数学建模期间接触了一位计算机的大佬，他给了我关于计算机的全新视角，让我知道了计算机不仅仅可以Dev-C（扪心自问一下，你们下载的Visual Studio和Dev-C有什么实质性的差别嘛？）与打游戏（bushi），还可以有很多方便的应用辅助编程以及资料检索。加上大三上的大创论文训练，我慢慢摸索出一套好用的实用软件。</p><h2 id="我的桌面">我的桌面</h2><p><img src="/2022/04/29/%E8%8A%B1%E7%93%B6%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/image-20220430173847172.png" alt="花瓶的桌面"></p><p>可以看到还是很整洁的，吧~</p><p>下面来一一介绍一些好用的软件tip</p><h1>截屏软件Snipaste</h1><p>官网：<a href="https://zh.snipaste.com/">Snipaste - 截图 + 贴图</a></p><p>免费的截图软件，来自计算机大佬友情推荐！</p><p>按下F1截图，再按下F3贴图</p><p><img src="/2022/04/29/%E8%8A%B1%E7%93%B6%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/Snipaste%E6%BC%94%E7%A4%BA.gif" alt="Snipaste演示"></p><h1>谷歌上网助手</h1><p>可以用chrome浏览器访问谷歌了，拒绝百度搜索从我做起！！！</p><p>链接：http://googlehelper.net/</p><h1>盘download</h1><p>薅百度羊毛的时候到了！！</p><p>链接：https://pandownload.net/document/share.html</p><p>下载速度肉眼可见（愿意花25的朋友请绕道）</p><h1>DeepL翻译器</h1><p>官网：<a href="https://www.deepl.com/translator">DeepL Translate: The world’s most accurate translator</a></p><p>当然你可以在网页上翻译，但是下载专门的APP不是没有它的道理的！</p><p>为什么要推荐这个翻译软件呢？横向比较一下喽~</p><p>效果如图**（双击Ctrl+C 自动弹出翻译）**</p><p><img src="/2022/04/29/%E8%8A%B1%E7%93%B6%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/DeepL%E6%BC%94%E7%A4%BA.gif" alt="DeepL演示"></p><h1>Captura录屏</h1><p>教程：<a href="https://zhuanlan.zhihu.com/p/294895620">免费开源录屏软件 Captura 及 FFmpeg 安装配置教程 - 知乎 (zhihu.com)</a></p><p>其实Windows有自带的录屏软件，但是很不好用！有的时候没有办法录制软件。</p><p>效果展示上面的就是~</p><h1>俄罗斯资源网站RuTracker</h1><p>教程：<a href="https://zhuanlan.zhihu.com/p/478880990">俄罗斯资源网站RuTracker使用教程！黑屏解决方式+无注册下载 - 知乎 (zhihu.com)</a></p><p>我的Adobe就是从那里下载的</p><h1>自定义文件夹图标</h1><p>这个其实没什么技术难度，纯粹就是美化，但是原来的软件图标难道不丑吗？不很想换一个好看点的嘛？</p><ol><li class="lvl-3"><p>图标下载地址：iconfont-阿里巴巴矢量图标库](https://www.iconfont.cn/)</p></li><li class="lvl-3"><p>图片转化为ico格式</p></li><li class="lvl-3"><p>右键点击文件夹–&gt;[属性]–&gt;[快捷方式]–&gt;[更改图标]–&gt;[浏览]，找到自己的ico图标位置就可以啦~</p></li></ol><p>网上的其他教程：https://zhuanlan.zhihu.com/p/163842071</p><h1>动态壁纸软件+透明任务栏</h1><p>steam慎入！！！需要￥18，还是有一点小贵，但是比起一个皮肤来，你拥有的是创意工坊几近于无穷的壁纸。</p><p>透明任务栏：<a href="https://apps.microsoft.com/store/detail/translucenttb%E6%B1%89%E5%8C%96-by-tpxxn/9N5W18JC9BG2?hl=zh-cn&amp;gl=CN">TranslucentTB(汉化 by tpxxn) - Microsoft Store 应用程序</a></p>]]></content>
      
      
      <categories>
          
          <category> 乐子 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实用工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数值分析</title>
      <link href="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/"/>
      <url>/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h1>前言</h1><h2 id="写在前面-2">写在前面</h2><p>因为编程底子差，加之数值分析虽然上课还比较认真，吧（至少在大力老师面前我还是一个乖孩子）。最不能接受的就是课程设计当理论报告写去了，所以索性把数值分析这本书重学了！！</p><p>重学的原因有几点：</p><ol><li class="lvl-3"><p>这是一本友善的英文书籍，虽然大创看过很多英文论文，但是多半是强大的<strong>DeepL</strong>翻译软件帮我克服语言障碍</p></li><li class="lvl-3"><p>未来我需要使用**《机器学习》**里面的东西，大量依赖数值分析的基本方法！什么最速梯度下降啊啥的，太吃数值分析了！！</p></li><li class="lvl-3"><p>因为报告是水过去的嘛(bushi)，所以写一点忏悔一点</p></li></ol><p>所以下面开始了！！</p><h1>单变量方程的解</h1><h2 id="二分法">二分法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Bisection</span><span class="params">(F, endpoint_a, endpoint_b, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> F(endpoint_a) * F(endpoint_b) &lt; <span class="number">0</span></span><br><span class="line">        <span class="built_in">i</span> = <span class="number">0</span>;</span><br><span class="line">        FA = F(endpoint_a);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">            p = (endpoint_a + endpoint_b) / <span class="number">2</span>;</span><br><span class="line">            FP = F(p);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> FP == <span class="number">0</span> || p - endpoint_a &lt; TOL</span><br><span class="line">                zero_point = p;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> FA * FP &gt; <span class="number">0</span></span><br><span class="line">                    endpoint_a = p;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    endpoint_b = p;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            fprintf(<span class="string">&quot;第%d次迭代区间为:[ %f , %f ]\n&quot;</span>, <span class="built_in">i</span>, endpoint_a, endpoint_b);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;无法判断是否存在零点&#x27;</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">log</span>(x) - x^<span class="number">0.5</span> + x - <span class="number">3</span></span><br><span class="line"> </span><br><span class="line">&gt;&gt; Bisection(F, <span class="number">1</span>, <span class="number">10</span>, <span class="number">0.00001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代区间为:[ <span class="number">1.000000</span> , <span class="number">5.500000</span> ]</span><br><span class="line">第<span class="number">2</span>次迭代区间为:[ <span class="number">3.250000</span> , <span class="number">5.500000</span> ]</span><br><span class="line">第<span class="number">3</span>次迭代区间为:[ <span class="number">3.250000</span> , <span class="number">4.375000</span> ]</span><br><span class="line">第<span class="number">4</span>次迭代区间为:[ <span class="number">3.250000</span> , <span class="number">3.812500</span> ]</span><br><span class="line">第<span class="number">5</span>次迭代区间为:[ <span class="number">3.531250</span> , <span class="number">3.812500</span> ]</span><br><span class="line">第<span class="number">6</span>次迭代区间为:[ <span class="number">3.531250</span> , <span class="number">3.671875</span> ]</span><br><span class="line">第<span class="number">7</span>次迭代区间为:[ <span class="number">3.601563</span> , <span class="number">3.671875</span> ]</span><br><span class="line">第<span class="number">8</span>次迭代区间为:[ <span class="number">3.601563</span> , <span class="number">3.636719</span> ]</span><br><span class="line">第<span class="number">9</span>次迭代区间为:[ <span class="number">3.601563</span> , <span class="number">3.619141</span> ]</span><br><span class="line">第<span class="number">10</span>次迭代区间为:[ <span class="number">3.610352</span> , <span class="number">3.619141</span> ]</span><br><span class="line">第<span class="number">11</span>次迭代区间为:[ <span class="number">3.614746</span> , <span class="number">3.619141</span> ]</span><br><span class="line">第<span class="number">12</span>次迭代区间为:[ <span class="number">3.614746</span> , <span class="number">3.616943</span> ]</span><br><span class="line">第<span class="number">13</span>次迭代区间为:[ <span class="number">3.615845</span> , <span class="number">3.616943</span> ]</span><br><span class="line">第<span class="number">14</span>次迭代区间为:[ <span class="number">3.615845</span> , <span class="number">3.616394</span> ]</span><br><span class="line">第<span class="number">15</span>次迭代区间为:[ <span class="number">3.616119</span> , <span class="number">3.616394</span> ]</span><br><span class="line">第<span class="number">16</span>次迭代区间为:[ <span class="number">3.616119</span> , <span class="number">3.616257</span> ]</span><br><span class="line">第<span class="number">17</span>次迭代区间为:[ <span class="number">3.616188</span> , <span class="number">3.616257</span> ]</span><br><span class="line">第<span class="number">18</span>次迭代区间为:[ <span class="number">3.616188</span> , <span class="number">3.616222</span> ]</span><br><span class="line">第<span class="number">19</span>次迭代区间为:[ <span class="number">3.616205</span> , <span class="number">3.616222</span> ]</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.6162</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="定点迭代法">定点迭代法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Fixed_Point</span><span class="params">(g, p_0, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line"></span><br><span class="line">        p = g(p_0);</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_0) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            p_0 = p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;超出最大迭代次数，无法判断零点&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; g = @(x) <span class="number">0.5</span> * (<span class="number">10</span> - x^<span class="number">3</span>)^<span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Fixed_Point(g, <span class="number">1.5</span>, <span class="number">0.0001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">1.286954</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">1.402541</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">1.345458</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">1.375170</span></span><br><span class="line">第<span class="number">5</span>次迭代结果为:<span class="number">1.360094</span></span><br><span class="line">第<span class="number">6</span>次迭代结果为:<span class="number">1.367847</span></span><br><span class="line">第<span class="number">7</span>次迭代结果为:<span class="number">1.363887</span></span><br><span class="line">第<span class="number">8</span>次迭代结果为:<span class="number">1.365917</span></span><br><span class="line">第<span class="number">9</span>次迭代结果为:<span class="number">1.364878</span></span><br><span class="line">第<span class="number">10</span>次迭代结果为:<span class="number">1.365410</span></span><br><span class="line">第<span class="number">11</span>次迭代结果为:<span class="number">1.365138</span></span><br><span class="line">第<span class="number">12</span>次迭代结果为:<span class="number">1.365277</span></span><br><span class="line">第<span class="number">13</span>次迭代结果为:<span class="number">1.365206</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.3652</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="牛顿法及其拓展">牛顿法及其拓展</h2><h3 id="牛顿迭代法">牛顿迭代法</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><mrow><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p_n = p_{n-1} - \frac{f(p_{n-1})}{f&#x27;(p_{n-1})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6779em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Newton</span><span class="params">(F, p_0, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">    f = sym(F); <span class="comment">%转符号函数，只是为了求个导</span></span><br><span class="line">    df = diff(f); <span class="comment">%激动人心的求导环节</span></span><br><span class="line">    dF = matlabFunction(df); <span class="comment">%符号函数转回匿名函数，原因竟是我不知道如何使用符号函数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">        p = p_0 - F(p_0) / dF(p_0);</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_0) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            p_0 = p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;超出最大迭代次数，无法判断零点&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">log</span>(x) - x^<span class="number">0.5</span> + x - <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Newton(F, <span class="number">1</span>, <span class="number">0.00001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">3.000000</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">3.606360</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">3.616205</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">3.616207</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.6162</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="割线法">割线法</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo stretchy="false">)</mo></mrow><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p_n = p_{n-1} - \frac{f(p_{n-1})(p_{n-1} - p_{n-2})}{f(p_{n-1}) - f(p_{n-2})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Secant</span><span class="params">(F, p_0, p_1, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">2</span>;</span><br><span class="line">    q_0 = F(p_0);</span><br><span class="line">    q_1 = F(p_1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">        p = p_1 - q_1 * (p_1 - p_0) / (q_1 - q_0);</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span> - <span class="number">1</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_1) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            p_0 = p_1;</span><br><span class="line">            q_0 = q_1;</span><br><span class="line">            p_1 = p;</span><br><span class="line">            q_1 = F(p);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">log</span>(x) - x^<span class="number">0.5</span> + x - <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Secant(F, <span class="number">1</span>, <span class="number">10</span>, <span class="number">0.00001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">3.953949</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">3.599312</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">3.616313</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">3.616207</span></span><br><span class="line">第<span class="number">5</span>次迭代结果为:<span class="number">3.616207</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.6162</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="试位法">试位法</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">False_Position</span><span class="params">(F, p_0, p_1, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">2</span>;</span><br><span class="line">    q_0 = F(p_0);</span><br><span class="line">    q_1 = F(p_1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">        fprintf(<span class="string">&quot;第%d次迭代后，根所在的区间为:[ %f , %f ]\n&quot;</span>, <span class="built_in">i</span> - <span class="number">1</span>, p_0, p_1);</span><br><span class="line">        p = p_1 - q_1 * (p_1 - p_0) / (q_1 - q_0);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_1) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            q = F(p);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> q_0 * q &lt; <span class="number">0</span> <span class="comment">% 迭代后的值与左边同号</span></span><br><span class="line">                p_0 = p;</span><br><span class="line">                p_1 = p_1;</span><br><span class="line">                q_0 = q;</span><br><span class="line">                q_1 = q_1;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                p_0 = p_0;</span><br><span class="line">                p_1 = p;</span><br><span class="line">                q_0 = q_0;</span><br><span class="line">                q_1 = q_1;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">log</span>(x) - x^<span class="number">0.5</span> + x - <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; False_Position(F, <span class="number">1</span>, <span class="number">10</span>, <span class="number">0.00001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代后，根所在的区间为:[ <span class="number">1.000000</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">2</span>次迭代后，根所在的区间为:[ <span class="number">3.953949</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">3</span>次迭代后，根所在的区间为:[ <span class="number">3.599312</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">4</span>次迭代后，根所在的区间为:[ <span class="number">3.617119</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">5</span>次迭代后，根所在的区间为:[ <span class="number">3.616158</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">6</span>次迭代后，根所在的区间为:[ <span class="number">3.616210</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">7</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">8</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">9</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">10</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">11</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">12</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">13</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">14</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">10.000000</span> ]</span><br><span class="line">第<span class="number">15</span>次迭代后，根所在的区间为:[ <span class="number">3.616207</span> , <span class="number">3.616207</span> ]</span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">3.6162</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="重根问题">重根问题</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mfrac><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mo stretchy="false">[</mo><msup><mi>f</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo><msup><mo stretchy="false">]</mo><mn>2</mn></msup><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo><msup><mi>f</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo stretchy="false">(</mo><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p_n = p_{n-1} - \frac{f(p_n)f&#x27;(p_n)}{[f&#x27;(p_n)]^2 - f(p_n)f&#x27;&#x27;(p_n)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3649em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4289em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6779em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6779em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Modified_Newton</span><span class="params">(F, p_0, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">    f = sym(F);</span><br><span class="line">    df = diff(f);</span><br><span class="line">    ddf = diff(df);</span><br><span class="line">    dF = matlabFunction(df);</span><br><span class="line">    ddF = matlabFunction(ddf);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">        p = p_0 - F(p_0) * dF(p_0) / dF(p_0)^<span class="number">2</span> - F(p_0) * ddF(p_0);</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_0) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            p_0 = p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;超出最大迭代次数，无法判断零点&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x) <span class="built_in">exp</span>(x) - x - <span class="number">1</span> <span class="comment">% 在零处为二重根</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Modified_Newton(F, <span class="number">10</span>, <span class="number">0.0000001</span>, <span class="number">10000000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">-484922895.285593</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">-1.000000</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">-0.553359</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">-0.325108</span></span><br><span class="line">第<span class="number">5</span>次迭代结果为:<span class="number">-0.188120</span></span><br><span class="line">第<span class="number">6</span>次迭代结果为:<span class="number">-0.104895</span></span><br><span class="line">第<span class="number">7</span>次迭代结果为:<span class="number">-0.056316</span></span><br><span class="line">第<span class="number">8</span>次迭代结果为:<span class="number">-0.029365</span></span><br><span class="line">第<span class="number">9</span>次迭代结果为:<span class="number">-0.015025</span></span><br><span class="line">第<span class="number">10</span>次迭代结果为:<span class="number">-0.007604</span></span><br><span class="line">第<span class="number">11</span>次迭代结果为:<span class="number">-0.003826</span></span><br><span class="line">第<span class="number">12</span>次迭代结果为:<span class="number">-0.001919</span></span><br><span class="line">第<span class="number">13</span>次迭代结果为:<span class="number">-0.000961</span></span><br><span class="line">第<span class="number">14</span>次迭代结果为:<span class="number">-0.000481</span></span><br><span class="line">第<span class="number">15</span>次迭代结果为:<span class="number">-0.000241</span></span><br><span class="line">第<span class="number">16</span>次迭代结果为:<span class="number">-0.000120</span></span><br><span class="line">第<span class="number">17</span>次迭代结果为:<span class="number">-0.000060</span></span><br><span class="line">第<span class="number">18</span>次迭代结果为:<span class="number">-0.000030</span></span><br><span class="line">第<span class="number">19</span>次迭代结果为:<span class="number">-0.000015</span></span><br><span class="line">第<span class="number">20</span>次迭代结果为:<span class="number">-0.000008</span></span><br><span class="line">第<span class="number">21</span>次迭代结果为:<span class="number">-0.000004</span></span><br><span class="line">第<span class="number">22</span>次迭代结果为:<span class="number">-0.000002</span></span><br><span class="line">第<span class="number">23</span>次迭代结果为:<span class="number">-0.000001</span></span><br><span class="line">第<span class="number">24</span>次迭代结果为:<span class="number">-0.000000</span></span><br><span class="line">第<span class="number">25</span>次迭代结果为:<span class="number">-0.000000</span></span><br><span class="line">第<span class="number">26</span>次迭代结果为:<span class="number">-0.000000</span></span><br><span class="line">第<span class="number">27</span>次迭代结果为:<span class="number">-0.000000</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">-5.8954e-08</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="加速收敛法">加速收敛法</h2><h3 id="Steffensen法">Steffensen法</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Δ</mi><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>p</mi><mi>n</mi></msub><mspace linebreak="newline"></mspace><msup><mi mathvariant="normal">Δ</mi><mi>k</mi></msup><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><mi mathvariant="normal">Δ</mi><mo stretchy="false">(</mo><msup><mi mathvariant="normal">Δ</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msup><msub><mi>p</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><msub><mi>p</mi><mi>n</mi></msub><mo>=</mo><msub><mi>p</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>p</mi><mi>n</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><msup><mi mathvariant="normal">Δ</mi><mn>2</mn></msup><msub><mi>p</mi><mi>n</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\Delta p_n = p_{n+1} - p_n \\\Delta ^k p_n = \Delta(\Delta ^{k-1} p_n) \\ \\p_n = p_{n-1} - \frac{(\Delta p_n)^2}{\Delta ^2 p_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">Δ</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0935em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1491em;vertical-align:-0.25em;"></span><span class="mord">Δ</span><span class="mopen">(</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3715em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">Δ</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Steffensen</span><span class="params">(g, p_0, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line">        p_1 = g(p_0);</span><br><span class="line">        p_2 = g(p_1);</span><br><span class="line">        p = p_0 - (p_1 - p_0)^<span class="number">2</span> / (p_2 - <span class="number">2</span> * p_1 + p_0);</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(p - p_0) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">            p_0 = p;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; g = @(x) <span class="number">0.5</span> * (<span class="number">10</span> - x^<span class="number">3</span>)^<span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Steffensen(g, <span class="number">1.5</span>, <span class="number">0.0001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">1.361886</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">1.365228</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">1.365230</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.3652</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Fixed_Point(g, <span class="number">1.5</span>, <span class="number">0.0001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">1.286954</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">1.402541</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">1.345458</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">1.375170</span></span><br><span class="line">第<span class="number">5</span>次迭代结果为:<span class="number">1.360094</span></span><br><span class="line">第<span class="number">6</span>次迭代结果为:<span class="number">1.367847</span></span><br><span class="line">第<span class="number">7</span>次迭代结果为:<span class="number">1.363887</span></span><br><span class="line">第<span class="number">8</span>次迭代结果为:<span class="number">1.365917</span></span><br><span class="line">第<span class="number">9</span>次迭代结果为:<span class="number">1.364878</span></span><br><span class="line">第<span class="number">10</span>次迭代结果为:<span class="number">1.365410</span></span><br><span class="line">第<span class="number">11</span>次迭代结果为:<span class="number">1.365138</span></span><br><span class="line">第<span class="number">12</span>次迭代结果为:<span class="number">1.365277</span></span><br><span class="line">第<span class="number">13</span>次迭代结果为:<span class="number">1.365206</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.3652</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="多项式的零点及Muller方法">多项式的零点及Muller方法</h2><h3 id="Hoener">Hoener</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[y, z]</span> = <span class="title">Horner</span><span class="params">(n, aa, x_0)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">disp</span>(<span class="string">&#x27;多项式为：&#x27;</span>)</span><br><span class="line">    poly2sym(<span class="built_in">fliplr</span>(aa))</span><br><span class="line">    y = aa(n + <span class="number">1</span>);</span><br><span class="line">    z = aa(n + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = n - <span class="number">1</span>:<span class="number">-1</span>:<span class="number">1</span></span><br><span class="line">        y = x_0 * y + aa(<span class="built_in">j</span> + <span class="number">1</span>);</span><br><span class="line">        z = x_0 * z + y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    y = x_0 * y + aa(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; aa = [<span class="number">-4</span>, <span class="number">3</span>, <span class="number">-3</span>, <span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [p, p_1] = Horner(<span class="number">4</span>, aa, <span class="number">-2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Muller">Muller</h3><p><strong>其实书上没讲多细，连证明收敛性都没有，讲真书上代码很牵强</strong></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zero_point</span> = <span class="title">Muller</span><span class="params">(F, p_0, p_1, p_2, TOL, N)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">3</span>;</span><br><span class="line">    h1 = p_1 - p_0;</span><br><span class="line">    h2 = p_2 - p_1;</span><br><span class="line">    f1 = (F(p_1) - F(p_0)) / h1;</span><br><span class="line">    f2 = (F(p_2) - F(p_1)) / h2;</span><br><span class="line">    a = (f2 - f1) / (h2 + h1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &lt; N</span><br><span class="line"></span><br><span class="line">        b = f2 + h2 * a;</span><br><span class="line">        c = F(p_2);</span><br><span class="line">        delta = (b^<span class="number">2</span> - <span class="number">4</span> * a * c)^<span class="number">0.5</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(b - delta) &lt; <span class="built_in">abs</span>(b + delta)</span><br><span class="line"></span><br><span class="line">            e = b + delta;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            e = b - delta;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        h = <span class="number">-2</span> * c / e;</span><br><span class="line">        p = p_2 + h;</span><br><span class="line">        fprintf(<span class="string">&#x27;第%d次迭代结果为:%f\n&#x27;</span>, <span class="built_in">i</span> - <span class="number">2</span>, p);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(h) &lt; TOL</span><br><span class="line">            zero_point = p;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        p_0 = p_1;</span><br><span class="line">        p_1 = p_2;</span><br><span class="line">        p_2 = p;</span><br><span class="line">        h1 = p_1 - p_0;</span><br><span class="line">        h2 = p_2 - p_1;</span><br><span class="line">        f1 = (F(p_1) - F(p_0)) / h1;</span><br><span class="line">        f2 = (F(p_2) - F(p_1)) / h2;</span><br><span class="line">        a = (f2 - f1) / (h2 + h1);</span><br><span class="line">        <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">i</span> &gt;= N</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)x^<span class="number">4</span> - <span class="number">3</span> * x^<span class="number">3</span> + x^<span class="number">2</span> + x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Muller(F, <span class="number">0.5</span>, <span class="number">-0.5</span>, <span class="number">0</span>, <span class="number">0.00001</span>, <span class="number">100000</span>)</span><br><span class="line">第<span class="number">1</span>次迭代结果为:<span class="number">-0.100000</span></span><br><span class="line">第<span class="number">2</span>次迭代结果为:<span class="number">-0.492146</span></span><br><span class="line">第<span class="number">3</span>次迭代结果为:<span class="number">-0.352226</span></span><br><span class="line">第<span class="number">4</span>次迭代结果为:<span class="number">-0.340229</span></span><br><span class="line">第<span class="number">5</span>次迭代结果为:<span class="number">-0.339095</span></span><br><span class="line">第<span class="number">6</span>次迭代结果为:<span class="number">-0.339093</span></span><br><span class="line">第<span class="number">7</span>次迭代结果为:<span class="number">-0.339093</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">  <span class="number">-0.3391</span> - <span class="number">0.4466</span><span class="built_in">i</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>插值多项式逼近</h1><h2 id="Lagrange插值法">Lagrange插值法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">P</span> = <span class="title">Lagrange</span><span class="params">(F, xx, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    P = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    n = n - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        m = <span class="number">1</span>;</span><br><span class="line">        d = <span class="number">1</span>;</span><br><span class="line">        yy(k + <span class="number">1</span>) = F(xx(k + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">i</span> == k</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">% 为何+1：matlab数组的存储次序是从1开始，书上的算法是从x_0开始的</span></span><br><span class="line">            m = m * (x - xx(<span class="built_in">i</span> + <span class="number">1</span>));</span><br><span class="line">            d = d * (xx(k + <span class="number">1</span>) - xx(<span class="built_in">i</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        L = m / d;</span><br><span class="line">        P = P + L * yy(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    simplify(P) <span class="comment">% 化简，不然答案很乱</span></span><br><span class="line">    p = matlabFunction(P);</span><br><span class="line">    fplot(F, [endpoint_a, endpoint_b]); <span class="built_in">hold</span> on;</span><br><span class="line">    <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>); <span class="built_in">hold</span> on;</span><br><span class="line">    fplot(p, [endpoint_a, endpoint_b]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; xx = [<span class="number">2</span>, <span class="number">2.75</span>, <span class="number">4</span>]</span><br><span class="line">&gt;&gt; yy = <span class="number">1</span> ./ xx</span><br><span class="line"></span><br><span class="line">&gt;&gt; P = Lagrange(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line">&gt;&gt; fplot(P, [<span class="number">0.5</span>, <span class="number">5</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line">&gt;&gt; fplot(@(x)<span class="number">1</span> ./ x, [<span class="number">0.5</span>, <span class="number">5</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;拉格朗日插值多项式P(x)&#x27;</span>, <span class="string">&#x27;y=1/x&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E6%8F%92%E5%80%BC.png" alt="拉格朗日插值"></p><h2 id="Neville插值法">Neville插值法</h2><h3 id="Neville插值多项式">Neville插值多项式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Q</span> = <span class="title">Neville</span><span class="params">(xx, yy)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    n = n - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    QQ(<span class="number">1</span>, <span class="number">1</span>) = x; <span class="comment">%你先这么做，后面会覆盖掉，matalb这个初始化不好使</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        QQ(k + <span class="number">1</span>, <span class="number">1</span>) = yy(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            QQ(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span> + <span class="number">1</span>) = ((x - xx(<span class="built_in">i</span> - <span class="built_in">j</span> +<span class="number">1</span>)) * QQ(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span>) - (x - xx(<span class="built_in">i</span> +<span class="number">1</span>)) * QQ(<span class="built_in">i</span>, <span class="built_in">j</span>)) / (xx(<span class="built_in">i</span> + <span class="number">1</span>) - xx(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    Q = QQ(n + <span class="number">1</span>, n + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    simplify(Q);</span><br><span class="line">    Q = matlabFunction(Q);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">disp</span>(<span class="string">&#x27;Neville插值表为:&#x27;</span>)</span><br><span class="line">    QQ</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; xx = [<span class="number">1</span>, <span class="number">1.3</span>, <span class="number">1.6</span>, <span class="number">1.9</span>, <span class="number">2.2</span>]</span><br><span class="line">&gt;&gt; yy = [<span class="number">0.7651977</span>, <span class="number">0.6200860</span>, <span class="number">0.4554022</span>, <span class="number">0.2818186</span>, <span class="number">0.1103623</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; Q = Neville(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line">&gt;&gt; fplot(Q, [<span class="number">0.5</span>, <span class="number">5</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;Neville插值多项式Q(x)&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/Neville%E6%8F%92%E5%80%BC%E5%A4%9A%E9%A1%B9%E5%BC%8F.png" alt="Neville插值多项式"></p><h3 id="Neville插值表求值">Neville插值表求值</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QQ</span> = <span class="title">NevilleTable</span><span class="params">(xx, yy, TOL, x)</span></span></span><br><span class="line"></span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    QQ = <span class="built_in">zeros</span>(n, n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        QQ(k, <span class="number">1</span>) = yy(k);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            QQ(<span class="built_in">i</span>, <span class="built_in">j</span>) = ((x - xx(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>)) * QQ(<span class="built_in">i</span>, <span class="built_in">j</span> - <span class="number">1</span>) - (x - xx(<span class="built_in">i</span>)) * QQ(<span class="built_in">i</span> - <span class="number">1</span>, <span class="built_in">j</span> - <span class="number">1</span>)) / (xx(<span class="built_in">i</span>) - xx(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(QQ(<span class="built_in">i</span>, <span class="built_in">i</span>) - QQ(<span class="built_in">i</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) &lt; TOL <span class="comment">%停止条件判断</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; xx = [<span class="number">1</span>, <span class="number">1.3</span>, <span class="number">1.6</span>, <span class="number">1.9</span>, <span class="number">2.2</span>]</span><br><span class="line">&gt;&gt; yy = [<span class="number">0.7651977</span>, <span class="number">0.6200860</span>, <span class="number">0.4554022</span>, <span class="number">0.2818186</span>, <span class="number">0.1103623</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; NevilleTable(xx, yy, <span class="number">0.0001</span>, <span class="number">1.5</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.7652</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">0.6201</span>    <span class="number">0.5233</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">0.4554</span>    <span class="number">0.5103</span>    <span class="number">0.5125</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">0.2818</span>    <span class="number">0.5133</span>    <span class="number">0.5113</span>    <span class="number">0.5118</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">0.1104</span>    <span class="number">0.5104</span>    <span class="number">0.5137</span>    <span class="number">0.5118</span>    <span class="number">0.5118</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="牛顿插值法">牛顿插值法</h2><h3 id="牛顿插值多项式">牛顿插值多项式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span> = <span class="title">Newton_Divided_Difference</span><span class="params">(xx, ff)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    n = n - <span class="number">1</span>;</span><br><span class="line">    FF = <span class="built_in">zeros</span>(n, n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        FF(k + <span class="number">1</span>, <span class="number">1</span>) = ff(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span> + <span class="number">1</span>) = (FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span>) - FF(<span class="built_in">i</span>, <span class="built_in">j</span>)) / (xx(<span class="built_in">i</span> + <span class="number">1</span>) - xx(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    FF</span><br><span class="line"></span><br><span class="line">    F = FF(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        f = FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line">            f = f * (x - xx(<span class="built_in">j</span>));</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        F = F + f;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    simplify(F);</span><br><span class="line">    F = matlabFunction(F);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; xx = [<span class="number">1</span>, <span class="number">1.3</span>, <span class="number">1.6</span>, <span class="number">1.9</span>, <span class="number">2.2</span>]</span><br><span class="line">&gt;&gt; yy = [<span class="number">0.7651977</span>, <span class="number">0.6200860</span>, <span class="number">0.4554022</span>, <span class="number">0.2818186</span>, <span class="number">0.1103623</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = Newton_Divided_Difference(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>)</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line">&gt;&gt; fplot(F, [<span class="number">0</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;牛顿插值多项式F(x)&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E7%89%9B%E9%A1%BF%E6%8F%92%E5%80%BC%E5%A4%9A%E9%A1%B9%E5%BC%8F.png" alt="牛顿插值多项式"></p><h3 id="牛顿前插公式">牛顿前插公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F_x</span> = <span class="title">Newton_Forward_Difference</span><span class="params">(F, x_0, n, step_length, TOL, x)</span></span></span><br><span class="line"></span><br><span class="line">    FF = <span class="built_in">zeros</span>(n + <span class="number">1</span>, n + <span class="number">1</span>);</span><br><span class="line">    s = (x - x_0) / step_length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        xx(k + <span class="number">1</span>) = x_0 + k * step_length;</span><br><span class="line">        yy(k + <span class="number">1</span>) = F(xx(k + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        FF(k + <span class="number">1</span>, <span class="number">1</span>) = yy(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span> + <span class="number">1</span>) = (FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span>) - FF(<span class="built_in">i</span>, <span class="built_in">j</span>)) / (xx(<span class="built_in">i</span> + <span class="number">1</span>) - xx(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">i</span> + <span class="number">1</span>)) &lt; TOL</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    FF</span><br><span class="line"></span><br><span class="line">    F_x = FF(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        ss = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line">            ss = ss * (s - <span class="built_in">j</span> + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        f = FF(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">i</span> + <span class="number">1</span>) * step_length^<span class="built_in">i</span> * ss;</span><br><span class="line"></span><br><span class="line">        F_x = F_x + f;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    fprintf(<span class="string">&#x27;比较：F(x) = %f&#x27;</span>, F(x));</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="牛顿后插公式">牛顿后插公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F_x</span> = <span class="title">Newton_Backward_Difference</span><span class="params">(F, x_n, n, step_length, TOL, x)</span></span></span><br><span class="line"></span><br><span class="line">    FF = <span class="built_in">zeros</span>(n + <span class="number">1</span>, n + <span class="number">1</span>);</span><br><span class="line">    s = (x - x_n) / step_length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">%其实完完全全不需要这么麻烦，你其实可以把之前前插公式的代码的x倒过来，答案是一样的</span></span><br><span class="line">    <span class="keyword">for</span> k = n:<span class="number">-1</span>:<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        xx(k + <span class="number">1</span>) = x_n - (n - k) * step_length;</span><br><span class="line">        yy(k + <span class="number">1</span>) = F(xx(k + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        FF(k + <span class="number">1</span>, <span class="number">1</span>) = yy(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            FF(n - <span class="built_in">i</span> + <span class="built_in">j</span> + <span class="number">1</span>, <span class="built_in">j</span> + <span class="number">1</span>) = (FF(n - <span class="built_in">i</span> + <span class="built_in">j</span> + <span class="number">1</span>, <span class="built_in">j</span>) - FF(n - <span class="built_in">i</span> + <span class="built_in">j</span>, <span class="built_in">j</span>)) / (xx(n - <span class="built_in">i</span> + <span class="built_in">j</span> + <span class="number">1</span>) - xx(n - <span class="built_in">i</span> + <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(FF(n + <span class="number">1</span>, <span class="built_in">i</span> + <span class="number">1</span>)) &lt; TOL</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    FF</span><br><span class="line"></span><br><span class="line">    F_x = FF(n + <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        ss = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line">            ss = ss * (s + <span class="built_in">j</span> - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        f = FF(n + <span class="number">1</span>, <span class="built_in">i</span> + <span class="number">1</span>) * step_length^<span class="built_in">i</span> * ss;</span><br><span class="line"></span><br><span class="line">        F_x = F_x + f;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    fprintf(<span class="string">&#x27;比较：F(x) = %f&#x27;</span>, F(x));</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Stirling">Stirling</h3><p>书上没写原理，可以理解成耍流氓吗？</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F_x</span> = <span class="title">Stirling</span><span class="params">(F, x_0, n, step_length, TOL, x)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">mod</span>(n, <span class="number">2</span>) == <span class="number">1</span> <span class="comment">% n一定为偶数</span></span><br><span class="line">        n = n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    FF = <span class="built_in">zeros</span>(n + <span class="number">1</span>, n + <span class="number">1</span>);</span><br><span class="line">    s = (x - x_0) / step_length;</span><br><span class="line"></span><br><span class="line">    m = n / <span class="number">2</span>;</span><br><span class="line">    xx(m + <span class="number">1</span>) = x_0; <span class="comment">% m+1为正中间初始点</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:m</span><br><span class="line">        xx(m + <span class="number">1</span> + k) = x_0 + k * step_length;</span><br><span class="line">        xx(m + <span class="number">1</span> - k) = x_0 - k * step_length;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        FF(k, <span class="number">1</span>) = F(xx(k));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    mark = n + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">mod</span>(<span class="built_in">i</span>, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">                FF((m + <span class="number">1</span>) + <span class="built_in">i</span> / <span class="number">2</span>, <span class="built_in">j</span>) = (FF((m + <span class="number">1</span>) + <span class="built_in">i</span> / <span class="number">2</span>, <span class="built_in">j</span> - <span class="number">1</span>) - FF((m + <span class="number">1</span>) + <span class="built_in">i</span> / <span class="number">2</span> - <span class="number">1</span>, <span class="built_in">j</span> - <span class="number">1</span>)) / (xx((m + <span class="number">1</span>) + <span class="built_in">i</span> / <span class="number">2</span>) - xx((m + <span class="number">1</span>) + <span class="built_in">i</span> / <span class="number">2</span> - (<span class="built_in">j</span> - <span class="number">1</span>)));</span><br><span class="line">                FF((m + <span class="number">1</span>) - <span class="built_in">i</span> / <span class="number">2</span> + <span class="built_in">j</span> - <span class="number">1</span>, <span class="built_in">j</span>) = (FF((m + <span class="number">1</span>) - <span class="built_in">i</span> / <span class="number">2</span> + <span class="built_in">j</span> - <span class="number">1</span>, <span class="built_in">j</span> - <span class="number">1</span>) - FF((m + <span class="number">1</span>) - <span class="built_in">i</span> / <span class="number">2</span> + <span class="built_in">j</span> - <span class="number">2</span>, <span class="built_in">j</span> - <span class="number">1</span>)) / (xx((m + <span class="number">1</span>) - <span class="built_in">i</span> / <span class="number">2</span> + <span class="built_in">j</span> - <span class="number">1</span>) - xx((m + <span class="number">1</span>) - <span class="built_in">i</span> / <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            FF((m + <span class="number">1</span>) + (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>, <span class="built_in">i</span>) = (FF((m + <span class="number">1</span>) + (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>, <span class="built_in">i</span> - <span class="number">1</span>) - FF((m + <span class="number">1</span>) + (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) / (xx((m + <span class="number">1</span>) + (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>) - xx((m + <span class="number">1</span>) - (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(FF((m + <span class="number">1</span>) + (<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>, <span class="built_in">i</span>)) &lt; TOL</span><br><span class="line"></span><br><span class="line">                mark = <span class="built_in">i</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    F_x = FF(m + <span class="number">1</span>, <span class="number">1</span>) + s * step_length * (FF(m + <span class="number">1</span>, <span class="number">2</span>) + FF(m + <span class="number">2</span>, <span class="number">2</span>)) / <span class="number">2</span> + s^<span class="number">2</span> * step_length^<span class="number">2</span> * FF(m + <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> mark &gt; <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        S1 = <span class="number">1</span>;</span><br><span class="line">        S2 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> k = <span class="number">4</span>:n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">mod</span>(k, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">                S1 = S1 * (s^<span class="number">2</span> - (k / <span class="number">2</span> - <span class="number">1</span>)^<span class="number">2</span>);</span><br><span class="line">                F_x = F_x + (FF((m + <span class="number">1</span>) + k / <span class="number">2</span>, k) +FF((m + <span class="number">1</span>) + k / <span class="number">2</span> - <span class="number">1</span>, k)) * (s * S1) * step_length^(k - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">                S2 = S2 * (s^<span class="number">2</span> - (k / <span class="number">2</span> - <span class="number">1</span>/<span class="number">2</span>)^<span class="number">2</span>);</span><br><span class="line">                F_x = F_x + FF((m + <span class="number">1</span>) + (k - <span class="number">1</span>) / <span class="number">2</span>, k) * (s^<span class="number">2</span> * S2) * step_length^(k - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>比较一下下面的两个差距，明白前插与后插的区别，就近原则嘛~</strong></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x) <span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Newton_Forward_Difference(F, <span class="number">0</span>, <span class="number">8</span>, <span class="number">0.3</span>, <span class="number">0.01</span>, <span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Newton_Forward_Difference(F, <span class="number">0</span>, <span class="number">8</span>, <span class="number">0.3</span>, <span class="number">0.01</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; Newton_Backward_Difference(F, <span class="number">2</span>, <span class="number">8</span>, <span class="number">0.3</span>, <span class="number">0.01</span>, <span class="number">1.8</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Newton_Backward_Difference(F, <span class="number">2</span>, <span class="number">8</span>, <span class="number">0.3</span>, <span class="number">0.01</span>, <span class="number">0.2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Hermite插值">Hermite插值</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">H</span> = <span class="title">Hermite</span><span class="params">(xx, ff, dff)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    Q = <span class="built_in">zeros</span>(<span class="number">2</span> * n, <span class="number">2</span> * n);</span><br><span class="line">    n = n - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n + <span class="number">1</span></span><br><span class="line">        z(<span class="number">2</span> * k - <span class="number">1</span>) = xx(k);</span><br><span class="line">        z(<span class="number">2</span> * k) = xx(k);</span><br><span class="line">        Q(<span class="number">2</span> * k - <span class="number">1</span>, <span class="number">1</span>) = ff(k);</span><br><span class="line">        Q(<span class="number">2</span> * k, <span class="number">1</span>) = ff(k);</span><br><span class="line">        Q(<span class="number">2</span> * k, <span class="number">2</span>) = dff(k);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> k &gt; <span class="number">1</span></span><br><span class="line">            Q(<span class="number">2</span> * k - <span class="number">1</span>, <span class="number">2</span>) = (Q(<span class="number">2</span> * k - <span class="number">1</span>, <span class="number">1</span>) - Q(<span class="number">2</span> * k - <span class="number">2</span>, <span class="number">1</span>)) / (z(<span class="number">2</span> * k - <span class="number">1</span>) - z(<span class="number">2</span> * k - <span class="number">2</span>));</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:<span class="number">2</span> * n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:<span class="built_in">i</span></span><br><span class="line">            Q(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span> + <span class="number">1</span>) = (Q(<span class="built_in">i</span> + <span class="number">1</span>, <span class="built_in">j</span>) - Q(<span class="built_in">i</span>, <span class="built_in">j</span>)) / (z(<span class="built_in">i</span> + <span class="number">1</span>) - z(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    H = Q(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    omega = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:<span class="number">2</span> * n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        omega = omega * (x - z(k));</span><br><span class="line">        H = H + Q(k + <span class="number">1</span>, k + <span class="number">1</span>) * omega;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    simplify(H);</span><br><span class="line">    H = matlabFunction(H);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; xx = <span class="number">1.3</span>:<span class="number">0.3</span>:<span class="number">1.9</span></span><br><span class="line">&gt;&gt; ff = [<span class="number">0.6200860</span>, <span class="number">0.4554022</span>, <span class="number">0.2818186</span>]</span><br><span class="line">&gt;&gt; dff = [<span class="number">-0.5220232</span>, <span class="number">-0.5698959</span>, <span class="number">-0.5811571</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; H = Hermite(xx, ff, dff)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, ff, <span class="string">&#x27;&gt;&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(H, [<span class="number">0</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;Hermite插值H(x)&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/Hermite%E6%8F%92%E5%80%BC.png" alt="Hermite插值"></p><h2 id="三次样条插值">三次样条插值</h2><h3 id="分段插值">分段插值</h3><p><strong>平时用的plot函数就是这样画图的</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function y = piecewise_liner(xx, yy)</span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n = length(xx);</span><br><span class="line">    n = n - 1;</span><br><span class="line">    y = 0;</span><br><span class="line"></span><br><span class="line">    for k = 1:n</span><br><span class="line"></span><br><span class="line">        a = (yy(k + 1) - yy(k)) / (xx(k + 1) - xx(k));</span><br><span class="line">        y_k(k) = a * (x - xx(k)) + yy(k);</span><br><span class="line"></span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">    for k = 1:n</span><br><span class="line"></span><br><span class="line">        y = piecewise(xx(k) &lt;= x &lt;= xx(k + 1), y_k(k), y);</span><br><span class="line"></span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">end</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line">&gt;&gt; xx = <span class="number">-4</span>:<span class="number">0.5</span>:<span class="number">4</span></span><br><span class="line">&gt;&gt; yy = F(xx)</span><br><span class="line"></span><br><span class="line">&gt;&gt; y = piecewise_liner(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(y, [<span class="number">-4</span>, <span class="number">4</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;分段插值y(x)&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%88%86%E6%AE%B5%E6%8F%92%E5%80%BC.png" alt="分段插值"></p><h3 id="自然二次样条">自然二次样条</h3><p>条件为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>S</mi><mi>j</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo separator="true">,</mo><mtext>其中</mtext><mi>x</mi><mo>∈</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><mtext>对于</mtext><mi>j</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>1</mn><mtext>成立</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>S</mi><mi>j</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mtext>且</mtext><msub><mi>S</mi><mi>j</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>对于</mtext><mi>j</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>1</mn><mtext>成立</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>S</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>S</mi><mi>j</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>对于</mtext><mi>j</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>2</mn><mtext>成立</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msubsup><mi>S</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msubsup><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>S</mi><mi>j</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msubsup><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>对于</mtext><mi>j</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>2</mn><mtext>成立</mtext></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}&amp;S_j=a_i+b_i(x-x_i)+c_i(x-x_i)^2,其中x\in [x_j,x_{j+1}],对于j=0,1,\dots ,n-1 成立\\&amp;S_j(x_j)=f(x_j)且S_j(x_{j+1})=f(x_{j+1}),对于j=0,1,\dots ,n-1 成立\\&amp;S_{j+1}(x_{j+1})=S_j(x_{j+1}),对于j=0,1,\dots ,n-2 成立\\&amp;S_{j+1}^{&#x27;}(x_{j+1})=S_j^{&#x27;}(x_{j+1}),对于j=0,1,\dots ,n-2 成立\\\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.1997em;vertical-align:-2.8498em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.3498em;"><span style="top:-5.4782em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-3.9782em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-2.4782em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span><span style="top:-0.8257em;"><span class="pstrut" style="height:2.9925em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.8498em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.3498em;"><span style="top:-5.4857em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">其中</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">对于</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord cjk_fallback">成立</span></span></span><span style="top:-3.9857em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">且</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">对于</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mord cjk_fallback">成立</span></span></span><span style="top:-2.4857em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">对于</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord cjk_fallback">成立</span></span></span><span style="top:-0.8333em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-2.453em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-2.453em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">对于</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord cjk_fallback">成立</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.8498em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>附加边界条件：(<strong>自然边界</strong>)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>0</mn><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msubsup><mo>=</mo><msubsup><mi>S</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msubsup><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_0^{&#x27;}=S_{n-1}^{&#x27;}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1906em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2489em;vertical-align:-0.3064em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3064em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p><p>但是不需要使用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msubsup><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S_{n-1}^{&#x27;}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2489em;vertical-align:-0.3064em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3064em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，使用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S_{n-1}(x_n)=f(x_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>才能保证最后一个函数过最后一个点</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">S</span> = <span class="title">Quadratic_Splines</span><span class="params">(xx, yy)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n0 = <span class="built_in">length</span>(xx);</span><br><span class="line">    S = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n0</span><br><span class="line">        a(k) = yy(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    n = n0 - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line">        h(k) = xx(k + <span class="number">1</span>) - xx(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    b(<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        b(k + <span class="number">1</span>) = <span class="number">2</span> * (a(k + <span class="number">1</span>) - a(k)) / h(k) - b(k);</span><br><span class="line">        c(k) = (b(k + <span class="number">1</span>) - b(k)) / (<span class="number">2</span> * h(k));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    c(n) = (a(n + <span class="number">1</span>) - a(n) - b(n) * h(n)) / h(n)^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        s(k) = a(k) + b(k) * (x - xx(k)) + c(k) * (x - xx(k))^<span class="number">2</span>;</span><br><span class="line">        S = piecewise(xx(k) &lt;= x &lt;= xx(k + <span class="number">1</span>), s(k), S);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：说实话不咋地</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">exp</span>(x)</span><br><span class="line">&gt;&gt; xx = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line">&gt;&gt; yy = F(xx)</span><br><span class="line"></span><br><span class="line">&gt;&gt; S = Quadratic_Splines(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(S, [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(@(x)<span class="built_in">exp</span>(x), [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;自然二次样条S(x)&#x27;</span>,<span class="string">&#x27;e^x&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E8%87%AA%E7%84%B6%E4%BA%8C%E6%AC%A1%E6%A0%B7%E6%9D%A1.png" alt="自然二次样条"></p><h3 id="自然三次样条">自然三次样条</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">S</span> = <span class="title">Natural_Cubic_Spline</span><span class="params">(xx, yy)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n0 = <span class="built_in">length</span>(xx);</span><br><span class="line">    S = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n0</span><br><span class="line">        a(k) = yy(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    n = n0 - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line">        h(k) = xx(k + <span class="number">1</span>) - xx(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line">        b(<span class="built_in">i</span> + <span class="number">1</span>) = <span class="number">3</span> * (a(<span class="built_in">i</span> + <span class="number">2</span>) - a(<span class="built_in">i</span> + <span class="number">1</span>)) / h(<span class="built_in">i</span> + <span class="number">1</span>) - <span class="number">3</span> * (a(<span class="built_in">i</span> + <span class="number">1</span>) - a(<span class="built_in">i</span>)) / h(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    l(<span class="number">1</span>) = <span class="number">1</span>;</span><br><span class="line">    u(<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">    z(<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        l(<span class="built_in">i</span> + <span class="number">1</span>) = <span class="number">2</span> * (xx(<span class="built_in">i</span> + <span class="number">2</span>) - xx(<span class="built_in">i</span>)) - h(<span class="built_in">i</span>) * u(<span class="built_in">i</span>);</span><br><span class="line">        u(<span class="built_in">i</span> + <span class="number">1</span>) = h(<span class="built_in">i</span> + <span class="number">1</span>) / l(<span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line">        z(<span class="built_in">i</span> + <span class="number">1</span>) = (b(<span class="built_in">i</span> + <span class="number">1</span>) - h(<span class="built_in">i</span>) * z(<span class="built_in">i</span>)) / l(<span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    l(n + <span class="number">1</span>) = <span class="number">1</span>;</span><br><span class="line">    z(n + <span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">    c(n + <span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = n - <span class="number">1</span>:<span class="number">-1</span>:<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        c(<span class="built_in">j</span> + <span class="number">1</span>) = z(<span class="built_in">j</span> + <span class="number">1</span>) - u(<span class="built_in">j</span> + <span class="number">1</span>) * c(<span class="built_in">j</span> + <span class="number">2</span>);</span><br><span class="line">        b(<span class="built_in">j</span> + <span class="number">1</span>) = (a(<span class="built_in">j</span> + <span class="number">2</span>) - a(<span class="built_in">j</span> + <span class="number">1</span>)) / h(<span class="built_in">j</span> + <span class="number">1</span>) - h(<span class="built_in">j</span> + <span class="number">1</span>) * (c(<span class="built_in">j</span> + <span class="number">2</span>) + <span class="number">2</span> * c(<span class="built_in">j</span> + <span class="number">1</span>)) / <span class="number">3</span>;</span><br><span class="line">        d(<span class="built_in">j</span> + <span class="number">1</span>) = (c(<span class="built_in">j</span> + <span class="number">2</span>) - c(<span class="built_in">j</span> + <span class="number">1</span>)) / (<span class="number">3</span> * (h(<span class="built_in">j</span> + <span class="number">1</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        s(k) = a(k) + b(k) * (x - xx(k)) + c(k) * (x - xx(k))^<span class="number">2</span> +d(k) * (x - xx(k))^<span class="number">3</span>;</span><br><span class="line">        S = piecewise(xx(k) &lt; x &lt;= xx(k + <span class="number">1</span>), s(k), S);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">exp</span>(x)</span><br><span class="line">&gt;&gt; xx = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line">&gt;&gt; yy = F(xx)</span><br><span class="line"></span><br><span class="line">&gt;&gt; S = Natural_Cubic_Spline(xx, yy)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(S, [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(@(x)<span class="built_in">exp</span>(x), [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;自然三次样条S(x)&#x27;</span>,<span class="string">&#x27;e^x&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E8%87%AA%E7%84%B6%E4%B8%89%E6%AC%A1%E6%A0%B7%E6%9D%A1.png" alt="自然三次样条"></p><h3 id="固支三次样条-Clamped-Cubic-Spline">固支三次样条(Clamped Cubic Spline)</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">S</span> = <span class="title">Clamped_Cubic_Spline</span><span class="params">(xx, yy, df_0, df_n)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    n0 = <span class="built_in">length</span>(xx);</span><br><span class="line">    S = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n0</span><br><span class="line">        a(k) = yy(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    n = n0 - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line">        h(k) = xx(k + <span class="number">1</span>) - xx(k);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    b(<span class="number">1</span>) = <span class="number">3</span> * (a(<span class="number">2</span>) - a(<span class="number">1</span>)) / h(<span class="number">1</span>) <span class="number">-3</span> * df_0;</span><br><span class="line">    b(n + <span class="number">1</span>) = <span class="number">3</span> * df_n - <span class="number">3</span> * (a(n + <span class="number">1</span>) - a(n)) / h(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line">        b(<span class="built_in">i</span> + <span class="number">1</span>) = <span class="number">3</span> * (a(<span class="built_in">i</span> + <span class="number">2</span>) - a(<span class="built_in">i</span> + <span class="number">1</span>)) / h(<span class="built_in">i</span> + <span class="number">1</span>) - <span class="number">3</span> * (a(<span class="built_in">i</span> + <span class="number">1</span>) - a(<span class="built_in">i</span>)) / h(k)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    l(<span class="number">1</span>) = <span class="number">2</span> * h(<span class="number">1</span>);</span><br><span class="line">    u(<span class="number">1</span>) = <span class="number">0.5</span>;</span><br><span class="line">    z(<span class="number">1</span>) = b(<span class="number">1</span>) / l(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        l(<span class="built_in">i</span> + <span class="number">1</span>) = <span class="number">2</span> * (xx(<span class="built_in">i</span> + <span class="number">2</span>) - xx(<span class="built_in">i</span>)) - h(<span class="built_in">i</span>) * u(<span class="built_in">i</span>);</span><br><span class="line">        u(<span class="built_in">i</span> + <span class="number">1</span>) = h(<span class="built_in">i</span> + <span class="number">1</span>) / l(<span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line">        z(<span class="built_in">i</span> + <span class="number">1</span>) = (b(<span class="built_in">i</span> + <span class="number">1</span>) - h(<span class="built_in">i</span>) * z(<span class="built_in">i</span>)) / l(<span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    l(n + <span class="number">1</span>) = h(n) * (<span class="number">2</span> - u(n));</span><br><span class="line">    z(n + <span class="number">1</span>) = (b(n + <span class="number">1</span>) - h(n) * z(n)) / l(n + <span class="number">1</span>);</span><br><span class="line">    c(n + <span class="number">1</span>) = z(n + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = n - <span class="number">1</span>:<span class="number">-1</span>:<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        c(<span class="built_in">j</span> + <span class="number">1</span>) = z(<span class="built_in">j</span> + <span class="number">1</span>) - u(<span class="built_in">j</span> + <span class="number">1</span>) * c(<span class="built_in">j</span> + <span class="number">2</span>);</span><br><span class="line">        b(<span class="built_in">j</span> + <span class="number">1</span>) = (a(<span class="built_in">j</span> + <span class="number">2</span>) - a(<span class="built_in">j</span> + <span class="number">1</span>)) / h(<span class="built_in">j</span> + <span class="number">1</span>) - h(<span class="built_in">j</span> + <span class="number">1</span>) * (c(<span class="built_in">j</span> + <span class="number">2</span>) + <span class="number">2</span> * c(<span class="built_in">j</span> + <span class="number">1</span>)) / <span class="number">3</span>;</span><br><span class="line">        d(<span class="built_in">j</span> + <span class="number">1</span>) = (c(<span class="built_in">j</span> + <span class="number">2</span>) - c(<span class="built_in">j</span> + <span class="number">1</span>)) / (<span class="number">3</span> * (h(<span class="built_in">j</span> + <span class="number">1</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        s(k) = a(k) + b(k) * (x - xx(k)) + c(k) * (x - xx(k))^<span class="number">2</span> +d(k) * (x - xx(k))^<span class="number">3</span>;</span><br><span class="line">        S = piecewise(xx(k) &lt; x &lt;= xx(k + <span class="number">1</span>), s(k), S);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">exp</span>(x)</span><br><span class="line">&gt;&gt; xx = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line">&gt;&gt; yy = F(xx)</span><br><span class="line">&gt;&gt; f = sym(F)</span><br><span class="line">&gt;&gt; df = diff(f, <span class="number">1</span>)</span><br><span class="line">&gt;&gt; dF = matlabFunction(df)</span><br><span class="line">&gt;&gt; df_0 = dF(<span class="number">0</span>)</span><br><span class="line">&gt;&gt; df_n = dF(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; S = Clamped_Cubic_Spline(xx, yy, df_0, df_n)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(xx, yy, <span class="string">&#x27;&gt;&#x27;</span>);</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(S, [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on;</span><br><span class="line">&gt;&gt; fplot(@(x)<span class="built_in">exp</span>(x), [<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;插值点&#x27;</span>, <span class="string">&#x27;固支三次样条S(x)&#x27;</span>,<span class="string">&#x27;e^x&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%9B%BA%E6%94%AF%E4%B8%89%E6%AC%A1%E6%A0%B7%E6%9D%A1.png" alt="固支三次样条"></p><h2 id="贝塞尔曲线">贝塞尔曲线</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span> = <span class="title">Bezier</span><span class="params">(xx, yy, xxleft, yyleft, xxright, yyright)</span></span></span><br><span class="line"></span><br><span class="line">    syms t;</span><br><span class="line">    n = <span class="built_in">length</span>(xx);</span><br><span class="line">    n = n <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">0</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        a_0(k + <span class="number">1</span>) = xx(k + <span class="number">1</span>);</span><br><span class="line">        b_0(k + <span class="number">1</span>) = yy(k + <span class="number">1</span>);</span><br><span class="line">        a_1(k + <span class="number">1</span>) = <span class="number">3</span> * (xxleft(k + <span class="number">1</span>) - xx(k + <span class="number">1</span>));</span><br><span class="line">        b_1(k + <span class="number">1</span>) = <span class="number">3</span> * (yyleft(k + <span class="number">1</span>) - yy(k + <span class="number">1</span>));</span><br><span class="line">        a_2(k + <span class="number">1</span>) = <span class="number">3</span> * (xx(k + <span class="number">1</span>) + xxright(k + <span class="number">1</span>) - <span class="number">2</span> * xxleft(k + <span class="number">1</span>));</span><br><span class="line">        b_2(k + <span class="number">1</span>) = <span class="number">3</span> * (yy(k + <span class="number">1</span>) + yyright(k + <span class="number">1</span>) - <span class="number">2</span> * yyleft(k + <span class="number">1</span>));</span><br><span class="line">        a_3(k + <span class="number">1</span>) = xx(k + <span class="number">2</span>) - xx(k + <span class="number">1</span>) + <span class="number">3</span> * xxleft(k + <span class="number">1</span>) - <span class="number">3</span> * xxright(k + <span class="number">1</span>);</span><br><span class="line">        b_3(k + <span class="number">1</span>) = yy(k + <span class="number">2</span>) - yy(k + <span class="number">1</span>) + <span class="number">3</span> * yyleft(k + <span class="number">1</span>) - <span class="number">3</span> * yyright(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        x(k + <span class="number">1</span>) = a_0 + a_1 * t + a_2 * t^<span class="number">2</span> + a_3 * t^<span class="number">3</span>;</span><br><span class="line">        C(k + <span class="number">1</span>, <span class="number">1</span>) = x(k + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">% fplot(x(k + 1), [xx(k + 1), xx(k + 2)]); hold on;</span></span><br><span class="line">        line([xx(k+<span class="number">1</span>),xxleft(k+<span class="number">1</span>)],[yy(k+<span class="number">1</span>),yyleft(k+<span class="number">1</span>)]); <span class="built_in">hold</span> on;</span><br><span class="line">        line([xx(k+<span class="number">2</span>),xxright(k+<span class="number">1</span>)],[yy(k+<span class="number">2</span>),yyright(k+<span class="number">1</span>)]); <span class="built_in">hold</span> on;</span><br><span class="line">        y(k + <span class="number">1</span>) = b_0 + b_1 * t + b_2 * t^<span class="number">2</span> + b_3 * t^<span class="number">3</span>;</span><br><span class="line">        C(k + <span class="number">1</span>, <span class="number">2</span>) = y(k + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">% fplot(y(k + 1), [yy(k + 1), yy(k + 2)]); hold on;</span></span><br><span class="line">        fplot(x(k+<span class="number">1</span>),y(k+<span class="number">1</span>),[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>觉得这种拟合曲线的方法还不如直接对两个坐标三次样条算了，拉格朗日也比上面的算法强的不知道哪里去了</strong></p><p>例如：什么牛马，没有例子！！</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quiz()</span><br></pre></td></tr></table></figure><h1>数值微分与数值积分</h1><h2 id="数值微分">数值微分</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Numerical_Differentiation</span><span class="params">(F, x_0, h)</span></span></span><br><span class="line"></span><br><span class="line">    f = sym(F);</span><br><span class="line">    df = diff(f, <span class="number">1</span>);</span><br><span class="line">    dF = matlabFunction(df);</span><br><span class="line">    df0 = dF(x_0)</span><br><span class="line"></span><br><span class="line">    df1 = (F(x_0 + h) - F(x_0)) / h;</span><br><span class="line">    fprintf(<span class="string">&#x27;前插公式：df(x_0)=%f\r\n&#x27;</span>, df1);</span><br><span class="line">    error1 = <span class="built_in">abs</span>(df0 - df1);</span><br><span class="line">    fprintf(<span class="string">&#x27;误差为：error=%f\r\n&#x27;</span>, error1);</span><br><span class="line"></span><br><span class="line">    df2 = (<span class="number">-3</span> * F(x_0) + <span class="number">4</span> * F(x_0 + h) - F(x_0 + <span class="number">2</span> * h)) / (<span class="number">2</span> * h);</span><br><span class="line">    fprintf(<span class="string">&#x27;三点端点公式：df(x_0)=%f\r\n&#x27;</span>, df2);</span><br><span class="line">    error2 = <span class="built_in">abs</span>(df0 - df2);</span><br><span class="line">    fprintf(<span class="string">&#x27;误差为：error=%f\r\n&#x27;</span>, error2);</span><br><span class="line"></span><br><span class="line">    df3 = (F(x_0 + h) - F(x_0 - h)) / (<span class="number">2</span> * h);</span><br><span class="line">    fprintf(<span class="string">&#x27;三点中点公式：df(x_0)=%f\r\n&#x27;</span>, df3);</span><br><span class="line">    error3 = <span class="built_in">abs</span>(df0 - df3);</span><br><span class="line">    fprintf(<span class="string">&#x27;误差为：error=%f\r\n&#x27;</span>, error3);</span><br><span class="line"></span><br><span class="line">    df4 = (F(x_0 - <span class="number">2</span> * h) - <span class="number">8</span> * F(x_0 - h) + <span class="number">8</span> * F(x_0 + h) - F(x_0 + <span class="number">2</span> * h)) / (<span class="number">12</span> * h);</span><br><span class="line">    fprintf(<span class="string">&#x27;五点中点公式：df(x_0)=%f\r\n&#x27;</span>, df4);</span><br><span class="line">    error4 = <span class="built_in">abs</span>(df0 - df4);</span><br><span class="line">    fprintf(<span class="string">&#x27;误差为：error=%f\r\n&#x27;</span>, error4);</span><br><span class="line"></span><br><span class="line">    df5 = (<span class="number">-25</span> * F(x_0) + <span class="number">48</span> * F(x_0 +h) - <span class="number">36</span> * F(x_0 + <span class="number">2</span> * h) + <span class="number">16</span> * F(x_0 + <span class="number">3</span> * h) - <span class="number">3</span> * F(x_0 + <span class="number">4</span> * h)) / (<span class="number">12</span> * h);</span><br><span class="line">    fprintf(<span class="string">&#x27;五点端点公式：df(x_0)=%f\r\n&#x27;</span>, df5);</span><br><span class="line">    error5 = <span class="built_in">abs</span>(df0 - df5);</span><br><span class="line">    fprintf(<span class="string">&#x27;误差为：error=%f\r\n&#x27;</span>, error5);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">exp</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Numerical_Differentiation(F, <span class="number">1</span>, <span class="number">0.01</span>)</span><br><span class="line">前插公式：df(x_0)=<span class="number">2.731919</span></span><br><span class="line"></span><br><span class="line">误差为：error=<span class="number">0.013637</span></span><br><span class="line"></span><br><span class="line">三点端点公式：df(x_0)=<span class="number">2.718191</span></span><br><span class="line"></span><br><span class="line">误差为：error=<span class="number">0.000091</span></span><br><span class="line"></span><br><span class="line">三点中点公式：df(x_0)=<span class="number">2.718327</span></span><br><span class="line"></span><br><span class="line">误差为：error=<span class="number">0.000045</span></span><br><span class="line"></span><br><span class="line">五点中点公式：df(x_0)=<span class="number">2.718282</span></span><br><span class="line"></span><br><span class="line">误差为：error=<span class="number">0.000000</span></span><br><span class="line"></span><br><span class="line">五点端点公式：df(x_0)=<span class="number">2.718282</span></span><br><span class="line"></span><br><span class="line">误差为：error=<span class="number">0.000000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="理查德外推">理查德外推</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Richardson_Extrapolation</span><span class="params">(F, x_0, h, n, TOL)</span></span></span><br><span class="line"></span><br><span class="line">    f = sym(F);</span><br><span class="line">    df = diff(f, <span class="number">1</span>);</span><br><span class="line">    dF = matlabFunction(df);</span><br><span class="line">    df0 = dF(x_0)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n</span><br><span class="line"></span><br><span class="line">        N1(k, <span class="number">1</span>) = (F(x_0 + h / k) - F(x_0 - h / k)) / (<span class="number">2</span> * h / k);</span><br><span class="line">        N2(k, <span class="number">1</span>) = (F(x_0 + h / k) - F(x_0 - h / k)) / (<span class="number">2</span> * h / k);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="built_in">i</span>:n</span><br><span class="line">            N1(<span class="built_in">j</span>, <span class="built_in">i</span>) = N1(<span class="built_in">j</span>, <span class="built_in">i</span> - <span class="number">1</span>) + (N1(<span class="built_in">j</span>, <span class="built_in">i</span> - <span class="number">1</span>) - N1(<span class="built_in">j</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) / (<span class="number">2</span>^(<span class="built_in">i</span> - <span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line">            N2(<span class="built_in">j</span>, <span class="built_in">i</span>) = N1(<span class="built_in">j</span>, <span class="built_in">i</span> - <span class="number">1</span>) + (N1(<span class="built_in">j</span>, <span class="built_in">i</span> - <span class="number">1</span>) - N1(<span class="built_in">j</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) / (<span class="number">4</span>^(<span class="built_in">i</span> - <span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(N1(<span class="built_in">i</span>, <span class="built_in">i</span>) - N1(<span class="built_in">i</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) &lt; TOL</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    N1</span><br><span class="line">    N2</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">exp</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Richardson_Extrapolation(F, <span class="number">1</span>, <span class="number">0.1</span>, <span class="number">6</span>, <span class="number">0.0001</span>)</span><br><span class="line">N1 =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.7228</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7194</span>    <span class="number">2.7160</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7188</span>    <span class="number">2.7182</span>    <span class="number">2.7189</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7186</span>    <span class="number">2.7183</span>    <span class="number">2.7184</span>    <span class="number">2.7183</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7185</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span></span><br><span class="line">    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7183</span>    <span class="number">2.7183</span>    <span class="number">2.7183</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">N2 =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.7228</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7194</span>    <span class="number">2.7183</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7188</span>    <span class="number">2.7186</span>    <span class="number">2.7183</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7186</span>    <span class="number">2.7185</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">2.7185</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span></span><br><span class="line">    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7184</span>    <span class="number">2.7183</span>    <span class="number">2.7183</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="数值积分">数值积分</h2><h3 id="闭合式牛顿科特斯公式">闭合式牛顿科特斯公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">Closed_Newton_Cotes</span><span class="params">(F, n, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    I = <span class="number">0</span>;</span><br><span class="line">    P = <span class="number">0</span>;</span><br><span class="line">    h = (endpoint_b - endpoint_a) / n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        L = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">j</span> == <span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            L = L * (x - (endpoint_a + <span class="built_in">j</span> * h)) / ((endpoint_a + <span class="built_in">i</span> * h) - (endpoint_a + <span class="built_in">j</span> * h));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        p = sym2poly(L);</span><br><span class="line">        q = polyint(p);</span><br><span class="line">        a = diff(polyval(q, [endpoint_a endpoint_b]));</span><br><span class="line"></span><br><span class="line">        P = P + L * F(endpoint_a + <span class="built_in">i</span> * h);</span><br><span class="line">        I = I + a * F(endpoint_a + <span class="built_in">i</span> * h);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">%梯形公式</span></span><br><span class="line">&gt;&gt; Closed_Newton_Cotes(F, <span class="number">1</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2777</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%Simpson公式</span></span><br><span class="line">&gt;&gt; Closed_Newton_Cotes(F, <span class="number">2</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2929</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Closed_Newton_Cotes(F, <span class="number">3</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2929</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Closed_Newton_Cotes(F, <span class="number">4</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2929</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="开放式牛顿科特斯公式">开放式牛顿科特斯公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">Open_Newton_Cotes</span><span class="params">(F, n, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    I = <span class="number">0</span>;</span><br><span class="line">    P = <span class="number">0</span>;</span><br><span class="line">    h = (endpoint_b - endpoint_a) / (n + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        L = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">j</span> == <span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            L = L * (x - (endpoint_a + (<span class="built_in">j</span> + <span class="number">1</span>) * h)) / ((endpoint_a + (<span class="built_in">i</span> + <span class="number">1</span>) * h) - (endpoint_a + (<span class="built_in">j</span> + <span class="number">1</span>) * h));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> L ~= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            p = sym2poly(L);</span><br><span class="line">            q = polyint(p);</span><br><span class="line">            a = diff(polyval(q, [endpoint_a endpoint_b]));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            a = endpoint_b - endpoint_a;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        P = P + L * F(endpoint_a + (<span class="built_in">i</span> + <span class="number">1</span>) * h);</span><br><span class="line">        I = I + a * F(endpoint_a + (<span class="built_in">i</span> + <span class="number">1</span>) * h);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">% 中点公式</span></span><br><span class="line">&gt;&gt; Open_Newton_Cotes(F, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.3006</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Open_Newton_Cotes(F, <span class="number">1</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2980</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Open_Newton_Cotes(F, <span class="number">2</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2929</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Open_Newton_Cotes(F, <span class="number">3</span>, <span class="number">0</span>, <span class="built_in">pi</span> / <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.2929</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="复合数值积分">复合数值积分</h2><h3 id="复化Simpson’s-Rule">复化Simpson’s Rule</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">XI</span> = <span class="title">Composite_Simpson</span><span class="params">(F, n, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">mod</span>(n, <span class="number">2</span>) == <span class="number">1</span></span><br><span class="line">        n = n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / n;</span><br><span class="line"></span><br><span class="line">    XI0 = F(endpoint_a) + F(endpoint_b);</span><br><span class="line">    XI1 = <span class="number">0</span>;</span><br><span class="line">    XI2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        X = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">mod</span>(<span class="built_in">i</span>, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line">            XI2 = XI2 + F(X);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            XI1 = XI1 + F(X);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    XI = h / <span class="number">3</span> * (XI0 + <span class="number">2</span> * XI2 + <span class="number">4</span> * XI1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Composite_Simpson(F, <span class="number">8</span>, <span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.6542</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="复化梯形公式">复化梯形公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">XI</span> = <span class="title">Composite_Trapezoidal</span><span class="params">(F, n, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / n;</span><br><span class="line"></span><br><span class="line">    XI0 = F(endpoint_a) + F(endpoint_b);</span><br><span class="line">    XI1 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        XI1 = XI1 + F(endpoint_a + <span class="built_in">i</span> * h);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    XI = h / <span class="number">2</span> * (XI0 + <span class="number">2</span> * XI1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Composite_Trapezoidal(F, <span class="number">8</span>, <span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.6190</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="复化中点公式">复化中点公式</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">XI</span> = <span class="title">Composite_Midpoint</span><span class="params">(F, n, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">mod</span>(n, <span class="number">2</span>) == <span class="number">1</span></span><br><span class="line">        n = n + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / (n + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    XI1 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">0</span>:n / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        XI1 = XI1 + F(endpoint_a + (<span class="number">2</span> * <span class="built_in">i</span> + <span class="number">1</span>) * h);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    XI = <span class="number">2</span> * h * XI1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Composite_Midpoint(F, <span class="number">8</span>, <span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">1.6986</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="龙贝格积分">龙贝格积分</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">R</span> = <span class="title">Romberg</span><span class="params">(F, n, endpoint_a, endpoint_b, TOL)</span></span></span><br><span class="line"></span><br><span class="line">    h(<span class="number">1</span>) = endpoint_b - endpoint_a;</span><br><span class="line">    R(<span class="number">1</span>, <span class="number">1</span>) = h / <span class="number">2</span> * (F(endpoint_a) + F(endpoint_b));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:n</span><br><span class="line">        sum_f = <span class="number">0</span>;</span><br><span class="line">        K = <span class="number">2</span>^(<span class="built_in">i</span> - <span class="number">2</span>);</span><br><span class="line">        h(<span class="built_in">i</span>) = h(<span class="built_in">i</span> - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> k = <span class="number">1</span>:K</span><br><span class="line"></span><br><span class="line">            sum_f = sum_f + F(endpoint_a + (<span class="number">2</span> * k - <span class="number">1</span>) * h(<span class="built_in">i</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        R(<span class="built_in">i</span>, <span class="number">1</span>) = <span class="number">1</span>/<span class="number">2</span> * (R(<span class="built_in">i</span> - <span class="number">1</span>, <span class="number">1</span>) + h(<span class="built_in">i</span> - <span class="number">1</span>) * sum_f);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            R(<span class="built_in">i</span>, <span class="built_in">j</span>) = R(<span class="built_in">i</span>, <span class="built_in">j</span> - <span class="number">1</span>) + (R(<span class="built_in">i</span>, <span class="built_in">j</span> - <span class="number">1</span>) - R(<span class="built_in">i</span> - <span class="number">1</span>, <span class="built_in">j</span> - <span class="number">1</span>)) / (<span class="number">4</span>^(<span class="built_in">j</span> - <span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(R(<span class="built_in">i</span>, <span class="built_in">i</span>) - R(<span class="built_in">i</span> - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) &lt; TOL</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)<span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Romberg(F, <span class="number">6</span>, <span class="number">0</span>, <span class="built_in">pi</span>, <span class="number">0.00000001</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0000</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">1.5708</span>    <span class="number">2.0944</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">1.8961</span>    <span class="number">2.0046</span>    <span class="number">1.9986</span>         <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">1.9742</span>    <span class="number">2.0003</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>         <span class="number">0</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">1.9936</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>         <span class="number">0</span></span><br><span class="line">    <span class="number">1.9984</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span>    <span class="number">2.0000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="自适应求积">自适应求积</h2><h3 id="堆栈法">堆栈法</h3><p>算法本质上是属于迭代，书上把迭代转换成了堆栈</p><p>理解：在数据结构我们学习了二叉树，其中三种遍历方法：先序遍历，中序遍历以及后序遍历。例如先序遍历是在每一个节点上，先访问该节点，然后依次访问左节点与右节点。</p><p>而在这个算法中，我们对每一个积分区间进行折半，先对右半区间进行积分计算，再对左半区间进行积分计算。如果在其中一个积分区间不满足条件<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">∣</mo><msub><mi>S</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>S</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mfrac><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>−</mo><msub><mi>S</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mfrac><mrow><mi>a</mi><mo>+</mo><mi>b</mi></mrow><mn>2</mn></mfrac><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo fence="true">∣</mo></mrow><mo>&lt;</mo><mi>T</mi><mi>O</mi><msub><mi>L</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\left| S_i(a,b)-S_i(a,\frac{a+b}{2})-S_i(\frac{a+b}{2},b) \right| &lt; TOL_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.862em;"><span style="top:-2.256em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.854em;"><span class="pstrut" style="height:2.606em;"></span><span style="height:0.016em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="0.016em" style="width:0.3333em" viewbox="0 0 333.33000000000004 16" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V16 H145z M145 0 H188 V16 H145z"/></svg></span></span><span style="top:-2.862em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.862em;"><span style="top:-2.256em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span><span style="top:-2.854em;"><span class="pstrut" style="height:2.606em;"></span><span style="height:0.016em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="0.016em" style="width:0.3333em" viewbox="0 0 333.33000000000004 16" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V16 H145z M145 0 H188 V16 H145z"/></svg></span></span><span style="top:-2.862em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">TO</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则继续细分子区间，并且优先计算右半区间。</p><p>因此取名为<strong>右半序遍历自适应积分算法</strong>不是不行，当然稍微改一下也可以成为左半序区间遍历算法。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">APP</span> = <span class="title">Adaptive_Quadrature</span><span class="params">(F, TOL, N, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    APP = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line">    tol(<span class="built_in">i</span>) = <span class="number">10</span> * TOL;</span><br><span class="line">    a(<span class="built_in">i</span>) = endpoint_a;</span><br><span class="line">    h(<span class="built_in">i</span>) = (endpoint_b - endpoint_a) / <span class="number">2</span>;</span><br><span class="line">    FA(<span class="built_in">i</span>) = F(a(<span class="built_in">i</span>));</span><br><span class="line">    FC(<span class="built_in">i</span>) = F(a(<span class="built_in">i</span>) + h(<span class="built_in">i</span>));</span><br><span class="line">    FB(<span class="built_in">i</span>) = F(endpoint_b);</span><br><span class="line">    S(<span class="built_in">i</span>) = h(<span class="built_in">i</span>) / <span class="number">3</span> * (FA(<span class="built_in">i</span>) + <span class="number">4</span> * FC(<span class="built_in">i</span>) + FB(<span class="built_in">i</span>));</span><br><span class="line">    mark(<span class="built_in">i</span>) = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">i</span> &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        FD = F(a(<span class="built_in">i</span>) + h(<span class="built_in">i</span>) / <span class="number">2</span>);</span><br><span class="line">        FE = F(a(<span class="built_in">i</span>) + <span class="number">3</span>/<span class="number">2</span> * h(<span class="built_in">i</span>));</span><br><span class="line">        S1 = h(<span class="built_in">i</span>) / <span class="number">6</span> * (FA(<span class="built_in">i</span>) + <span class="number">4</span> * FD + FC(<span class="built_in">i</span>));</span><br><span class="line">        S2 = h(<span class="built_in">i</span>) / <span class="number">6</span> * (FC(<span class="built_in">i</span>) + <span class="number">4</span> * FE + FB(<span class="built_in">i</span>));</span><br><span class="line"></span><br><span class="line">        v1 = a(<span class="built_in">i</span>);</span><br><span class="line">        v2 = FA(<span class="built_in">i</span>);</span><br><span class="line">        v3 = FC(<span class="built_in">i</span>);</span><br><span class="line">        v4 = FB(<span class="built_in">i</span>);</span><br><span class="line">        v5 = h(<span class="built_in">i</span>);</span><br><span class="line">        v6 = tol(<span class="built_in">i</span>);</span><br><span class="line">        v7 = S(<span class="built_in">i</span>);</span><br><span class="line">        v8 = mark(<span class="built_in">i</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">i</span> = <span class="built_in">i</span> - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(S1 +S2 -v7) &lt; v6</span><br><span class="line"></span><br><span class="line">            APP = APP + S1 + S2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> v8 &gt; N</span><br><span class="line"></span><br><span class="line">                <span class="built_in">disp</span>(<span class="string">&#x27;超过最大迭代次数&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">                a(<span class="built_in">i</span>) = v1 + v5;</span><br><span class="line">                FA(<span class="built_in">i</span>) = v3;</span><br><span class="line">                FC(<span class="built_in">i</span>) = FE;</span><br><span class="line">                FB(<span class="built_in">i</span>) = v4;</span><br><span class="line">                h(<span class="built_in">i</span>) = v5 / <span class="number">2</span>;</span><br><span class="line">                tol(<span class="built_in">i</span>) = v6 / <span class="number">2</span>;</span><br><span class="line">                S(<span class="built_in">i</span>) = S2;</span><br><span class="line">                mark(<span class="built_in">i</span>) = v8 + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line">                a(<span class="built_in">i</span>) = v1;</span><br><span class="line">                FA(<span class="built_in">i</span>) = v2;</span><br><span class="line">                FC(<span class="built_in">i</span>) = FD;</span><br><span class="line">                FB(<span class="built_in">i</span>) = v3;</span><br><span class="line">                h(<span class="built_in">i</span>) = h(<span class="built_in">i</span> - <span class="number">1</span>);</span><br><span class="line">                tol(<span class="built_in">i</span>) = tol(<span class="built_in">i</span> - <span class="number">1</span>);</span><br><span class="line">                S(<span class="built_in">i</span>) = S1;</span><br><span class="line">                mark(<span class="built_in">i</span>) = mark(<span class="built_in">i</span> - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)(<span class="number">100</span> / x^<span class="number">2</span>) * <span class="built_in">sin</span>(<span class="number">10</span> / x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Adaptive_Quadrature(F, <span class="number">0.000001</span>, <span class="number">1000000</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">-1.4260</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="递归法">递归法</h3><p>显然递归法代码简洁(不是一点两点的简洁)，且方便理解，但是这里没有设置迭代次数上限</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">Adaptive_Quadrature_Recursion</span><span class="params">(F, TOL, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / <span class="number">2</span>;</span><br><span class="line">    FA = F(endpoint_a);</span><br><span class="line">    FC = F(endpoint_a + h);</span><br><span class="line">    FB = F(endpoint_b);</span><br><span class="line">    S_0 = h / <span class="number">3</span> * (FA +<span class="number">4</span> * FC + FB);</span><br><span class="line">    FD = F(endpoint_a + h / <span class="number">2</span>);</span><br><span class="line">    FE = F(endpoint_a + <span class="number">3</span> * h / <span class="number">2</span>);</span><br><span class="line">    S_1 = h / <span class="number">6</span> * (FA + <span class="number">4</span> * FD + FC);</span><br><span class="line">    S_2 = h / <span class="number">6</span> * (FC + <span class="number">4</span> * FE + FB);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(S_0 - S_1 - S_2) &lt; TOL</span><br><span class="line"></span><br><span class="line">        I = S_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">        I = Adaptive_Quadrature_Recursion(F, TOL / <span class="number">2</span>, endpoint_a, endpoint_a + h) + Adaptive_Quadrature_Recursion(F, TOL / <span class="number">2</span>, endpoint_a + h, endpoint_b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x)(<span class="number">100</span> / x^<span class="number">2</span>) * <span class="built_in">sin</span>(<span class="number">10</span> / x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; Adaptive_Quadrature_Recursion(F, <span class="number">0.00001</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">   <span class="number">-1.4260</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="多重积分">多重积分</h2><h3 id="Simpson二重积分">Simpson二重积分</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">Simpson_Double_Integral</span><span class="params">(F, c, d, n, m, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / n;</span><br><span class="line">    J1 = <span class="number">0</span>;</span><br><span class="line">    J2 = <span class="number">0</span>;</span><br><span class="line">    J3 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">0</span>:n</span><br><span class="line"></span><br><span class="line">        x_i = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line">        k = (d(x_i) - c(x_i)) / m;</span><br><span class="line"></span><br><span class="line">        K1 = F(x_i, c(x_i)) + F(x_i, d(x_i));</span><br><span class="line">        K2 = <span class="number">0</span>;</span><br><span class="line">        K3 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:m - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            y_i = c(x_i) + <span class="built_in">j</span> * k;</span><br><span class="line">            Q = F(x_i, y_i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">mod</span>(<span class="built_in">j</span>, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">                K2 = K2 + Q;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">                K3 = K3 + Q;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        L = k / <span class="number">3</span> * (K1 + <span class="number">2</span> * K2 +<span class="number">4</span> * K3);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">i</span> == <span class="number">0</span> || <span class="built_in">i</span> == n</span><br><span class="line"></span><br><span class="line">            J1 = J1 + L;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elseif</span> <span class="built_in">mod</span>(<span class="built_in">i</span>, <span class="number">2</span>) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            J2 = J2 + L;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            J3 = J3 + L;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    I = h / <span class="number">3</span> * (J1 +<span class="number">2</span> * J2 +<span class="number">4</span> * J3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F = @(x, y)<span class="built_in">exp</span>(y / x)</span><br><span class="line">&gt;&gt; c = @(x)x^<span class="number">3</span></span><br><span class="line">&gt;&gt; d = @(x)x^<span class="number">2</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Simpson_Double_Integral(F, c, d, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0.1</span>, <span class="number">0.5</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">0.0333</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="瑕积分">瑕积分</h2><p>方法只局限于类似于$$\int_{a}^{b} \frac{dx}{(x-a)^p}$$</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">I</span> = <span class="title">Improper</span><span class="params">(F, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms x;</span><br><span class="line">    f = F(x);</span><br><span class="line"></span><br><span class="line">    [numerator, denominator] = numden(sym(f));</span><br><span class="line">    dg = numerator;</span><br><span class="line">    dG = matlabFunction(dg);</span><br><span class="line">    p = simplify(<span class="built_in">log</span>(denominator) / <span class="built_in">log</span>(x - endpoint_a)); <span class="comment">%此处抖下机灵，原因是实在找不到求多项式分数次数的方法</span></span><br><span class="line">    I = dG(endpoint_a) / (<span class="number">1</span> - p) * (endpoint_b - endpoint_a)^(<span class="number">1</span> - p);</span><br><span class="line">    Taylor = dG(endpoint_a);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:<span class="number">4</span></span><br><span class="line"></span><br><span class="line">        dg = diff(numerator, k);</span><br><span class="line">        dG = matlabFunction(dg);</span><br><span class="line">        Taylor = Taylor + dG(endpoint_a) * (x - endpoint_a)^k / <span class="built_in">factorial</span>(k);</span><br><span class="line">        I = I + dG(endpoint_a) / (<span class="built_in">factorial</span>(k) * (k + <span class="number">1</span> - p)) * (endpoint_b - endpoint_a)^(k + <span class="number">1</span> - p);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    G(x) = piecewise(endpoint_a &lt; x &lt;= endpoint_b, (numerator - Taylor) / denominator, x == endpoint_a, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">%调用之前Simpson求积公式</span></span><br><span class="line">    <span class="comment">% I = I + Composite_Simpson(G, 4, endpoint_a, endpoint_b);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">%调用之前自适应积分公式</span></span><br><span class="line">    I = I + Adaptive_Quadrature(G, <span class="number">0.00000001</span>, <span class="number">10000000</span>, endpoint_a, endpoint_b);</span><br><span class="line">    I = double(I);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; F=@(x)<span class="built_in">exp</span>(x)/x^<span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; Improper(F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"></span><br><span class="line">    <span class="number">2.9253</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>常微分方程的初值问题</h1><h2 id="欧拉步长法">欧拉步长法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Euler</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, omega] = Euler(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, omega);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;欧拉步长法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E6%AC%A7%E6%8B%89%E6%AD%A5%E9%95%BF%E6%B3%95.png" alt="欧拉步长法"></p><h2 id="高阶泰勒方法">高阶泰勒方法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, u]</span> = <span class="title">Taylor</span><span class="params">(F, n, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms x y;</span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    u(<span class="number">1</span>) = y_0;</span><br><span class="line">    f = F(x, y);</span><br><span class="line">    df = f;</span><br><span class="line">    T_n = f;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span>:n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        df = diff(df, x) + diff(df, y) * f;</span><br><span class="line">        T_n = T_n + h^k * df / <span class="built_in">factorial</span>(k + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    T = matlabFunction(T_n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        u(<span class="built_in">i</span> + <span class="number">1</span>) = u(<span class="built_in">i</span>) + h * T(t(<span class="built_in">i</span>), u(<span class="built_in">i</span>));</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Taylor(F, <span class="number">4</span>, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;高阶泰勒方法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E9%AB%98%E9%98%B6%E6%B3%B0%E5%8B%92%E6%96%B9%E6%B3%95.png" alt="高阶泰勒方法"></p><h2 id="龙格库达方法">龙格库达方法</h2><h3 id="Midpoint-Method">Midpoint Method</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Midpoint_Method</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)) / <span class="number">2</span>);</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Midpoint_Method(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;Midpoint Method近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>![Midpoint Method](数值分析/Midpoint Method.png)</p><h3 id="Modified-Euler">Modified Euler</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Modified_Euler</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + h / <span class="number">2</span> * (F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)) + F(t(<span class="built_in">i</span>) + h, omega(<span class="built_in">i</span>) + h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>))));</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">plot</span>(t, omega);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Modified_Euler(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;Modified Euler Method近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>![Modified Euler Method](数值分析/Modified Euler Method.png)</p><h3 id="Heun’s-Method">Heun’s Method</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Heun</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + h / <span class="number">4</span> * (F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)) + <span class="number">3</span> * F(t(<span class="built_in">i</span>) + <span class="number">2</span> * h / <span class="number">3</span>, omega(<span class="built_in">i</span>) + <span class="number">2</span> * h / <span class="number">3</span> * F(t(<span class="built_in">i</span>) + h / <span class="number">3</span>, omega(<span class="built_in">i</span>) + h / <span class="number">3</span> * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)))));</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Heun(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;Heuns Method近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>![Heun’s Method](数值分析/Heun’s Method.png)</p><h3 id="Runge-Kutta">Runge-Kutta</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Runge_Kutta</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        k1 = h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        k2 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k1 / <span class="number">2</span>);</span><br><span class="line">        k3 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k2 / <span class="number">2</span>);</span><br><span class="line">        k4 = h * F(t(<span class="built_in">i</span>) + h, omega(<span class="built_in">i</span>) + k3);</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + (k1 + <span class="number">2</span> * k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>;</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Runge_Kutta(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;Runge-Kutta方法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/Runge-Kutta%E6%96%B9%E6%B3%95.png" alt="Runge-Kutta方法"></p><h2 id="Runge-Kutta-Fehlberg">Runge Kutta Fehlberg</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Runge_Kutta_Fehlberg</span><span class="params">(F, y_0, TOL, hmax, hmin, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = hmax</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line">    flag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">i</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> flag == <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        k1 = h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        k2 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">4</span>, omega(<span class="built_in">i</span>) + k1 / <span class="number">4</span>);</span><br><span class="line">        k3 = h * F(t(<span class="built_in">i</span>) + <span class="number">3</span> * h / <span class="number">8</span>, omega(<span class="built_in">i</span>) +<span class="number">3</span> * k1 / <span class="number">32</span> + <span class="number">9</span> * k2 / <span class="number">32</span>);</span><br><span class="line">        k4 = h * F(t(<span class="built_in">i</span>) +<span class="number">12</span> * h / <span class="number">13</span>, omega(<span class="built_in">i</span>) +<span class="number">1932</span> * k1 / <span class="number">2197</span> - <span class="number">7200</span> * k2 / <span class="number">2197</span> +<span class="number">7296</span> * k3 / <span class="number">2197</span>);</span><br><span class="line">        k5 = h * F(t(<span class="built_in">i</span>) +h, omega(<span class="built_in">i</span>) +<span class="number">439</span> * k1 / <span class="number">216</span> - <span class="number">8</span> * k2 + <span class="number">3680</span> * k3 / <span class="number">513</span> <span class="number">-845</span> * k4 / <span class="number">4104</span>);</span><br><span class="line">        k6 = h * F(t(<span class="built_in">i</span>) +h / <span class="number">2</span>, omega(<span class="built_in">i</span>) <span class="number">-8</span> * k1 / <span class="number">27</span> + <span class="number">2</span> * k2 - <span class="number">3544</span> * k3 / <span class="number">2565</span> +<span class="number">1859</span> * k4 / <span class="number">4104</span> - <span class="number">11</span> * k5 / <span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        R = <span class="built_in">abs</span>(k1 / <span class="number">360</span> - <span class="number">128</span> * k3 / <span class="number">4275</span> - <span class="number">2197</span> * k4 / <span class="number">75240</span> + k5 / <span class="number">50</span> + <span class="number">2</span> * k6 / <span class="number">55</span>) / h;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> R &lt; TOL</span><br><span class="line"></span><br><span class="line">            omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + <span class="number">25</span> * k1 / <span class="number">216</span> + <span class="number">1408</span> * k3 / <span class="number">2565</span> + <span class="number">2197</span> * k4 / <span class="number">4104</span> - k5 / <span class="number">5</span>;</span><br><span class="line">            t(<span class="built_in">i</span> + <span class="number">1</span>) = t(<span class="built_in">i</span>) + h;</span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        q = (TOL / (<span class="number">2</span> * R))^<span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> q &lt;= <span class="number">0.1</span></span><br><span class="line">            h = h / <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">elseif</span> q &gt;= <span class="number">4</span></span><br><span class="line">            h = <span class="number">4</span> * h;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            h = q * h;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> h &gt; hmax</span><br><span class="line">            h = hmax;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> t(<span class="built_in">i</span>) &gt;= endpoint_b</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">elseif</span> t(<span class="built_in">i</span>) + h &gt; endpoint_b</span><br><span class="line">            h = endpoint_b - t(<span class="built_in">i</span>);</span><br><span class="line">        <span class="keyword">elseif</span> h &lt; hmin</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">disp</span>(<span class="string">&#x27;h小于hmin，无法进行控制&#x27;</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Runge_Kutta_Fehlberg(F,<span class="number">0.5</span>,<span class="number">0.00001</span>,<span class="number">0.25</span>,<span class="number">0.01</span>,<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;Runge Kutta Fehlberg方法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>![Runge Kutta Fehlberg方法](数值分析/Runge Kutta Fehlberg方法.png)</p><h2 id="多步法">多步法</h2><h3 id="四阶阿达姆斯预测矫正法">四阶阿达姆斯预测矫正法</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Adams_Fourth_Order_Predictor_Corrector</span><span class="params">(F, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="comment">%龙格库达法计算出前四个初值</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line"></span><br><span class="line">        k1 = h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        k2 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k1 / <span class="number">2</span>);</span><br><span class="line">        k3 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k2 / <span class="number">2</span>);</span><br><span class="line">        k4 = h * F(t(<span class="built_in">i</span>) + h, omega(<span class="built_in">i</span>) + k3);</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + (k1 + <span class="number">2</span> * k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>;</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">4</span>:N</span><br><span class="line"></span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line">        omega_predictor = omega(<span class="built_in">i</span>) + h * (<span class="number">55</span> * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)) - <span class="number">59</span> * F(t(<span class="built_in">i</span> - <span class="number">1</span>), omega(<span class="built_in">i</span> - <span class="number">1</span>)) + <span class="number">37</span> * F(t(<span class="built_in">i</span> - <span class="number">2</span>), omega(<span class="built_in">i</span> - <span class="number">2</span>)) - <span class="number">9</span> * F(t(<span class="built_in">i</span> - <span class="number">3</span>), omega(<span class="built_in">i</span> - <span class="number">3</span>))) / <span class="number">24</span>;</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + h * (<span class="number">9</span> * F(t(<span class="built_in">i</span> + <span class="number">1</span>), omega_predictor) + <span class="number">19</span> * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>)) - <span class="number">5</span> * F(t(<span class="built_in">i</span> - <span class="number">1</span>), omega(<span class="built_in">i</span> - <span class="number">1</span>)) + F(t(<span class="built_in">i</span> - <span class="number">2</span>), omega(<span class="built_in">i</span> - <span class="number">2</span>))) / <span class="number">24</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Adams_Fourth_Order_Predictor_Corrector(F, <span class="number">10</span>, <span class="number">0.5</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;四阶阿达姆斯预测矫正法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%9B%9B%E9%98%B6%E9%98%BF%E8%BE%BE%E5%A7%86%E6%96%AF%E9%A2%84%E6%B5%8B%E7%9F%AB%E6%AD%A3%E6%B3%95.png" alt="四阶阿达姆斯预测矫正法"></p><h2 id="可变步长的多步法">可变步长的多步法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Adams_Variable_Step_Size</span><span class="params">(F, y_0, TOL, hmax, hmin, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    flag = <span class="number">1</span>;</span><br><span class="line">    h = hmax;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    [tt, uu] = RK4(F, h, omega(<span class="number">1</span>), t(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">2</span>:<span class="number">4</span></span><br><span class="line">        t(<span class="built_in">j</span>) = tt(<span class="built_in">j</span>);</span><br><span class="line">        omega(<span class="built_in">j</span>) = uu(<span class="built_in">j</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">i</span> = <span class="number">5</span>;</span><br><span class="line">    ti = t(<span class="number">4</span>) + h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ti &gt; endpoint_b</span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;hmax过大&#x27;</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ti &lt;= endpoint_b</span><br><span class="line"></span><br><span class="line">        t(<span class="built_in">i</span>) = ti;</span><br><span class="line">        omega_predictor = omega(<span class="built_in">i</span> - <span class="number">1</span>) + h * (<span class="number">55</span> * F(t(<span class="built_in">i</span> - <span class="number">1</span>), omega(<span class="built_in">i</span> - <span class="number">1</span>)) - <span class="number">59</span> * F(t(<span class="built_in">i</span> - <span class="number">2</span>), omega(<span class="built_in">i</span> - <span class="number">2</span>)) + <span class="number">37</span> * F(t(<span class="built_in">i</span> - <span class="number">3</span>), omega(<span class="built_in">i</span> - <span class="number">3</span>)) - <span class="number">9</span> * F(t(<span class="built_in">i</span> - <span class="number">4</span>), omega(<span class="built_in">i</span> - <span class="number">4</span>))) / <span class="number">24</span>;</span><br><span class="line">        omega_corrector = omega(<span class="built_in">i</span> - <span class="number">1</span>) + h * (<span class="number">9</span> * F(t(<span class="built_in">i</span>), omega_predictor) + <span class="number">19</span> * F(t(<span class="built_in">i</span> - <span class="number">1</span>), omega(<span class="built_in">i</span> - <span class="number">1</span>)) - <span class="number">5</span> * F(t(<span class="built_in">i</span> - <span class="number">2</span>), omega(<span class="built_in">i</span> - <span class="number">2</span>)) + F(t(<span class="built_in">i</span> - <span class="number">3</span>), omega(<span class="built_in">i</span> - <span class="number">3</span>))) / <span class="number">24</span>;</span><br><span class="line">        delta = <span class="number">19</span> * <span class="built_in">abs</span>(omega_predictor - omega_corrector) / (<span class="number">270</span> * h);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> delta &lt; TOL</span><br><span class="line"></span><br><span class="line">            omega(<span class="built_in">i</span>) = omega_corrector;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ti == endpoint_b</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> delta &lt; TOL / <span class="number">10</span></span><br><span class="line"></span><br><span class="line">                q = (TOL / (<span class="number">2</span> * delta))^<span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> q &gt; <span class="number">4</span></span><br><span class="line">                    h = <span class="number">4</span> * h;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    h = q * h;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> h &gt; hmax</span><br><span class="line">                    h = hmax;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> t(<span class="built_in">i</span> - <span class="number">1</span>) + <span class="number">4</span> * h &gt; endpoint_b</span><br><span class="line">                    h = (endpoint_b - t(<span class="built_in">i</span> - <span class="number">1</span>)) / <span class="number">4</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                [tt, uu] = RK4(F, h, omega(<span class="built_in">i</span> - <span class="number">1</span>), t(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> <span class="built_in">j</span> = <span class="built_in">i</span>:<span class="built_in">i</span> + <span class="number">2</span></span><br><span class="line"></span><br><span class="line">                    t(<span class="built_in">j</span>) = tt(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line">                    omega(<span class="built_in">j</span>) = uu(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> t(<span class="built_in">i</span> - <span class="number">1</span>) + h &gt; endpoint_b</span><br><span class="line"></span><br><span class="line">                h = (endpoint_b - t(<span class="built_in">i</span> - <span class="number">1</span>)) / <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">                [tt, uu] = RK4(F, h, omega(<span class="built_in">i</span> - <span class="number">1</span>), t(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> <span class="built_in">j</span> = <span class="built_in">i</span>:<span class="built_in">i</span> + <span class="number">2</span></span><br><span class="line"></span><br><span class="line">                    t(<span class="built_in">j</span>) = tt(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line">                    omega(<span class="built_in">j</span>) = uu(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            q = (TOL / (<span class="number">2</span> * delta))^<span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> q &lt; <span class="number">0.1</span></span><br><span class="line">                h = <span class="number">0.1</span> * h;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                h = q * h;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> h &lt; hmin</span><br><span class="line"></span><br><span class="line">                <span class="built_in">disp</span>(<span class="string">&#x27;h小于hmin，无法进行控制&#x27;</span>);</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> - <span class="number">3</span>;</span><br><span class="line">                [tt, uu] = RK4(F, h, omega(<span class="built_in">i</span> - <span class="number">1</span>), t(<span class="built_in">i</span> - <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> <span class="built_in">j</span> = <span class="built_in">i</span>:<span class="built_in">i</span> + <span class="number">2</span></span><br><span class="line"></span><br><span class="line">                    t(<span class="built_in">j</span>) = tt(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line">                    omega(<span class="built_in">j</span>) = uu(<span class="built_in">j</span> - <span class="built_in">i</span> + <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">i</span> = <span class="built_in">i</span> + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        ti = t(<span class="built_in">i</span> - <span class="number">1</span>) + h;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%子函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">RK4</span><span class="params">(F, h, y_0, endpoint_a)</span></span></span><br><span class="line"></span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line"></span><br><span class="line">        k1 = h * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        k2 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k1 / <span class="number">2</span>);</span><br><span class="line">        k3 = h * F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>, omega(<span class="built_in">i</span>) + k2 / <span class="number">2</span>);</span><br><span class="line">        k4 = h * F(t(<span class="built_in">i</span>) + h, omega(<span class="built_in">i</span>) + k3);</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>) = omega(<span class="built_in">i</span>) + (k1 + <span class="number">2</span> * k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>;</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Adams_Variable_Step_Size(F,<span class="number">0.5</span>,<span class="number">0.00001</span>,<span class="number">0.25</span>,<span class="number">0.01</span>,<span class="number">0</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;可变步长的多步法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%8F%AF%E5%8F%98%E6%AD%A5%E9%95%BF%E7%9A%84%E5%A4%9A%E6%AD%A5%E6%B3%95.png" alt="可变步长的多步法"></p><h2 id="外推法">外推法</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Extrapolation</span><span class="params">(F, y_0, TOL, hmax, hmin, endpoint_a, endpoiny_b)</span></span></span><br><span class="line"></span><br><span class="line">    NK = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">24</span>, <span class="number">32</span>];</span><br><span class="line"></span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line">    n = <span class="number">1</span>;</span><br><span class="line">    T0 = endpoint_a;</span><br><span class="line">    W0 = y_0;</span><br><span class="line">    h = hmax;</span><br><span class="line">    flag = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">7</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:<span class="built_in">i</span></span><br><span class="line"></span><br><span class="line">            Q(<span class="built_in">i</span>, <span class="built_in">j</span>) = (NK(<span class="built_in">i</span> + <span class="number">1</span>) / NK(<span class="built_in">i</span> - <span class="built_in">j</span> + <span class="number">1</span>))^<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> flag == <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        k = <span class="number">1</span>;</span><br><span class="line">        nflag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> k &lt;= <span class="number">8</span> &amp;&amp; nflag == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            h_k = h / NK(k);</span><br><span class="line">            T = T0;</span><br><span class="line">            W2 = W0;</span><br><span class="line">            W3 = W2 + h_k * F(T, W2); <span class="comment">%欧拉步长求第一步</span></span><br><span class="line">            T = T0 + h_k;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:NK(k) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                W1 = W2;</span><br><span class="line">                W2 = W3;</span><br><span class="line">                W3 = W1 + <span class="number">2</span> * h_k * F(T, W2); <span class="comment">%中点法</span></span><br><span class="line">                T = T0 + (<span class="built_in">j</span> + <span class="number">1</span>) * h_k;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            y(k, <span class="number">1</span>) = (W3 + (W2 + h_k * F(T, W3))) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> k &gt;=<span class="number">2</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">2</span>:k</span><br><span class="line"></span><br><span class="line">                    y(k, <span class="built_in">i</span>) = y(k, <span class="built_in">i</span> - <span class="number">1</span>) + (y(k, <span class="built_in">i</span> - <span class="number">1</span>) - y(k - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>)) / (Q(k - <span class="number">1</span>, <span class="built_in">i</span> - <span class="number">1</span>) - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">abs</span>(y(k, k) - y(k - <span class="number">1</span>, k - <span class="number">1</span>)) &lt; TOL</span><br><span class="line">                    nflag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            k = k + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        k = k - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nflag == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            h = h / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> h &lt; hmin</span><br><span class="line"></span><br><span class="line">                <span class="built_in">disp</span>(<span class="string">&#x27;h小于hmin&#x27;</span>);</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            W0 = y(k, k);</span><br><span class="line">            T0 = T0 + h;</span><br><span class="line">            n = n + <span class="number">1</span>;</span><br><span class="line">            t(n) = T0;</span><br><span class="line">            omega(n) = W0;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> T0 &gt;= endpoiny_b</span><br><span class="line"></span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">elseif</span> T0 + h &gt; endpoiny_b</span><br><span class="line"></span><br><span class="line">                h = endpoiny_b - T0;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> k &lt;= <span class="number">3</span> &amp;&amp; h &lt; <span class="number">0.5</span> * hmax</span><br><span class="line"></span><br><span class="line">                    h = <span class="number">2</span> * h;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy - y + t^2 - 1 = 0&#x27;</span>, <span class="string">&#x27;y(0)=0.5&#x27;</span>, <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y,[<span class="number">0</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)y - t^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, u] = Extrapolation(F, <span class="number">0.5</span>, <span class="number">0.000000000000001</span>, <span class="number">0.2</span>, <span class="number">0.001</span>, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, u);</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程的精确解2t - e^t/2 + t^2 + 1&#x27;</span>, <span class="string">&#x27;外推法近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%A4%96%E6%8E%A8%E6%B3%95.png" alt="外推法"></p><h2 id="高阶方程与微分方程组">高阶方程与微分方程组</h2><h3 id="微分方程组">微分方程组</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Runge_Kutta_Equations</span><span class="params">(A, f, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line"></span><br><span class="line">    omega(<span class="number">1</span>, :) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        k1 = h * fun(f(t(<span class="built_in">i</span>)), omega(<span class="built_in">i</span>, :), A);</span><br><span class="line">        k2 = h * fun(f(t(<span class="built_in">i</span>) + h / <span class="number">2</span>), omega(<span class="built_in">i</span>, :) + <span class="number">0.5</span> * k1, A);</span><br><span class="line">        k3 = h * fun(f(t(<span class="built_in">i</span>) + h / <span class="number">2</span>), omega(<span class="built_in">i</span>, :) + <span class="number">0.5</span> * k2, A);</span><br><span class="line">        k4 = h * fun(f(t(<span class="built_in">i</span>) + h), omega(<span class="built_in">i</span>, :) + k3, A);</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>, :) = omega(<span class="built_in">i</span>, :) + (k1 +<span class="number">2</span> * k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>;</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fx</span> = <span class="title">fun</span><span class="params">(f, w, A)</span></span></span><br><span class="line"></span><br><span class="line">    [m, n] = <span class="built_in">size</span>(A);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n == <span class="built_in">length</span>(w) &amp;&amp; n == <span class="built_in">length</span>(<span class="built_in">rot90</span>(f))</span><br><span class="line"></span><br><span class="line">        fx = <span class="built_in">rot90</span>(f + mtimes(A, w&#x27;));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;输入错误&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>4</mn><mi>x</mi><mo>+</mo><mn>3</mn><mi>y</mi><mo>+</mo><mn>6</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>2.4</mn><mi>x</mi><mo>+</mo><mn>1.6</mn><mi>y</mi><mo>+</mo><mn>3.6</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}    x(t)=-4x+3y+6 \\    y(t)=-2.4x+1.6y+3.6 \\     x(0)=0,y(0)=0\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewbox="0 0 888.89 316" preserveaspectratio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewbox="0 0 888.89 316" preserveaspectratio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord">4</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">6</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord">2.4</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.6</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3.6</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>通解为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>3.375</mn><msup><mi>e</mi><mrow><mo>−</mo><mn>2</mn><mi>t</mi></mrow></msup><mo>+</mo><mn>1.875</mn><msup><mi>e</mi><mrow><mo>−</mo><mn>0.4</mn><mi>t</mi></mrow></msup><mo>+</mo><mn>1.5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>2.25</mn><msup><mi>e</mi><mrow><mo>−</mo><mn>2</mn><mi>t</mi></mrow></msup><mo>+</mo><mn>2.25</mn><msup><mi>e</mi><mrow><mo>−</mo><mn>0.4</mn><mi>t</mi></mrow></msup></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}x(t)=-3.375e^{-2t}+1.875e^{-0.4t}+1.5\\y(t)=-2.25e^{-2t}+2.25e^{-0.4t}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord">3.375</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.875</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">0.4</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1.5</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord">2.25</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2.25</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">0.4</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; syms f1(x) f2(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; f1(x) = <span class="number">6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; f2(x) = <span class="number">3.6</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; A = [<span class="number">-4</span> <span class="number">3</span>; <span class="number">-2.4</span> <span class="number">1.6</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; f(x) = [f1(x); f2(x)]</span><br><span class="line"></span><br><span class="line">&gt;&gt; y_0 = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, omega] = Runge_Kutta_Equations(A, f, <span class="number">5</span>, y_0, <span class="number">0</span>, <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, omega(:, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, omega(:, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; [x y] = dsolve(<span class="string">&#x27;Dx=-4*x+3*y+6,Dy=-2.4*x+1.6*y+3.6&#x27;</span>, <span class="string">&#x27;x(0)=0,y(0)=0&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(x, [<span class="number">0</span>, <span class="number">0.5</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y, [<span class="number">0</span>, <span class="number">0.5</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;微分方程组f1(x)的精确解&#x27;</span>,<span class="string">&#x27;微分方程组f2(x)的精确解&#x27;</span>,<span class="string">&#x27;微分方程组f1(x)的近似解&#x27;</span>,<span class="string">&#x27;微分方程组f2(x)的近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E7%BB%84.png" alt="微分方程组"></p><h3 id="高阶微分方程">高阶微分方程</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Higher_Order_Differential_Equations</span><span class="params">(a, f, N, y_0, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    m = <span class="built_in">length</span>(a);</span><br><span class="line">    syms x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:m - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:m</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">j</span> == <span class="built_in">i</span> + <span class="number">1</span></span><br><span class="line">                A(<span class="built_in">i</span>, <span class="built_in">j</span>) = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                A(<span class="built_in">i</span>, <span class="built_in">j</span>) = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span> = <span class="number">1</span>:m</span><br><span class="line"></span><br><span class="line">        A(m, <span class="built_in">j</span>) = <span class="number">-1</span> * a(m - <span class="built_in">j</span> + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">j</span> ~= m</span><br><span class="line">            F(x) = [<span class="number">0</span>, f(x)];</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    F = <span class="built_in">rot90</span>(F);</span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line"></span><br><span class="line">    omega(<span class="number">1</span>, :) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line"></span><br><span class="line">        k1 = h * fun(F(t(<span class="built_in">i</span>)), omega(<span class="built_in">i</span>, :), A);</span><br><span class="line">        k2 = h * fun(F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>), omega(<span class="built_in">i</span>, :) + <span class="number">0.5</span> * k1, A);</span><br><span class="line">        k3 = h * fun(F(t(<span class="built_in">i</span>) + h / <span class="number">2</span>), omega(<span class="built_in">i</span>, :) + <span class="number">0.5</span> * k2, A);</span><br><span class="line">        k4 = h * fun(F(t(<span class="built_in">i</span>) + h), omega(<span class="built_in">i</span>, :) + k3, A);</span><br><span class="line">        omega(<span class="built_in">i</span> + <span class="number">1</span>, :) = omega(<span class="built_in">i</span>, :) + (k1 +<span class="number">2</span> * k2 + <span class="number">2</span> * k3 + k4) / <span class="number">6</span>;</span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fx</span> = <span class="title">fun</span><span class="params">(f, w, A)</span></span></span><br><span class="line"></span><br><span class="line">    [m, n] = <span class="built_in">size</span>(A);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n == <span class="built_in">length</span>(w) &amp;&amp; n == <span class="built_in">length</span>(<span class="built_in">rot90</span>(f))</span><br><span class="line"></span><br><span class="line">        fx = <span class="built_in">rot90</span>(f + mtimes(A, w&#x27;));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">disp</span>(<span class="string">&#x27;输入错误&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>y</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mo>−</mo><mn>2</mn><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><mn>2</mn><mi>y</mi><mo>=</mo><msup><mi>e</mi><mrow><mn>2</mn><mi>t</mi></mrow></msup><mi>sin</mi><mo>⁡</mo><mi>t</mi><mspace linebreak="newline"></mspace><mi>y</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>0.4</mn><mo separator="true">,</mo><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>0.6</mn></mrow><annotation encoding="application/x-tex">y&#x27;&#x27;-2y&#x27;+2y=e^{2t}\sin t \\y(0)=-0.4,y&#x27;(0)=-0.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9963em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9963em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord">0.4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">0.6</span></span></span></span></span></p><p>通解：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>5</mn></mfrac><msup><mi>e</mi><mrow><mn>2</mn><mi>t</mi></mrow></msup><mo stretchy="false">(</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><mn>2</mn><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(t)=\frac{1}{5}e^{2t}(\sin (t)-2\cos (t))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">))</span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;D2y-2*Dy+2*y=exp(2*x)*sin(x)&#x27;</span>, <span class="string">&#x27;y(0)=-0.4,Dy(0)=-0.6&#x27;</span>, <span class="string">&#x27;x&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y, [<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; a = [<span class="number">-2</span> <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; syms f(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; f(x) = <span class="built_in">exp</span>(<span class="number">2</span> * x) * <span class="built_in">sin</span>(x)</span><br><span class="line"></span><br><span class="line">&gt;&gt; y_0 = [<span class="number">-0.4</span> <span class="number">-0.6</span>]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, omega] = Higher_Order_Differential_Equations(a, f, <span class="number">10</span>, y_0, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, omega(:, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;高阶微分方程的精确解&#x27;</span>,<span class="string">&#x27;高阶微分方程的近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E9%AB%98%E9%98%B6%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B.png" alt="高阶微分方程"></p><h2 id="刚性微分方程">刚性微分方程</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t, omega]</span> = <span class="title">Trapezoidal_Newton_Iteration</span><span class="params">(F, N, y_0, TOL, M, endpoint_a, endpoint_b)</span></span></span><br><span class="line"></span><br><span class="line">    syms t y;</span><br><span class="line">    f(t, y) = F(t, y);</span><br><span class="line">    dfy = diff(f, y);</span><br><span class="line">    dFy = matlabFunction(dfy);</span><br><span class="line">    h = (endpoint_b - endpoint_a) / N;</span><br><span class="line">    t(<span class="number">1</span>) = endpoint_a;</span><br><span class="line">    omega(<span class="number">1</span>) = y_0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:N</span><br><span class="line">        K1 = omega(<span class="built_in">i</span>) + h / <span class="number">2</span> * F(t(<span class="built_in">i</span>), omega(<span class="built_in">i</span>));</span><br><span class="line">        w0 = K1;</span><br><span class="line">        mark = <span class="number">1</span>;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> flag == <span class="number">0</span></span><br><span class="line">            omega(<span class="built_in">i</span> + <span class="number">1</span>) = w0 - (w0 - h / <span class="number">2</span> * F(t(<span class="built_in">i</span>) + h, w0) - K1) / (<span class="number">1</span> - h / <span class="number">2</span> * dFy(t(<span class="built_in">i</span>) + h, w0));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">abs</span>(omega(<span class="built_in">i</span> + <span class="number">1</span>) - w0) &lt; TOL</span><br><span class="line"></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                mark = mark + <span class="number">1</span>;</span><br><span class="line">                w0 = omega(<span class="built_in">i</span> + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> mark &gt; M</span><br><span class="line"></span><br><span class="line">                    <span class="built_in">disp</span>(<span class="string">&#x27;超出最大迭代次数&#x27;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        t(<span class="built_in">i</span> + <span class="number">1</span>) = endpoint_a + <span class="built_in">i</span> * h;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; y = dsolve(<span class="string">&#x27;Dy=5*exp(5*t)*(y-t)^2+1&#x27;</span>, <span class="string">&#x27;y(0)=-1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; fplot(y, [<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">hold</span> on</span><br><span class="line"></span><br><span class="line">&gt;&gt; F = @(t, y)<span class="number">5</span> * <span class="built_in">exp</span>(<span class="number">5</span> * t) * (y - t)^<span class="number">2</span> + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [t, omega] = Trapezoidal_Newton_Iteration(F, <span class="number">5</span>, <span class="number">-1</span>, <span class="number">0.000001</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">plot</span>(t, omega)</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="built_in">legend</span>(<span class="string">&#x27;刚性微分方程的精确解&#x27;</span>,<span class="string">&#x27;刚性微分方程的近似解&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90/%E5%88%9A%E6%80%A7%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B.png" alt="刚性微分方程"></p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
            <tag> 计算数学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库</title>
      <link href="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <url>/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1>实验一：</h1><ol><li class="lvl-3">要求在本地磁盘D创建一个学生-课程数据库（名称为student），只有一个数据文件和日志文件，文件名称分别为stu和stu_log，物理名称为stu_data.mdf 和stu_log.ldf，初始大小都为3MB，增长方式分别为10%和1MB，数据文件最大为500MB，日志文件大小不受限制。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE student</span><br><span class="line"><span class="keyword">ON</span> (</span><br><span class="line">name<span class="operator">=</span>stu,<span class="comment">--数据文件名称</span></span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\student.mdf&#x27;</span>,<span class="comment">--存放位置</span></span><br><span class="line">size<span class="operator">=</span><span class="number">3</span>MB,<span class="comment">--初始大小</span></span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span>)<span class="comment">--增长方式</span></span><br><span class="line">LOG <span class="keyword">ON</span> (</span><br><span class="line">name<span class="operator">=</span>stu_log,<span class="comment">--日志文件名称</span></span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\student.ldf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">3</span>MB,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">500</span>MB,<span class="comment">--数据文件最大</span></span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">1</span>MB<span class="comment">--增长方式</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429194657875.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>创建一个Company数据库，该数据库的主数据文件逻辑名称为Company_data，物理文件为Company.mdf，初始大小为10MB，最大尺寸为无限大，增长速度为10%；数据库的日志文件逻辑名称为Company_log，物理文件名为Company.ldf，初始大小为1MB，最大尺寸为50MB，增长速度为1MB。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE Company</span><br><span class="line"><span class="keyword">ON</span> (</span><br><span class="line">name<span class="operator">=</span>Company_data,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\Company.mdf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">10</span>mb,</span><br><span class="line">maxsize<span class="operator">=</span>unlimited,<span class="comment">--最大尺寸无限制</span></span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span>)</span><br><span class="line">LOG <span class="keyword">ON</span> (</span><br><span class="line">name<span class="operator">=</span>Company_log,filename<span class="operator">=</span><span class="string">&#x27;D:\Company.ldf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">1</span>mb,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">50</span>mb,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">1</span>mb</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429194816553.png" alt="结果展示"></p><ol start="3"><li class="lvl-3"><p>创建数据库DB，具有2个数据文件，文件逻辑名分别为DB_data1和DB_data2，文件初始大小均为5MB，最大为100MB，按10%增长；只有一个日志文件，初始大小为3MB，按10%增长；所有文件都存储在D盘文件夹ceshi中。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database DB</span><br><span class="line"><span class="keyword">on</span></span><br><span class="line"><span class="keyword">primary</span></span><br><span class="line">(<span class="comment">--创建两个数据文件</span></span><br><span class="line">name<span class="operator">=</span>DB_data1,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\ceshi\DB_data1.mdf&#x27;</span>,<span class="comment">--文件存储在D盘文件夹ceshi中</span></span><br><span class="line">size<span class="operator">=</span><span class="number">5</span>mb,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span>,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">100</span>mb</span><br><span class="line">),</span><br><span class="line">(name<span class="operator">=</span>DB_data2,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\ceshi\DB_data2.ndf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">5</span>mb,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span>,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">100</span>mb</span><br><span class="line">)</span><br><span class="line">log <span class="keyword">on</span></span><br><span class="line">(<span class="comment">--只有一个数据文件</span></span><br><span class="line">name<span class="operator">=</span>DB_log,</span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\ceshi\DB.ldf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">3</span>mb,</span><br><span class="line">maxsize<span class="operator">=</span>unlimited,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><mark>注：先在D盘新建一个 ceshi 文件夹</mark></p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429194929869.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>在数据库student中增加数据文件db2，初始大小为10MB，最大大小为50 MB，按10%增长；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line"><span class="keyword">ADD</span> FILE</span><br><span class="line">(</span><br><span class="line">NAME<span class="operator">=</span>db2,<span class="comment">--增加数据文件db2</span></span><br><span class="line">filename<span class="operator">=</span><span class="string">&#x27;D:\db2.ndf&#x27;</span>,</span><br><span class="line">size<span class="operator">=</span><span class="number">10</span>mb,</span><br><span class="line">maxsize<span class="operator">=</span><span class="number">50</span>mb,</span><br><span class="line">filegrowth<span class="operator">=</span><span class="number">10</span><span class="operator">%</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429194953848.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>在数据库student中添加日志文件，保存在D盘中，初始大小为1MB，最大无限制，增长方式按照1MB增长；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line"><span class="keyword">ADD</span> LOG FILE</span><br><span class="line">(</span><br><span class="line">NAME<span class="operator">=</span>stu_log2,<span class="comment">--增加日志文件db2</span></span><br><span class="line">FILENAME<span class="operator">=</span><span class="string">&#x27;D:\stu_log2.ldf&#x27;</span>,</span><br><span class="line">SIZE<span class="operator">=</span><span class="number">1</span>MB,</span><br><span class="line">MAXSIZE<span class="operator">=</span>unlimited,</span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">1</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195116508.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>修改数据库student主数据文件的大小，将主数据文件的初始大小修改为10Mb，增长方式为20%；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line">MODIFY FILE</span><br><span class="line">(</span><br><span class="line">NAME<span class="operator">=</span>stu,</span><br><span class="line">SIZE<span class="operator">=</span><span class="number">10</span>MB,<span class="comment">--修改数据文件初始大小</span></span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">20</span><span class="operator">%</span><span class="comment">--修改数据文件增长方式</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="7"><li class="lvl-3"><p>修改数据库student辅助数据文件初始大小为3MB，最大为100MB，按照10%增长，名称为db2;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line">MODIFY FILE</span><br><span class="line">(NAME<span class="operator">=</span>db2,</span><br><span class="line"> SIZE<span class="operator">=</span><span class="number">3</span>MB,</span><br><span class="line"> MAXSIZE<span class="operator">=</span><span class="number">100</span>MB,</span><br><span class="line"> FILEGROWTH<span class="operator">=</span><span class="number">10</span><span class="operator">%</span></span><br><span class="line"> )</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195134630.png" alt="错误"></p><p><mark>报错原因：不能被收缩</mark></p><ol start="8"><li class="lvl-3"><p>删除数据库student辅助数据文件和第二个日志文件；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line">REMOVE FILE db2</span><br><span class="line"><span class="comment">--分割线--</span></span><br><span class="line"><span class="comment">--------必须一个一个输入--------</span></span><br><span class="line"><span class="keyword">ALTER</span> DATABASE student</span><br><span class="line">REMOVE FILE stu_log2</span><br></pre></td></tr></table></figure><ol start="9"><li class="lvl-3"><p>删除数据库company和DB。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE company</span><br><span class="line">go<span class="comment">--可以连续操作</span></span><br><span class="line"><span class="keyword">DROP</span> DATABASE DB</span><br></pre></td></tr></table></figure><h1>实验二</h1><p>请分别使用Management Stuio及T-SQL完成以下内容：</p><ol><li class="lvl-3"><p>请在指定数据库内完成以下内容：</p></li></ol><p>1） 依据数据表的结构创建相对应的数据表，表结构如下所示；</p><p><strong>学生信息表（student）</strong></p><table><thead><tr><th>字段名称</th><th>字段类型及长度</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>Sno</td><td>Char（9）</td><td>学生学号</td><td>主关键字</td></tr><tr><td>Sname</td><td>Char（6）</td><td>学生姓名</td><td>非空</td></tr><tr><td>Ssex</td><td>Char（2）</td><td>学生性别</td><td>可为空</td></tr><tr><td>Sage</td><td>Int</td><td>学生年龄</td><td>可为空</td></tr><tr><td>Sdept</td><td>VarChar（8）</td><td>学生所在院系</td><td>可为空</td></tr></tbody></table><p><strong>课程信息表（course）</strong></p><table><thead><tr><th>字段名称</th><th>字段类型及长度</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>Cno</td><td>Char（4）</td><td>课程编号</td><td>主关键字</td></tr><tr><td>Cname</td><td>VarChar（20）</td><td>课程名称</td><td>非空</td></tr><tr><td>Cpno</td><td>Char（4）</td><td>先行课</td><td>可为空</td></tr><tr><td>Ccredit</td><td>Int</td><td>学分</td><td>可为空</td></tr></tbody></table><p><strong>选课信息表（sc）</strong></p><table><thead><tr><th>字段名称</th><th>字段类型及长度</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>Sno</td><td>Char（9）</td><td>学生学号</td><td>主关键字</td></tr><tr><td>Cno</td><td>Char（4）</td><td>课程编号</td><td>主关键字</td></tr><tr><td>Grade</td><td>Int</td><td>成绩</td><td>可为空</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Student (</span><br><span class="line">Sno   <span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">primary</span> key,<span class="comment">--主码</span></span><br><span class="line">Sname <span class="type">char</span>(<span class="number">6</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,<span class="comment">--非空</span></span><br><span class="line">Ssex  <span class="type">char</span>(<span class="number">2</span>)  ,</span><br><span class="line">Sage  <span class="type">Int</span>      ,</span><br><span class="line">Sdept <span class="type">VarChar</span>(<span class="number">8</span>))</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course (</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Cname <span class="type">VarChar</span>(<span class="number">20</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cpno  <span class="type">char</span>(<span class="number">4</span>)  ,</span><br><span class="line">Ccredit  <span class="type">Int</span>    )</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sc (</span><br><span class="line">Sno   <span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Grade  <span class="type">Int</span>     </span><br><span class="line"><span class="keyword">primary</span> key (Sno,Cno)<span class="comment">--双主码</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195225532.png" alt="结果展示"></p><p>2） 在表student中增加新字段 “班级名称（sclass）”；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> sclass <span class="type">VarChar</span>(<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195320475.png" alt="结果展示"></p><p>3） 在表student中删除字段“班级名称（sclass）”；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">column</span> sclass</span><br></pre></td></tr></table></figure><p>4） 修改表student中字段名为“sname”的字段长度由原来的6改为8；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">alter</span> <span class="keyword">column</span> Sname <span class="type">char</span>(<span class="number">8</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195349796.png" alt="结果展示"></p><p>5） 修改表student中字段“sdept”名称为“dept”，长度为20；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">column</span> Sdept</span><br><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> dept <span class="type">VarChar</span>(<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>6） 修改表student中sage字段名称为sbirth，类型为smalldatetime；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">drop</span> <span class="keyword">column</span> Sage</span><br><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> student <span class="keyword">add</span> sbirth smalldatetime</span><br></pre></td></tr></table></figure><p>7） 修改表student新名称为stu_info；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">exec</span> sp_rename<span class="string">&#x27;student&#x27;</span>,<span class="string">&#x27;stu_info&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195515759.png" alt="结果展示"></p><p>8） 删除数据表student；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student</span><br></pre></td></tr></table></figure><p><mark>注：改名了还如何删除？</mark></p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195530026.png" alt="错误展示"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> stu_info</span><br></pre></td></tr></table></figure><p><strong>真实删除</strong></p><p>2、创建教师授课管理数据库JSSK，并完成以下内容；</p><p>1） 在数据库JSSK中创建下列三张表；</p><p><strong>表名：teachers</strong></p><table><thead><tr><th>列名</th><th>数据类型</th><th>说明</th><th>描述</th></tr></thead><tbody><tr><td>Tno</td><td>字符型，长度7</td><td>主键</td><td>教师号</td></tr><tr><td>Tname</td><td>字符型，长度10</td><td>非空</td><td>姓名</td></tr><tr><td>Tsex</td><td>字符型，长度2</td><td>默认取值为“男”</td><td>性别</td></tr><tr><td>Birthday</td><td>小日期时间型</td><td>允许空</td><td>出生日期</td></tr><tr><td>Dept</td><td>字符型，长度20</td><td>允许空</td><td>所在部门</td></tr><tr><td>Sid</td><td>字符型，长度18</td><td></td><td>身份证号</td></tr></tbody></table><p><strong>表名： lessons</strong></p><table><thead><tr><th>列名</th><th>数据类型</th><th>说明</th><th>描述</th></tr></thead><tbody><tr><td>Cno</td><td>字符型，长度10</td><td>主键</td><td>课程号</td></tr><tr><td>Cname</td><td>字符型，长度20</td><td>非空</td><td>课程名</td></tr><tr><td>Credit</td><td>短整型</td><td></td><td>学分</td></tr><tr><td>property</td><td>字符型，长度为10</td><td></td><td>课程性质</td></tr></tbody></table><p><strong>表名： shouke</strong></p><table><thead><tr><th>列名</th><th>数据类型</th><th>说明</th><th>描述</th></tr></thead><tbody><tr><td>Tno</td><td>字符型，长度7</td><td>主键</td><td>教师号</td></tr><tr><td>Cno</td><td>字符型，长度10</td><td>主键</td><td>课程名</td></tr><tr><td>Hours</td><td>整数</td><td></td><td>课时</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database JSSK</span><br><span class="line"></span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teachers (</span><br><span class="line">Tno   <span class="type">char</span>(<span class="number">7</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Tname <span class="type">char</span>(<span class="number">10</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Tsex  <span class="type">char</span>(<span class="number">2</span>)<span class="keyword">default</span><span class="string">&#x27;男&#x27;</span>,<span class="comment">--默认取值为“男”</span></span><br><span class="line">Birthday  smalldatetime     ,</span><br><span class="line">Dept  <span class="type">char</span>(<span class="number">20</span>),</span><br><span class="line">Sid   <span class="type">char</span>(<span class="number">18</span>))</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>  lessons (</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">10</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Cname <span class="type">char</span>(<span class="number">20</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Credit<span class="type">smallint</span>,</span><br><span class="line">property <span class="type">char</span>(<span class="number">10</span>))</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>  shouke (</span><br><span class="line">Tno   <span class="type">char</span>(<span class="number">7</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Hours <span class="type">int</span></span><br><span class="line"><span class="keyword">primary</span> key (Tno,Cno))</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195818917.png" alt="结果展示"></p><p>2） 在shouke表里添加一个授课类别字段，列名为Type，类型为Char，长度为4；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> shouke <span class="keyword">add</span> Type <span class="type">char</span>(<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195837624.png" alt="结果展示"></p><p>3） 将shouke表的Hours的类型改为smallint；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> shouke <span class="keyword">alter</span> <span class="keyword">column</span> Hours <span class="type">smallint</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195848558.png" alt="结果展示"></p><p>4） 删除lessons表中的property列；</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Alter</span> <span class="keyword">table</span> lessons <span class="keyword">drop</span> <span class="keyword">column</span> property</span><br></pre></td></tr></table></figure><h1>实验三</h1><p>以课本指定的数据库为例，并依据数据表的结构创建相对应的数据表（student、course、sc），请分别使用Management Stuio界面方式及T-SQL 语句实现进行以下操作：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Student (</span><br><span class="line">Sno   <span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">primary</span> key,<span class="comment">--主码</span></span><br><span class="line">Sname <span class="type">char</span>(<span class="number">6</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,<span class="comment">--非空</span></span><br><span class="line">Ssex  <span class="type">char</span>(<span class="number">2</span>)  ,</span><br><span class="line">Sage  <span class="type">Int</span>      ,</span><br><span class="line">Sdept <span class="type">VarChar</span>(<span class="number">8</span>))</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course (</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Cname <span class="type">VarChar</span>(<span class="number">20</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cpno  <span class="type">char</span>(<span class="number">4</span>)  ,</span><br><span class="line">Ccredit  <span class="type">Int</span>    )</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sc (</span><br><span class="line">Sno   <span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cno   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Grade  <span class="type">Int</span>     </span><br><span class="line"><span class="keyword">primary</span> key (Sno,Cno)<span class="comment">--双主码</span></span><br><span class="line"><span class="keyword">foreign</span> key (Sno) <span class="keyword">references</span> Student (Sno),<span class="comment">--外码</span></span><br><span class="line"><span class="keyword">foreign</span> key (Cno) <span class="keyword">references</span> course (Cno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><mark>预备：预建表格</mark></p><ol><li class="lvl-3"><p>向各个数据表中插入如下记录：</p></li></ol><p>*<strong>学生信息表（student）</strong></p><table><thead><tr><th>Sno</th><th>Sname</th><th>Ssex</th><th>Sage</th><th>Sdept</th></tr></thead><tbody><tr><td>200515001</td><td>赵菁菁</td><td>女</td><td>23</td><td>CS</td></tr><tr><td>200515002</td><td>李勇</td><td>男</td><td>20</td><td>CS</td></tr><tr><td>200515003</td><td>张力</td><td>男</td><td>19</td><td>CS</td></tr><tr><td>200515004</td><td>张衡</td><td>男</td><td>18</td><td>IS</td></tr><tr><td>200515005</td><td>张向东</td><td>男</td><td>20</td><td>IS</td></tr><tr><td>200515006</td><td>张向丽</td><td>女</td><td>20</td><td>IS</td></tr><tr><td>200515007</td><td>王芳</td><td>女</td><td>20</td><td>CS</td></tr><tr><td>200515008</td><td>王民生</td><td>男</td><td>25</td><td>MA</td></tr><tr><td>200515009</td><td>王小民</td><td>女</td><td>18</td><td>MA</td></tr><tr><td>200515010</td><td>李晨</td><td>女</td><td>22</td><td>MA</td></tr><tr><td>200515011</td><td>张毅</td><td>男</td><td>20</td><td>WM</td></tr><tr><td>200515012</td><td>杨磊</td><td>女</td><td>20</td><td>EN</td></tr><tr><td>200515013</td><td>李晨</td><td>女</td><td>19</td><td>MA</td></tr><tr><td>200515014</td><td>张丰毅</td><td>男</td><td>22</td><td>CS</td></tr><tr><td>200515015</td><td>李蕾</td><td>女</td><td>21</td><td>EN</td></tr><tr><td>200515016</td><td>刘社</td><td>男</td><td>21</td><td>CM</td></tr><tr><td>200515017</td><td>刘星耀</td><td>男</td><td>18</td><td>CM</td></tr><tr><td>200515018</td><td>李贵</td><td>男</td><td>19</td><td>EN</td></tr><tr><td>200515019</td><td>林自许</td><td>男</td><td>20</td><td>WM</td></tr><tr><td>200515020</td><td>马翔</td><td>男</td><td>21</td><td></td></tr><tr><td>200515021</td><td>刘峰</td><td>男</td><td>25</td><td>CS</td></tr><tr><td>200515022</td><td>牛站强</td><td>男</td><td>22</td><td></td></tr><tr><td>200515023</td><td>李婷婷</td><td>女</td><td>18</td><td></td></tr><tr><td>200515024</td><td>严丽</td><td>女</td><td>20</td><td></td></tr><tr><td>200515025</td><td>朱小鸥</td><td>女</td><td>30</td><td>WM</td></tr></tbody></table><p><strong>课程信息表（course）</strong></p><table><thead><tr><th>Cno</th><th>Cname</th><th>Cpno</th><th>Ccredit</th></tr></thead><tbody><tr><td>1</td><td>数据库</td><td>5</td><td>4</td></tr><tr><td>2</td><td>数学</td><td></td><td>2</td></tr><tr><td>3</td><td>信息系统</td><td>1</td><td>4</td></tr><tr><td>4</td><td>操作系统</td><td>6</td><td>3</td></tr><tr><td>5</td><td>数据结构</td><td>7</td><td>4</td></tr><tr><td>6</td><td>数据处理</td><td></td><td>2</td></tr><tr><td>7</td><td>PASCAL语言</td><td>6</td><td>4</td></tr><tr><td>8</td><td>大学英语</td><td></td><td>4</td></tr><tr><td>9</td><td>计算机网络</td><td></td><td>4</td></tr><tr><td>10</td><td>人工智能</td><td></td><td>2</td></tr></tbody></table><p><strong>选课信息表（sc）</strong></p><table><thead><tr><th>Sno</th><th>Cno</th><th>Grade</th></tr></thead><tbody><tr><td>200515001</td><td>1</td><td>75</td></tr><tr><td>200515002</td><td>1</td><td>85</td></tr><tr><td>200515002</td><td>3</td><td>53</td></tr><tr><td>200515003</td><td>1</td><td>86</td></tr><tr><td>200515004</td><td>1</td><td>74</td></tr><tr><td>200515005</td><td>1</td><td>58</td></tr><tr><td>200515006</td><td>1</td><td>84</td></tr><tr><td>200515004</td><td>2</td><td>46</td></tr><tr><td>200515005</td><td>2</td><td>89</td></tr><tr><td>200515006</td><td>2</td><td>65</td></tr><tr><td>200515008</td><td>2</td><td>72</td></tr><tr><td>200515009</td><td>2</td><td>76</td></tr><tr><td>200515010</td><td>2</td><td>96</td></tr><tr><td>200515010</td><td>8</td><td>86</td></tr><tr><td>200515011</td><td>8</td><td>62</td></tr><tr><td>200515015</td><td>8</td><td>0</td></tr><tr><td>200515018</td><td>8</td><td>58</td></tr><tr><td>200515001</td><td>4</td><td>62</td></tr><tr><td>200515002</td><td>4</td><td>85</td></tr><tr><td>200515021</td><td>9</td><td>54</td></tr><tr><td>200515001</td><td>5</td><td>58</td></tr><tr><td>200515021</td><td>6</td><td>58</td></tr><tr><td>200515001</td><td>7</td><td>70</td></tr><tr><td>200515005</td><td>10</td><td>65</td></tr><tr><td>200515016</td><td>8</td><td>Null</td></tr><tr><td>200515017</td><td>8</td><td>Null</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515001&#x27;</span>,<span class="string">&#x27;赵菁菁&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">23</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515002&#x27;</span>,<span class="string">&#x27;李勇&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515003&#x27;</span>,<span class="string">&#x27;张力&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515004&#x27;</span>,<span class="string">&#x27;张衡&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;IS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515005&#x27;</span>,<span class="string">&#x27;张向东&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;IS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515006&#x27;</span>,<span class="string">&#x27;张向丽&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;IS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515007&#x27;</span>,<span class="string">&#x27;王芳&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515008&#x27;</span>,<span class="string">&#x27;王民生&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;MA&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515009&#x27;</span>,<span class="string">&#x27;王小民&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;MA&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515010&#x27;</span>,<span class="string">&#x27;李晨&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">22</span>,<span class="string">&#x27;MA&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515011&#x27;</span>,<span class="string">&#x27;张毅&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;WM&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515012&#x27;</span>,<span class="string">&#x27;杨磊&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;EN&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515013&#x27;</span>,<span class="string">&#x27;李晨&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;MA&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515014&#x27;</span>,<span class="string">&#x27;张丰毅&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">22</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515015&#x27;</span>,<span class="string">&#x27;李蕾&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">21</span>,<span class="string">&#x27;EN&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515016&#x27;</span>,<span class="string">&#x27;刘社&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">21</span>,<span class="string">&#x27;CM&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515017&#x27;</span>,<span class="string">&#x27;刘星耀&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;CM&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515018&#x27;</span>,<span class="string">&#x27;李贵&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;EN&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515019&#x27;</span>,<span class="string">&#x27;林自许&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;WM&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515020&#x27;</span>,<span class="string">&#x27;马翔&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">26</span>,<span class="keyword">NULL</span>)<span class="comment">--NULL为空</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515021&#x27;</span>,<span class="string">&#x27;刘峰&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515022&#x27;</span>,<span class="string">&#x27;牛站强&#x27;</span> ,<span class="string">&#x27;男&#x27;</span>,<span class="number">22</span>,<span class="keyword">NULL</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515023&#x27;</span>,<span class="string">&#x27;李婷婷&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">18</span>,<span class="keyword">NULL</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515024&#x27;</span>,<span class="string">&#x27;严丽&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">20</span>,<span class="keyword">NULL</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="string">&#x27;200515025&#x27;</span>,<span class="string">&#x27;朱小鸥&#x27;</span> ,<span class="string">&#x27;女&#x27;</span>,<span class="number">30</span>,<span class="string">&#x27;WM&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;数据库&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;数学&#x27;</span>,<span class="keyword">NULL</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;信息系统&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;操作系统&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;数据结构&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;数据处理&#x27;</span>,<span class="keyword">NULL</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;PASCAL语言&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;大学英语&#x27;</span>,<span class="keyword">NULL</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;计算机网络&#x27;</span>,<span class="keyword">NULL</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="string">&#x27;10&#x27;</span>,<span class="string">&#x27;人工智能&#x27;</span>,<span class="keyword">NULL</span>,<span class="number">2</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515001&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">75</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515002&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">85</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515002&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="number">53</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515003&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">86</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515004&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">74</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515005&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515006&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="number">84</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515004&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">46</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515005&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">89</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515006&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">65</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515008&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">72</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515009&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">76</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515010&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="number">96</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515010&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="number">86</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515011&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="number">62</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515015&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515018&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515001&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="number">62</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515002&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="number">85</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515021&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="number">54</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515001&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515021&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515001&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="number">70</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515005&#x27;</span>,<span class="string">&#x27;10&#x27;</span>,<span class="number">65</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515016&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="keyword">NULL</span>)</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc <span class="keyword">values</span>(<span class="string">&#x27;200515017&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="keyword">NULL</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195925228.png" alt="结果展示"><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195937355.png" alt="结果展示"><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195946989.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>修改CS系姓名为“李勇”的学生姓名为“李咏”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student </span><br><span class="line"><span class="keyword">set</span> Sname<span class="operator">=</span><span class="string">&#x27;李咏&#x27;</span></span><br><span class="line"><span class="keyword">where</span> Sname <span class="operator">=</span> <span class="string">&#x27;李勇&#x27;</span> <span class="keyword">and</span> Sdept <span class="operator">=</span> <span class="string">&#x27;CS&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429195959666.png" alt="结果展示"></p><ol start="3"><li class="lvl-3"><p>修改课程“数据处理”的学分为3学分；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> course <span class="keyword">set</span> Ccredit<span class="operator">=</span><span class="number">3</span></span><br><span class="line"><span class="keyword">where</span> Cname <span class="operator">=</span> <span class="string">&#x27;数据处理&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200044425.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>将选修课程“1”的同学成绩加5分；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> sc <span class="keyword">set</span> Grade<span class="operator">=</span>Grade<span class="operator">+</span><span class="number">5</span></span><br><span class="line"><span class="keyword">where</span> Cno <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200058119.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>将选修课程“大学英语”的同学成绩加5分；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> sc <span class="keyword">set</span> Grade <span class="operator">=</span> Grade<span class="operator">+</span><span class="number">5</span></span><br><span class="line"><span class="keyword">where</span> Cno <span class="keyword">in</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> course <span class="keyword">where</span> Cname<span class="operator">=</span> <span class="string">&#x27;大学英语&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200112251.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>将学号为“200515010”的学生信息重新设置为“王丹丹、女、20、MA”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> Sname <span class="operator">=</span> <span class="string">&#x27;王丹丹&#x27;</span>,Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>,Sage<span class="operator">=</span><span class="number">20</span>,Sdept<span class="operator">=</span><span class="string">&#x27;MA&#x27;</span></span><br><span class="line"><span class="keyword">where</span> Sno <span class="operator">=</span> <span class="number">200515010</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200126594.png" alt="结果展示"></p><ol start="7"><li class="lvl-3"><p>向student表中增加记录：（200515026，王婧婧、女、21，CS）；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">200515026</span>,<span class="string">&#x27;王婧婧&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">21</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200142579.png" alt="结果展示"></p><ol start="8"><li class="lvl-3"><p>删除数据表student中无系别的学生记录；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sdept <span class="keyword">is</span> <span class="keyword">NULL</span><span class="comment">--只能用 is 语句</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200158885.png" alt="结果展示"></p><ol start="9"><li class="lvl-3"><p>删除数据表student中计算机系年龄大于25的男同学的记录；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sage <span class="operator">&gt;</span> <span class="number">25</span> <span class="keyword">and</span> Sdept <span class="operator">=</span> <span class="string">&#x27;CS&#x27;</span> <span class="keyword">and</span> Ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200227704.png" alt="结果展示"></p><p>原因：数据表student中无计算机系年龄大于25的男同学</p><p><mark>（惊了，计算机专业居然没有大蜀黍）</mark></p><ol start="10"><li class="lvl-4"><p>删除数据表course中学分低于1学分的课程信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> Ccredit <span class="operator">&lt;</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200241055.png" alt="结果展示"></p><p>原因：数据表course中无学分低于1学分的课程</p><h1>实验四</h1><p>1、在学生选课库（如下3个表）中，用Transact-SQL语句实现下列简单数据查询操作。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Student (</span><br><span class="line">Snum<span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Sname<span class="type">char</span>(<span class="number">6</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Sex<span class="type">char</span>(<span class="number">2</span>),</span><br><span class="line">Sage<span class="type">Int</span>,</span><br><span class="line">Sphone<span class="type">char</span>(<span class="number">16</span>),</span><br><span class="line">Dnum<span class="type">char</span>(<span class="number">6</span>)</span><br><span class="line">)</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Course (</span><br><span class="line">Cnum   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">primary</span> key,</span><br><span class="line">Cname <span class="type">VarChar</span>(<span class="number">20</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cfreq  <span class="type">Int</span></span><br><span class="line">)</span><br><span class="line">go</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> SC (</span><br><span class="line">Snum   <span class="type">char</span>(<span class="number">9</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Cnum   <span class="type">char</span>(<span class="number">4</span>)  <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Score  <span class="type">Int</span>     </span><br><span class="line"><span class="keyword">primary</span> key (Snum,Cnum)</span><br><span class="line"><span class="keyword">foreign</span> key (Snum) <span class="keyword">references</span> Student (Snum),</span><br><span class="line"><span class="keyword">foreign</span> key (Cnum) <span class="keyword">references</span> Course (Cnum)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><mark>预备：预建表格</mark></p><p><strong>Student表</strong></p><table><thead><tr><th>学号Snum</th><th>姓名Sname</th><th>性别Sex</th><th>年龄Sage</th><th>电话Sphone</th><th>系编号Dnum</th></tr></thead><tbody><tr><td>S001</td><td>王明</td><td>男</td><td>19</td><td>86824571</td><td>D2</td></tr><tr><td>S002</td><td>李勇</td><td>男</td><td>23</td><td>89454321</td><td>D3</td></tr><tr><td>S003</td><td>刘燕</td><td>女</td><td>21</td><td></td><td>D1</td></tr><tr><td>S004</td><td>王萍</td><td>女</td><td>23</td><td></td><td>D1</td></tr><tr><td>S005</td><td>王佳</td><td>男</td><td>24</td><td>13098765892</td><td>D3</td></tr><tr><td>S006</td><td>赵婷</td><td>女</td><td>20</td><td></td><td>D1</td></tr></tbody></table><p><strong>SC表</strong></p><table><thead><tr><th>学号Snum</th><th>课程号Cnum</th><th>成绩Score</th></tr></thead><tbody><tr><td>S001</td><td>C1</td><td>83</td></tr><tr><td>S001</td><td>C2</td><td>89</td></tr><tr><td>S001</td><td>C3</td><td>65</td></tr><tr><td>S001</td><td>C4</td><td>85</td></tr><tr><td>S001</td><td>C5</td><td>69</td></tr><tr><td>S002</td><td>C3</td><td>78</td></tr><tr><td>S002</td><td>C4</td><td>75</td></tr><tr><td>S005</td><td>C1</td><td>95</td></tr><tr><td>S004</td><td>C1</td><td>85</td></tr><tr><td><mark>S005</mark></td><td><mark>C1</mark></td><td>92</td></tr><tr><td>S005</td><td>C3</td><td>76</td></tr></tbody></table><p><strong>Course表</strong></p><table><thead><tr><th>课程号Cnum</th><th>课程名称Cname</th><th>学分Cfreq</th></tr></thead><tbody><tr><td>C1</td><td>数据库系统原理</td><td>4</td></tr><tr><td>C2</td><td>C程序设计</td><td>4</td></tr><tr><td>C3</td><td>计算机体系结构</td><td>3</td></tr><tr><td>C4</td><td>自动控制原理</td><td>2</td></tr><tr><td>C5</td><td>数据结构</td><td>4</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Student(Snum,Sname,Sex,Sage,Sphone,Dnum)</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;王明&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;86824571&#x27;</span>,<span class="string">&#x27;D2&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;S002&#x27;</span>,<span class="string">&#x27;李勇&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">23</span>,<span class="string">&#x27;89454321&#x27;</span>,<span class="string">&#x27;D3&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;S003&#x27;</span>,<span class="string">&#x27;刘燕&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">21</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;D1&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;S004&#x27;</span>,<span class="string">&#x27;王萍&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">23</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;D1&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;S005&#x27;</span>,<span class="string">&#x27;王佳&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">24</span>,<span class="string">&#x27;13098765892&#x27;</span>,<span class="string">&#x27;D3&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;S006&#x27;</span>,<span class="string">&#x27;赵婷&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">20</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;D1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Course (Cnum,Cname,Cfreq)</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;C1&#x27;</span>,<span class="string">&#x27;数据库系统管理&#x27;</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="string">&#x27;C2&#x27;</span>,<span class="string">&#x27;C 程序设计&#x27;</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="string">&#x27;C3&#x27;</span>,<span class="string">&#x27;计算机体系结构&#x27;</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="string">&#x27;C4&#x27;</span>,<span class="string">&#x27;自动控制原理&#x27;</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="string">&#x27;C5&#x27;</span>,<span class="string">&#x27;数据结构&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">go</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> SC(Snum,Cnum,Score)</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;C1&#x27;</span>,<span class="number">83</span>),</span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;C2&#x27;</span>,<span class="number">89</span>),</span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;C3&#x27;</span>,<span class="number">65</span>),</span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;C4&#x27;</span>,<span class="number">85</span>),</span><br><span class="line">(<span class="string">&#x27;S001&#x27;</span>,<span class="string">&#x27;C5&#x27;</span>,<span class="number">69</span>),</span><br><span class="line">(<span class="string">&#x27;S002&#x27;</span>,<span class="string">&#x27;C3&#x27;</span>,<span class="number">78</span>),</span><br><span class="line">(<span class="string">&#x27;S002&#x27;</span>,<span class="string">&#x27;C4&#x27;</span>,<span class="number">75</span>),</span><br><span class="line">(<span class="string">&#x27;S005&#x27;</span>,<span class="string">&#x27;C1&#x27;</span>,<span class="number">95</span>),</span><br><span class="line">(<span class="string">&#x27;S004&#x27;</span>,<span class="string">&#x27;C1&#x27;</span>,<span class="number">85</span>),</span><br><span class="line"><span class="comment">--(&#x27;S005&#x27;,&#x27;C1&#x27;,92),重复键</span></span><br><span class="line">(<span class="string">&#x27;S005&#x27;</span>,<span class="string">&#x27;C3&#x27;</span>,<span class="number">76</span>)</span><br></pre></td></tr></table></figure><p><mark>插入信息</mark></p><p>注：有一行重复键无法输入<mark>plus：这是老师您的良苦用心嘛：）</mark></p><p>plus+:不能用excel表格导入的原因</p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200258289.png" alt="辣鸡玩意儿"></p><p><mark>微软自家的SQL连自家的Excel2019都导入不了（是不是废了？：）</mark></p><p>怪我版本号高喽~</p><ol><li class="lvl-3"><p>查询系编号为‘D2’学生的基本信息（学号、姓名、性别、年龄）。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> Student<span class="comment">--查询全部列</span></span><br><span class="line"><span class="keyword">where</span> Dnum<span class="operator">=</span><span class="string">&#x27;D2&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200312105.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>查询学号为S006的学生的姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Snum<span class="operator">=</span><span class="string">&#x27;S006&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200323167.png" alt="结果展示"></p><ol start="3"><li class="lvl-3"><p>查询成绩在60-85之间的学生的学号。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Snum <span class="keyword">from</span> SC</span><br><span class="line"><span class="keyword">where</span> Score <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">85</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> Snum <span class="keyword">from</span> SC<span class="comment">--取消取值相同的行</span></span><br><span class="line"><span class="keyword">where</span> Score <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">85</span> ;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200338830.png" alt="结果展示"></p><p>（当然，<mark>后面的题目告诉我这里不必要用DISTINCT：）</mark></p><ol start="4"><li class="lvl-3"><p>查询所有姓王，并且姓名为两个字的学生的信息。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;王_&#x27;</span>;<span class="comment">--只能使用 LIKE 不能用 =</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200446657.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>查询选修课程号为‘C1’且成绩非空的学生学号和成绩，成绩按150分制输出（每个成绩乘以系数1.5）。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Snum,Score<span class="operator">*</span><span class="number">1.5</span> <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">WHERE</span> Cnum <span class="operator">=</span> <span class="string">&#x27;C1&#x27;</span> <span class="keyword">and</span> Score <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">NULL</span> ;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200458228.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>查询有选课记录的所有学生的学号，用DISTINCT限制结果中学号不重复。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">DISTINCT</span> Snum <span class="keyword">from</span> SC</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200647586.png" alt="结果展示"></p><ol start="7"><li class="lvl-3"><p>查询选修课程‘C1’的学生学号和成绩，结果按成绩的升序排列，如果成绩相同则按学号的降序排列。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Snum,Score <span class="keyword">from</span> SC</span><br><span class="line"><span class="keyword">where</span> Cnum<span class="operator">=</span><span class="string">&#x27;C1&#x27;</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> Score <span class="keyword">asc</span>,Snum <span class="keyword">desc</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200706433.png" alt="结果展示"></p><p>2、以数据库原理实验三数据库中数据为基础，请使用T-SQL 语句实现以下操作：</p><ol><li class="lvl-3"><p>列出所有不姓刘的所有学生；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sname <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;刘%&#x27;</span> ;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200719892.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>列出姓“沈”且全名为3个汉字的学生；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;沈__&#x27;</span> </span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200736771.png" alt="结果展示"></p><p><mark>空</mark></p><ol start="3"><li class="lvl-3"><p>显示在1985年以后出生的学生的基本信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">Year</span>(getDate())<span class="operator">-</span>Sage<span class="operator">&gt;</span><span class="number">1985</span><span class="comment">--Year(getDate())输出当前年份</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200750725.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>按照“性别、学号、姓名、年龄、院系”的顺序列出学生信息，其中性别按以下规定显示：性别为男显示为男 生，性别为女显示为女 生，其他显示为“条件不明”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"><span class="keyword">case</span></span><br><span class="line"><span class="keyword">when</span>(Ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>) <span class="keyword">then</span> <span class="string">&#x27;男生&#x27;</span> </span><br><span class="line"><span class="keyword">when</span>(Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>) <span class="keyword">then</span> <span class="string">&#x27;女生&#x27;</span> </span><br><span class="line"><span class="keyword">else</span> <span class="string">&#x27;条件不明&#x27;</span> </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> Ssex,Sno,Sname,Sage,Sdept <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200805580.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>查询出课程名含有“数据”字串的所有课程基本信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> course</span><br><span class="line"><span class="keyword">WHERE</span> Cname <span class="keyword">LIKE</span> (<span class="string">&#x27;%数据%&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200818799.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>显示学号第八位或者第九位是1、2、3、4或者9的学生的学号、姓名、性别、年龄及院系；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Ssex,<span class="keyword">Year</span>(GETDATE())<span class="operator">-</span>Sage <span class="keyword">FROM</span> student<span class="comment">--Year(GETDATE()) 现在的年份</span></span><br><span class="line"><span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;_______[1,2,3,4,9]%&#x27;</span> <span class="keyword">or</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;________[1,2,3,4,9]%&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200831117.png" alt="结果展示"></p><ol start="7"><li class="lvl-3"><p>列出选修了‘1’课程的学生，按成绩的降序排列；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">WHERE</span> cno<span class="operator">=</span><span class="number">1</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Grade <span class="keyword">DESC</span>  </span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200913323.png" alt="结果展示"></p><ol start="8"><li class="lvl-3"><p>列出同时选修“1”号课程和“2”号课程的所有学生的学号；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">WHERE</span> cno <span class="operator">=</span> <span class="number">1</span> <span class="keyword">or</span> cno <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> sno <span class="keyword">HAVING</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="operator">=</span> <span class="number">2</span>;<span class="comment">--统计选了两门课的学号 </span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200922088.png" alt="结果展示"></p><ol start="9"><li class="lvl-3"><p>列出课程表中全部信息，按先修课的升序排列；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> course</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Cpno <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200932715.png" alt="结果展示"></p><ol start="10"><li class="lvl-4"><p>列出年龄超过平均值的所有学生名单，按年龄的降序显示；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> Sage <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> <span class="built_in">avg</span>(Sage) <span class="keyword">as</span> <span class="string">&#x27;平均年龄&#x27;</span> <span class="keyword">FROM</span> student)<span class="comment">--求平均年龄</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Sage <span class="keyword">Desc</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200942229.png" alt="结果展示"></p><ol start="11"><li class="lvl-4"><p>按照出生年份升序显示所有学生的学号、姓名、性别、出生年份及院系，在结果集中列标题分别指定为“学号，姓名，性别，出生年份，院系”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">as</span> <span class="string">&#x27;学号&#x27;</span>,Sname <span class="keyword">as</span> <span class="string">&#x27;姓名&#x27;</span>,Ssex,<span class="keyword">Year</span>(getDate())<span class="operator">-</span>Sage <span class="keyword">as</span> <span class="string">&#x27;出生年份&#x27;</span>,Sdept <span class="keyword">as</span> <span class="string">&#x27;院系&#x27;</span> <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 出生年份 <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429200957736.png" alt="结果展示"></p><ol start="12"><li class="lvl-4"><p>显示所有院系（要求不能重复，不包括空值），并在结果集中增加一列字段“院系规模”，其中若该院系人数&gt;=5则该字段值为“规模很大”，若该院系人数大于等于4小于5则该字段值为“规模一般”， 若该院系人数大于等于2小于4则该字段值为“规模稍小”，否则显示“规模很小”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sdept,院系规模<span class="operator">=</span>(</span><br><span class="line"><span class="keyword">CASE</span></span><br><span class="line"><span class="keyword">when</span> <span class="built_in">count</span>(Sno)<span class="operator">&gt;=</span><span class="number">5</span>  <span class="keyword">then</span> <span class="string">&#x27;规模很大&#x27;</span> </span><br><span class="line"><span class="keyword">when</span> <span class="built_in">count</span>(Sno)<span class="operator">&gt;=</span><span class="number">4</span> <span class="keyword">and</span> <span class="built_in">count</span>(Sno)<span class="operator">&lt;</span><span class="number">5</span>  <span class="keyword">then</span> <span class="string">&#x27;规模一般&#x27;</span></span><br><span class="line"><span class="keyword">when</span> <span class="built_in">count</span>(Sno)<span class="operator">&gt;=</span><span class="number">2</span> <span class="keyword">and</span> <span class="built_in">count</span>(Sno)<span class="operator">&lt;</span><span class="number">4</span>  <span class="keyword">then</span> <span class="string">&#x27;规模稍小&#x27;</span></span><br><span class="line"><span class="keyword">ELSE</span> <span class="string">&#x27;规模很小&#x27;</span> <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sdept <span class="keyword">HAVING</span> Sdept <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201010269.png" alt="结果展示"></p><ol start="13"><li class="lvl-4"><p>按照课程号、成绩降序显示课程成绩在70-80之间的学生的学号、课程号及成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span><span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="keyword">BETWEEN</span>  <span class="number">70</span> <span class="keyword">and</span> <span class="number">80</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Cno,Grade <span class="keyword">DESC</span> </span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201020348.png" alt="结果展示"></p><ol start="14"><li class="lvl-4"><p>显示学生信息表中的学生总人数及平均年龄，在结果集中列标题分别指定为“学生总人数，平均年龄”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(Sno) <span class="keyword">as</span> <span class="string">&#x27;学生总人数&#x27;</span>,<span class="built_in">avg</span>(Sage) <span class="keyword">as</span> <span class="string">&#x27;平均年龄&#x27;</span> <span class="keyword">FROM</span> student</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201031758.png" alt="结果展示"></p><ol start="15"><li class="lvl-4"><p>显示选修的课程数大于3的各个学生的选修课程数；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,<span class="built_in">count</span>(Cno) <span class="keyword">as</span> <span class="string">&#x27;选修课程数&#x27;</span> <span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno <span class="keyword">HAVING</span> <span class="built_in">count</span>(cno)<span class="operator">&gt;</span><span class="number">3</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201043604.png" alt="结果展示"></p><ol start="16"><li class="lvl-4"><p>按课程号降序显示选修各个课程的总人数、最高成绩、最低成绩及平均成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(Sno)<span class="keyword">as</span> <span class="string">&#x27;课程总人数&#x27;</span>,<span class="built_in">max</span>(Grade) <span class="keyword">as</span> <span class="string">&#x27;最高成绩&#x27;</span>,<span class="built_in">min</span>(Grade) <span class="keyword">as</span> <span class="string">&#x27;最低成绩&#x27;</span>,<span class="built_in">avg</span>(Grade) <span class="string">&#x27;平均成绩&#x27;</span> <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Cno <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201053374.png" alt="结果展示"></p><p>选做题：</p><ol start="17"><li class="lvl-4"><p>显示平均成绩大于“200515001”学生平均成绩的各个学生的学号、平均成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,<span class="built_in">avg</span>(Grade) <span class="keyword">as</span> 平均成绩 <span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno <span class="keyword">HAVING</span> <span class="built_in">avg</span>(Grade)<span class="operator">&gt;</span>(<span class="keyword">SELECT</span> <span class="built_in">avg</span>(Grade) <span class="keyword">FROM</span> sc <span class="keyword">WHERE</span> Sno<span class="operator">=</span><span class="string">&#x27;20051001&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201106448.png" alt="结果展示"></p><ol start="18"><li class="lvl-4"><p>显示选修各个课程的及格的人数;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno,</span><br><span class="line"><span class="built_in">sum</span>(</span><br><span class="line"><span class="keyword">CASE</span></span><br><span class="line"><span class="keyword">when</span> Grade<span class="operator">&gt;</span><span class="number">60</span> <span class="keyword">then</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line">) <span class="keyword">as</span> <span class="string">&#x27;及格人数&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201119917.png" alt="结果展示"></p><ol start="19"><li class="lvl-4"><p>显示选修最多的课程数和最少的课程数；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="string">&#x27;选修课程数最多的学号&#x27;</span> <span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(Sno)<span class="operator">&gt;=</span> <span class="keyword">ALL</span> (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(Sno) <span class="keyword">FROM</span> sc <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno)</span><br><span class="line"><span class="keyword">SELECT</span> Sno <span class="string">&#x27;选修课程数最少的学号&#x27;</span> <span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(Sno)<span class="operator">&lt;=</span> <span class="keyword">ALL</span> (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(Sno) <span class="keyword">FROM</span> sc <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno) </span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201129898.png" alt="结果展示"></p><ol start="20"><li class="lvl-4"><p>显示各个院系男女生人数，其中在结果集中列标题分别指定为“院系名称、男生人数、女生人数”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sdept,<span class="string">&#x27;男生人数&#x27;</span><span class="operator">=</span></span><br><span class="line"><span class="built_in">COUNT</span>(</span><br><span class="line"><span class="keyword">CASE</span></span><br><span class="line"><span class="keyword">WHEN</span> Ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">end</span>),</span><br><span class="line"><span class="string">&#x27;女生人数&#x27;</span><span class="operator">=</span></span><br><span class="line"><span class="built_in">COUNT</span>(</span><br><span class="line"><span class="keyword">CASE</span></span><br><span class="line"><span class="keyword">WHEN</span> Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span>(Sdept) </span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201146309.png" alt="结果展示"></p><ol start="21"><li class="lvl-4"><p>列出有二门以上课程（含两门）不及格的学生的学号及该学生的平均成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno<span class="string">&#x27;学生的学号&#x27;</span>,<span class="built_in">AVG</span>(Grade)<span class="string">&#x27;平均成绩&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> sc</span><br><span class="line"><span class="keyword">WHERE</span> Grade <span class="operator">&lt;</span><span class="number">60</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br><span class="line"><span class="keyword">Having</span> <span class="built_in">COUNT</span>(Sno)<span class="operator">&gt;=</span><span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201154800.png" alt="结果展示"></p><h1>实验五</h1><p>1、以数据库原理实验四——学生选课库中，用Transact-SQL语句实现下列简单数据查询操作。</p><ol><li class="lvl-3"><p>查询选修了计算机体系结构的学生的基本信息。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Snum <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> Snum <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> Cnum <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> Cnum <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">where</span> Cname<span class="operator">=</span><span class="string">&#x27;计算机体系结构&#x27;</span></span><br><span class="line">)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201213742.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>查询年龄比李勇小的学生的学号和成绩。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.Snum,Score <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Snum<span class="operator">=</span>sc.Snum <span class="keyword">and</span> Sage<span class="operator">&lt;</span>(</span><br><span class="line"><span class="keyword">select</span> Sage <span class="keyword">from</span> student <span class="keyword">where</span> Sname<span class="operator">=</span><span class="string">&#x27;李勇&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201226432.png" alt="结果展示"></p><ol start="3"><li class="lvl-3"><p>查询其他系中比系编号为‘D1’的学生中年龄最小者要大的学生的信息。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Dnum<span class="operator">&lt;&gt;</span><span class="string">&#x27;D1&#x27;</span> <span class="keyword">and</span> Sage<span class="operator">&gt;</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(Sage) <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Dnum<span class="operator">=</span><span class="string">&#x27;D1&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201240655.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>查询其他系中比系编号为‘D3’的学生年龄都大的学生的姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Dnum<span class="operator">&lt;&gt;</span><span class="string">&#x27;D3&#x27;</span> <span class="keyword">and</span> Sage<span class="operator">&gt;</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(Sage) <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Dnum<span class="operator">=</span><span class="string">&#x27;D3&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201253166.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>查询‘C1’课程的成绩高于70的学生姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student,SC</span><br><span class="line"><span class="keyword">where</span> Student.Snum<span class="operator">=</span>SC.Snum <span class="keyword">and</span> Cnum<span class="operator">=</span><span class="string">&#x27;C1&#x27;</span> <span class="keyword">and</span> Score <span class="operator">&lt;=</span><span class="number">70</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201304145.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>查询‘C1’课程的成绩不高于70的学生姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Snum <span class="keyword">in</span>(</span><br><span class="line"><span class="keyword">select</span> Snum <span class="keyword">from</span> SC</span><br><span class="line"><span class="keyword">where</span> Cnum <span class="operator">=</span><span class="string">&#x27;C1&#x27;</span><span class="keyword">and</span> Score<span class="operator">&lt;=</span><span class="number">70</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201317111.png" alt="结果展示"></p><ol start="7"><li class="lvl-3"><p>查询没有选修的学生姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span> (</span><br><span class="line"><span class="keyword">select</span> Snum <span class="keyword">from</span> SC</span><br><span class="line"><span class="keyword">where</span> SC.Snum<span class="operator">=</span>Student.Snum);</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201327598.png" alt="结果展示"></p><ol start="8"><li class="lvl-3"><p>查询学校开设的课程总数。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> SC</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201336857.png" alt="结果展示"></p><ol start="9"><li class="lvl-3"><p>查询选修两门及两门以上课程的学生姓名。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> Student,SC</span><br><span class="line"><span class="keyword">where</span> Student.Snum<span class="operator">=</span>SC.Snum</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Student.Snum,Sname</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(Cnum)<span class="operator">&gt;=</span><span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201348301.png" alt="结果展示"></p><ol start="10"><li class="lvl-4"><p>查询开设的课程和选修该课程的学生的总成绩、平均成绩、最高成绩和最低成绩。</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Cnum,<span class="built_in">sum</span>(Score) <span class="string">&#x27;总成绩&#x27;</span>,<span class="built_in">avg</span>(Score) <span class="string">&#x27;平均成绩&#x27;</span>,<span class="built_in">max</span>(Score) <span class="string">&#x27;最高成绩&#x27;</span>,<span class="built_in">min</span>(Score) <span class="string">&#x27;最低成绩&#x27;</span> <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> Cnum;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201400540.png" alt="结果展示"></p><p>2、以数据库原理实验四数据为基础，请使用T-SQL 语句实现进行以下操作：</p><ol><li class="lvl-3"><p>查询以‘DB_’开头,且倒数第3个字符为‘s’的课程的详细情况；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> Cname <span class="keyword">like</span> <span class="string">&#x27;DB\_%s_&#x27;</span><span class="keyword">escape</span> <span class="string">&#x27;\&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201414724.png" alt="结果展示"></p><ol start="2"><li class="lvl-3"><p>查询名字中第2个字为‘阳’的学生姓名和学号及选修的课程号、课程名；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname,student.Sno,course.Cno,Cname <span class="keyword">from</span> student,course,SC</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>SC.Sno <span class="keyword">and</span> course.Cno<span class="operator">=</span>sc.Cno <span class="keyword">and</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;_ _阳%&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201544604.png" alt="结果展示"></p><ol start="3"><li class="lvl-3"><p>列出选修了‘数学’或者‘大学英语’的学生学号、姓名、所在院系、选修课程号及成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.Sno,sname,Sdept,Cno,Grade <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> student.Sno <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">where</span> Cno <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> course</span><br><span class="line"><span class="keyword">where</span> Cname<span class="operator">=</span><span class="string">&#x27; 大学英语&#x27;</span><span class="keyword">or</span> Cname<span class="operator">=</span><span class="string">&#x27;数学&#x27;</span></span><br><span class="line">)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201556233.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>查询缺少成绩的所有学生的详细情况；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.<span class="operator">*</span> <span class="keyword">from</span> student,SC</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>SC.Sno <span class="keyword">and</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201606104.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>查询与‘张力’(假设姓名唯一)年龄不同的所有学生的信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;&gt;</span>(</span><br><span class="line"><span class="keyword">select</span> Sage <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sname <span class="operator">=</span> <span class="string">&#x27;张力&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201619124.png" alt="结果展示"></p><ol start="6"><li class="lvl-3"><p>查询所选课程的平均成绩大于张力的平均成绩的学生学号、姓名及平均成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.Sno,Sname,平均成绩<span class="operator">=</span><span class="built_in">AVG</span>(Grade) <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> student.Sno,Sname</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">AVG</span>(Grade)<span class="operator">&gt;</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">AVG</span>(Grade) <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Sname<span class="operator">=</span><span class="string">&#x27;张力&#x27;</span> <span class="keyword">and</span> student.sno<span class="operator">=</span>sc.sno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> student.Sno,Sname</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201630215.png" alt="结果展示"></p><ol start="7"><li class="lvl-3"><p>按照“学号，姓名，所在院系，已修学分”的顺序列出学生学分的获得情况。其中已修学分为考试已经及格的课程学分之和；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.Sno,Sname,Sdept,<span class="string">&#x27;已修学分&#x27;</span><span class="operator">=</span><span class="built_in">SUM</span>(Ccredit) <span class="keyword">from</span> student,course,sc</span><br><span class="line"><span class="keyword">where</span> Grade<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">and</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> sc.Cno<span class="operator">=</span>course.Cno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> student.Sno,Sname,Sdept</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201639764.png" alt="结果展示"></p><ol start="8"><li class="lvl-3"><p>列出只选修一门课程的学生的学号、姓名、院系及成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.Sno,Sname,Sdept,Grade <span class="keyword">from</span> sc,student</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> student.Sno <span class="keyword">in</span>(</span><br><span class="line"><span class="keyword">select</span> student.Sno <span class="keyword">from</span> sc,student</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> student.Sno <span class="keyword">having</span> <span class="built_in">count</span>(sc.Cno)<span class="operator">=</span><span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201649182.png" alt="结果展示"></p><ol start="9"><li class="lvl-3"><p>查询选修“数据库”或“数据结构”课程的学生的基本信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student.sno,sname,Ssex,Sage,Sdept</span><br><span class="line"><span class="keyword">from</span> student,sc,course</span><br><span class="line"><span class="keyword">where</span> student.sno<span class="operator">=</span>sc.sno <span class="keyword">and</span></span><br><span class="line">sc.cno<span class="operator">=</span>course.cno <span class="keyword">and</span></span><br><span class="line">sc.sno <span class="keyword">in</span>(<span class="keyword">select</span> sc.sno <span class="keyword">from</span> sc,course</span><br><span class="line"><span class="keyword">where</span> (cname<span class="operator">=</span><span class="string">&#x27;数据库&#x27;</span><span class="keyword">or</span> cname<span class="operator">=</span><span class="string">&#x27;数据结构&#x27;</span>)<span class="keyword">and</span> </span><br><span class="line">sc.cno<span class="operator">=</span>course.cno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sc.sno</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">=</span><span class="number">2</span>)</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> student.sno,sname,Ssex,Sage,Sdept</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">=</span><span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201701227.png" alt="结果展示"></p><p><mark>选修了“数据库”或“数据结构”课程，选择了其他课程不可以入选</mark></p><ol start="10"><li class="lvl-4"><p>列出所有课程被选修的详细情况，包括课程号、课程名、学号、姓名及成绩；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> course.Cno,Cname,student.Sno,Sname,Grade <span class="keyword">from</span> student,sc,course</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> sc.Cno<span class="operator">=</span>course.Cno</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> course.Cno</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201711529.png" alt="结果展示"></p><ol start="11"><li class="lvl-4"><p>查询只被一名学生选修的课程的课程号、课程名；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sc.Cno,Cname <span class="keyword">from</span> sc,course</span><br><span class="line"><span class="keyword">where</span> sc.Cno<span class="operator">=</span>course.Cno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> sc.Cno,Cname <span class="keyword">having</span> <span class="built_in">COUNT</span>(sc.Sno)<span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201722215.png" alt="结果展示"></p><ol start="12"><li class="lvl-4"><p>检索所学课程包含学生‘张向东’所学课程的学生学号、姓名；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> student.Sno,student.Sname <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> sc.Cno <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> sc.Cno <span class="keyword">from</span> student,sc</span><br><span class="line"><span class="keyword">where</span> student.Sno<span class="operator">=</span>sc.Sno <span class="keyword">and</span> student.Sname<span class="operator">=</span><span class="string">&#x27;张向东&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201731632.png" alt="结果展示"></p><ol start="13"><li class="lvl-4"><p>检索所学课程包含学生‘张向东’所学全部课程的学生学号、姓名；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> course.sno,sname <span class="keyword">from</span> sc course,student</span><br><span class="line"><span class="keyword">where</span> student.sno<span class="operator">=</span>course.sno <span class="keyword">and</span> student.sname<span class="operator">&lt;&gt;</span><span class="string">&#x27;张向东&#x27;</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc scy,student</span><br><span class="line"><span class="keyword">where</span> scy.sno<span class="operator">=</span>student.sno <span class="keyword">and</span> student.sname<span class="operator">=</span><span class="string">&#x27;张向东&#x27;</span> <span class="keyword">and</span> <span class="keyword">not</span> <span class="keyword">exists</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sc scz</span><br><span class="line"><span class="keyword">where</span> scz.sno<span class="operator">=</span>course.sno <span class="keyword">and</span> scz.cno<span class="operator">=</span>scy.cno</span><br><span class="line">)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201741827.png" alt="结果展示"></p><ol start="14"><li class="lvl-4"><p>使用嵌套查询列出选修了“数据结构”课程的学生学号和姓名；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sno,Sname <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sno <span class="keyword">in</span> (</span><br><span class="line"><span class="keyword">select</span> Sno <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">where</span> Cno <span class="keyword">in</span>(</span><br><span class="line"><span class="keyword">select</span> Cno <span class="keyword">from</span> course <span class="keyword">where</span> Cname<span class="operator">=</span><span class="string">&#x27;数据结构&#x27;</span></span><br><span class="line">)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201752179.png" alt="结果展示"></p><ol start="15"><li class="lvl-4"><p>使用嵌套查询查询其它系中年龄小于CS系的某个学生的学生姓名、年龄和院系；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 姓名<span class="operator">=</span>Sname,年龄<span class="operator">=</span>Sage,院系<span class="operator">=</span>Sdept <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;</span><span class="keyword">any</span>(</span><br><span class="line"><span class="keyword">select</span> Sage <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">and</span> Sdept<span class="operator">!=</span><span class="string">&#x27;CS&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201802047.png" alt="结果展示"></p><ol start="16"><li class="lvl-4"><p>使用ANY、ALL 查询，列出其他院系中比CS系所有学生年龄小的学生；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname,Sage <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;</span><span class="keyword">ANY</span> (<span class="keyword">select</span> <span class="built_in">min</span>(Sage) <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span>)<span class="keyword">and</span> Sdept<span class="operator">&lt;&gt;</span><span class="string">&#x27;CS&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> Sname,Sage <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;</span> <span class="keyword">ALL</span>(</span><br><span class="line"><span class="keyword">select</span> Sage <span class="keyword">from</span> Student</span><br><span class="line"><span class="keyword">where</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span>)<span class="keyword">and</span> Sdept<span class="operator">&lt;&gt;</span><span class="string">&#x27;CS&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201911143.png" alt="结果展示"></p><ol start="17"><li class="lvl-4"><p>分别使用连接查询和嵌套查询，列出与‘张力’在一个院系的学生的信息；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> first.<span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">first</span>,student <span class="keyword">second</span></span><br><span class="line"><span class="keyword">where</span> first.sdept<span class="operator">=</span>second.sdept <span class="keyword">and</span> second.sname<span class="operator">=</span><span class="string">&#x27;张力&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sdept<span class="operator">=</span>(</span><br><span class="line"><span class="keyword">select</span> sdept <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> sname<span class="operator">=</span><span class="string">&#x27;张力&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201920871.png" alt="结果展示"></p><ol start="18"><li class="lvl-4"><p>使用集合查询列出CS系的学生以及性别为女的学生名单；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> Sname <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> Sname <span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Ssex<span class="operator">=</span><span class="string">&#x27; 女&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201929197.png" alt="结果展示"></p><ol start="19"><li class="lvl-4"><p>使用集合查询列出CS系的学生与年龄不大于19岁的学生的交集、差集；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span><span class="keyword">intersect</span> <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;=</span><span class="number">19</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">except</span> <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> student</span><br><span class="line"><span class="keyword">where</span> Sage<span class="operator">&lt;=</span><span class="number">19</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201941970.png" alt="结果展示"></p><ol start="20"><li class="lvl-4"><p>使用集合查询列出选修课程1的学生集合与选修课程2的学生集合的交集；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sno <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">where</span> Cno<span class="operator">=</span><span class="number">1</span> <span class="keyword">intersect</span> <span class="keyword">select</span> sno <span class="keyword">from</span> sc</span><br><span class="line"><span class="keyword">where</span> Cno<span class="operator">=</span><span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429201954038.png" alt="结果展示"></p><h1>实验六</h1><p>以系统管理员身份登录到SQL Server服务器，在SQL Server2005界面中实现以下操作；</p><ol><li class="lvl-3"><p>在当前计算机中增加一个用户zhang和cheng，密码为secret。使此用户通过winows nt模式下登录SQL Server服务器，登录名分别为zhang和cheng；</p></li></ol><p>| <img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202027594.png" alt="步骤展示" style="zoom: 50%;"> | <img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202051947.png" alt="步骤展示" style="zoom: 50%;"> |</p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202107631.png" alt="步骤展示"></p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202125587.png" alt="步骤展示"></p><p>| <img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202135123.png" alt="步骤展示" style="zoom: 67%;"> | <img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202146371.png" alt="步骤展示" style="zoom: 67%;"> |</p><ol><li class="lvl-3"><p>新建以混合模式登录SQL Server服务器的用户登录名为stu1、stu2和stu3，登录密码为secret，默认登录数据库为stu；</p></li></ol><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202206437.png" alt="步骤展示"></p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202224913.png" alt="步骤展示"></p><ol start="3"><li class="lvl-3"><p>将帐号zhang添加为数据库stu的用户，用户名为zhang；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> zhang <span class="keyword">for</span> login [LAPTOP<span class="number">-0</span>LH877B2\zhang]</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202305134.png" alt="结果展示"></p><ol start="4"><li class="lvl-3"><p>在数据库stu中创建用户stu1、stu2和stu3，登录帐号分别为stu1、stu2和stu3；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> stu1 <span class="keyword">for</span> login stu1</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> stu2 <span class="keyword">for</span> login stu2</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> stu3 <span class="keyword">for</span> login stu3</span><br></pre></td></tr></table></figure><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202326806.png" alt="结果展示"></p><ol start="5"><li class="lvl-3"><p>给数据库用户zhang赋予创建数据库的权限；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> database <span class="keyword">to</span> zhang</span><br></pre></td></tr></table></figure><p>或者</p><p><img src="/2022/04/23/%E6%95%B0%E6%8D%AE%E5%BA%93/image-20220429202343536.png" alt="步骤展示"></p><ol start="6"><li class="lvl-3"><p>给数据库用户stu1赋予对sc表进行插入、修改、删除操作权限；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">insert</span>,<span class="keyword">alter</span>,<span class="keyword">delete</span> <span class="keyword">on</span> sc <span class="keyword">to</span> stu1</span><br></pre></td></tr></table></figure><ol start="7"><li class="lvl-3"><p>给数据库用户stu2和stu3赋予对student表、course表所有操作权限及查询sc的操作权限，并允许再授权给其他用户；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> PRIVILEGES <span class="keyword">on</span> student <span class="keyword">to</span> stu2,stu3</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> PRIVILEGES <span class="keyword">on</span> course <span class="keyword">to</span> stu2,stu3</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION</span><br></pre></td></tr></table></figure><ol start="8"><li class="lvl-3"><p>收回数据库用户stu2对student表和course表的删除操作的权限；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="keyword">delete</span> <span class="keyword">on</span> student <span class="keyword">to</span> stu2 cascade</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">delete</span> <span class="keyword">on</span> course <span class="keyword">to</span> stu2 cascade</span><br></pre></td></tr></table></figure><ol start="9"><li class="lvl-3"><p>若一个小组共5个成员，他们对数据库stu具有相同的操作权限，具体权限如下：</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> role small_group</span><br></pre></td></tr></table></figure><pre><code>1）对于student、course表只能进行数据查询；</code></pre><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> student <span class="keyword">to</span> small_group</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> course <span class="keyword">to</span> small_group</span><br></pre></td></tr></table></figure><pre><code>2）只能对student表中sname进行更改；</code></pre><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span> <span class="keyword">on</span> student(sname) <span class="keyword">to</span> small_group</span><br></pre></td></tr></table></figure><pre><code>3）对于sc表只能进行修改、删除或插入；</code></pre><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span>,<span class="keyword">delete</span>,<span class="keyword">insert</span> <span class="keyword">on</span> sc <span class="keyword">to</span> small_group</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> cheng <span class="keyword">for</span> login [LAPTOP<span class="number">-0</span>LH877B2\cheng]</span><br><span class="line"><span class="keyword">exec</span> sp_addrolemember <span class="string">&#x27;xiaozu&#x27;</span>, <span class="string">&#x27;stu1&#x27;</span></span><br><span class="line"><span class="keyword">exec</span> sp_addrolemember <span class="string">&#x27;xiaozu&#x27;</span>, <span class="string">&#x27;stu2&#x27;</span></span><br><span class="line"><span class="keyword">exec</span> sp_addrolemember <span class="string">&#x27;xiaozu&#x27;</span>, <span class="string">&#x27;stu3&#x27;</span></span><br><span class="line"><span class="keyword">exec</span> sp_addrolemember <span class="string">&#x27;xiaozu&#x27;</span>, <span class="string">&#x27;zhang&#x27;</span></span><br><span class="line"><span class="keyword">exec</span> sp_addrolemember <span class="string">&#x27;xiaozu&#x27;</span>, <span class="string">&#x27;cheng&#x27;</span></span><br></pre></td></tr></table></figure><h1>实验七</h1><p><strong>没有图片是因为我也是从网上获取</strong></p><p>以系统管理员身份登录到SQL Server服务器，并使用T-SQL语句实现以下操作；</p><ol><li class="lvl-3"><p>请用至少2种方法定义stu数据库中student表的主键sno；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">9</span>) <span class="keyword">primary</span> key,</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">6</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>),</span><br><span class="line">Sage <span class="type">int</span>,</span><br><span class="line">Sdept <span class="type">varchar</span>(<span class="number">8</span>),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">9</span>),</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">6</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>),</span><br><span class="line">Sage <span class="type">int</span>,</span><br><span class="line">Sdept <span class="type">varchar</span>(<span class="number">8</span>),</span><br><span class="line"><span class="keyword">primary</span> key(Sno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>将数据库stu的表course的cno字段定义为主键，约束名称为cno_pk;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> cno_pk <span class="keyword">primary</span> key(cno)</span><br></pre></td></tr></table></figure><ol start="3"><li class="lvl-3"><p>为表course中的字段cname添加唯一值约束；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> C2 <span class="keyword">unique</span>(cname)</span><br></pre></td></tr></table></figure><ol start="4"><li class="lvl-3"><p>将数据库stu的表sc的sno及cno字段组合定义为主键，约束名称为sc_pk;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sc_pk <span class="keyword">primary</span> key(sno,cno</span><br></pre></td></tr></table></figure><ol start="5"><li class="lvl-3"><p>对于数据表sc的sno、cno字段定义为外码，使之与表student的主码sno及表course的主码cno对应，实现如下参照完整性：</p><p>1）删除student表中记录的同时删除sc表中与该记录sno字段值相同的记录；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sc1 <span class="keyword">foreign</span> key(sno) <span class="keyword">references</span> student(sno)</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">delete</span> cascade</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">no</span> action</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> sc2 <span class="keyword">foreign</span> key(cno) <span class="keyword">references</span> course(cno)</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">delete</span> cascade</span><br><span class="line"><span class="keyword">on</span> <span class="keyword">update</span> cascad</span><br></pre></td></tr></table></figure><pre><code>2）修改student表某记录的sno时，若sc表中与该字段值对应的有若干条记录，则拒绝修改；3）修改course表cno字段值时，该字段在sc表中的对应值也应修改；4）删除course表一条记录时，若该字段在在sc表中存在，则删除该字段对应的记录；5）向sc表添加记录时，如果该记录的sno字段的值在student中不存在，则拒绝插入；</code></pre><ol start="6"><li class="lvl-3"><p>定义check约束，要求学生学号sno必须为9位数字字符，且不能以0开头，第二三位皆为0；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> Ccheck <span class="keyword">check</span>(sno <span class="keyword">like</span> <span class="string">&#x27;[1-9]00[0-9][0-9][0-9][0-9][0-9][0-9]&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="7"><li class="lvl-3"><p>定义stu数据库中student表中学生年龄值在16-25范围内；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> check7 <span class="keyword">check</span> (sage <span class="keyword">between</span> <span class="number">16</span> <span class="keyword">and</span> <span class="number">25</span>)</span><br></pre></td></tr></table></figure><ol start="8"><li class="lvl-3"><p>定义stu数据库中student表中学生姓名长度在2-8之间；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> check8 <span class="keyword">check</span> (len(Sname) <span class="keyword">between</span> <span class="number">2</span> <span class="keyword">and</span></span><br></pre></td></tr></table></figure><ol start="9"><li class="lvl-3"><p>定义stu数据库中student表中学生性别列中只能输入“男”或“女”；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> check9 <span class="keyword">check</span>(ssex <span class="keyword">in</span> (<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>))</span><br></pre></td></tr></table></figure><ol start="10"><li class="lvl-4"><p>定义stu数据库student表中学生年龄值默认值为20；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> check10 <span class="keyword">default</span> <span class="number">20</span> <span class="keyword">for</span> Sag</span><br></pre></td></tr></table></figure><ol start="11"><li class="lvl-4"><p>修改student表学生的年龄值约束可以为15-30范围内；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> check7</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">constraint</span> check7 <span class="keyword">check</span> (sage <span class="keyword">between</span> <span class="number">15</span> <span class="keyword">and</span> <span class="number">30</span>)</span><br></pre></td></tr></table></figure><ol start="12"><li class="lvl-4"><p>删除上述唯一值约束、外键约束及check约束；</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> check7,check8,check9,check10</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> course</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">constraint</span> cno_pk,C2,sc_pk</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sc</span><br><span class="line"><span class="keyword">drop</span> </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQL </tag>
            
            <tag> 大数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>花瓶的自我美化</title>
      <link href="/2022/04/22/%E8%8A%B1%E7%93%B6%E7%9A%84%E8%87%AA%E6%88%91%E7%BE%8E%E5%8C%96/"/>
      <url>/2022/04/22/%E8%8A%B1%E7%93%B6%E7%9A%84%E8%87%AA%E6%88%91%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h1>前言</h1><h2 id="写在前面">写在前面</h2><p>由于一次又一次的失败，我已经对博客快吐了！！</p><p>这里我系统化的一步一个脚印记录我的安装点滴。（其实也无非就是标注了一下资料的位置而已！）</p><h2 id="写给下一代">写给下一代</h2><p>小盆友们对我的博客蛮感兴趣的，所以索性做一个完整的demo帮助他们如何在只有C/C++的基础上，不需要网上试坑就搭建好一个属于自己的博客</p><h1>前置工具</h1><p>node</p><p>git</p><p>typora</p><h1>markdown介绍</h1><h2 id="破解typora">破解typora</h2><p>教程网址：<a href="https://www.cnblogs.com/LiuDanK/articles/15638323.html">Typora破解教程 - SeeSharper - 博客园 (cnblogs.com)</a></p><p>B站视频教程：https://www.bilibili.com/video/BV11a41187zh?share_source=copy_web</p><div align="center" class="aspect-ratio">    <iframe src="https://www.bilibili.com/video/BV11a41187zh?share_source=copy_web" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">     </iframe></div>## markdown使用教程<p>其实只需要学会标题表格一些很简单的操作，<strong>markdown的好处就是不需要排版</strong>，可以导出为pdf、word和HTML等格式。写期末报告的时候真的很爽！</p><p>B站视频教程：https://www.bilibili.com/video/BV1Fg411j7CW?share_source=copy_web</p><div align="center" class="aspect-ratio">    <iframe src="https://www.bilibili.com/video/BV1Fg411j7CW?share_source=copy_web" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">     </iframe></div># 搭建hexo博客<p>参考视频：</p><p>https://www.bilibili.com/video/BV1mU4y1j72n?p=5&amp;share_source=copy_web</p><div align="center" class="aspect-ratio">    <iframe src="https://www.bilibili.com/video/BV1mU4y1j72n?p=5&share_source=copy_web" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">     </iframe></div><p>严格按照视频的来没有问题</p><ol><li class="lvl-3"><p>cnpm install -g hexo 注：管理员身份打开</p></li><li class="lvl-3"><p>hexo init</p></li><li class="lvl-3"><p>hexo s</p></li><li class="lvl-3"><p>cnpm install hexo-deployer-git --save</p></li><li class="lvl-3"><p>hexo g</p></li><li class="lvl-3"><p>hexo d（如果不成功多试几遍）</p></li></ol><p>注意： 若本地化打开不成功，切换各种各样的端口</p><p>hexo s -p 80</p><p>hexo s -p 5000</p><p>注意：若hexo d 之后没有正常上传，按Ctrl+ F5 刷新浏览器</p><h1>butterfly主题美化</h1><p>butterfly主题官网：<a href="https://butterfly.js.org/">Butterfly - A Simple and Card UI Design theme for Hexo</a></p><p>美化教程：https://www.bilibili.com/video/BV1d64y1q7KS?share_source=copy_web</p><div align="center" class="aspect-ratio">    <iframe src="https://www.bilibili.com/video/BV1d64y1q7KS?share_source=copy_web" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">     </iframe></div><p>风车设计：<a href="https://guole.fun/posts/butterfly-custom/#post-comment">我的 Blog 美化日记 ——Hexo+Butterfly | Guo Le’s Blog</a></p><p>插入视频（教程在上面的风车设计博客链接里面）：只需要修改地址即可，http……</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">center</span> <span class="attr">class</span>=<span class="string">&quot;aspect-ratio&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;iframe src=&quot;https://player.bilibili.com/player.html?aid=9926758&amp;&amp;page=1&amp;as_wide=1&amp;high_quality=1&amp;danmaku=0&quot; </span></span><br><span class="line"><span class="code">    scrolling=&quot;no&quot; </span></span><br><span class="line"><span class="code">    border=&quot;0&quot; </span></span><br><span class="line"><span class="code">    frameborder=&quot;no&quot; </span></span><br><span class="line"><span class="code">    framespacing=&quot;0&quot; </span></span><br><span class="line"><span class="code">    high_quality=1</span></span><br><span class="line"><span class="code">    danmaku=1 </span></span><br><span class="line"><span class="code">    allowfullscreen=&quot;true&quot;&gt; </span></span><br><span class="line"><span class="code">    &lt;/iframe&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h2 id="插入图片">插入图片</h2><h3 id="方法一：hexo-renderer-marked">方法一：hexo-renderer-marked</h3><p>hexo文章中如何放入图片? - WalkOnAir的回答 - 知乎 https://www.zhihu.com/question/419663130/answer/1907420868</p><p><img src="/2022/04/22/%E8%8A%B1%E7%93%B6%E7%9A%84%E8%87%AA%E6%88%91%E7%BE%8E%E5%8C%96/John_King.webp" alt="John_King"></p><p>注意：在下载数学公式渲染插件不需要删除hexo-renderer-marked</p><p>即下面的代码不需要执行第一行，不然图片会无法渲染</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><h3 id="方法二：hexo-asset-image">方法二：hexo-asset-image</h3><p>https://blog.csdn.net/qq_59153970/article/details/124595318</p><p>https://blog.csdn.net/qq_42951560/article/details/123596899</p><p>添加阔爱小人www</p><p><a href="https://zhuanlan.zhihu.com/p/349278862">给hexo博客添加Live2d小人 - 知乎 (zhihu.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> 乐子 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
